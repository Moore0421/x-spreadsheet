{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@handsontable/formulajs/lib/utils/error.js","webpack:///./node_modules/@handsontable/formulajs/lib/utils/common.js","webpack:///./node_modules/@handsontable/formulajs/index.js","webpack:///./node_modules/@handsontable/formulajs/lib/math-trig.js","webpack:///./node_modules/@handsontable/formulajs/lib/statistical.js","webpack:///./node_modules/@handsontable/formulajs/lib/text.js","webpack:///./node_modules/@handsontable/formulajs/lib/utils/criteria-eval.js","webpack:///./node_modules/@handsontable/formulajs/lib/information.js","webpack:///./node_modules/@handsontable/formulajs/lib/date-time.js","webpack:///./node_modules/jstat/dist/jstat.js","webpack:///./node_modules/@handsontable/formulajs/lib/miscellaneous.js","webpack:///./node_modules/@handsontable/formulajs/lib/engineering.js","webpack:///./node_modules/tiny-emitter/index.js","webpack:///./node_modules/@handsontable/formulajs/lib/compatibility.js","webpack:///./node_modules/bessel/bessel.js","webpack:///./node_modules/@handsontable/formulajs/lib/database.js","webpack:///./node_modules/@handsontable/formulajs/lib/logical.js","webpack:///./node_modules/@handsontable/formulajs/lib/financial.js","webpack:///./node_modules/@handsontable/formulajs/lib/lookup-reference.js","webpack:///./src/component/element.js","webpack:///./src/core/alphabet.js","webpack:///./src/core/cell_range.js","webpack:///./src/core/selector.js","webpack:///./src/core/scroll.js","webpack:///./src/core/history.js","webpack:///./src/core/clipboard.js","webpack:///./src/core/auto_filter.js","webpack:///./src/core/merge.js","webpack:///./src/core/helper.js","webpack:///./src/core/row.js","webpack:///./src/core/col.js","webpack:///./src/locale/locale.js","webpack:///./src/locale/en.js","webpack:///./src/core/validator.js","webpack:///./src/core/validation.js","webpack:///./src/utils.js","webpack:///./src/core/sheetConfig.js","webpack:///./src/core/data_proxy.js","webpack:///./src/component/event.js","webpack:///./src/config.js","webpack:///./src/component/resizer.js","webpack:///./src/component/scrollbar.js","webpack:///./src/component/selector.js","webpack:///./src/component/suggest.js","webpack:///./src/component/icon.js","webpack:///./src/component/calendar.js","webpack:///./src/component/datepicker.js","webpack:///./src/component/editor.js","webpack:///./src/component/button.js","webpack:///./src/canvas/draw.js","webpack:///./src/core/font.js","webpack:///./node_modules/hot-formula-parser/error.mjs","webpack:///./node_modules/hot-formula-parser/helper/number.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/add.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/ampersand.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/divide.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/equal.mjs","webpack:///./node_modules/hot-formula-parser/supported-formulas.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/formula-function.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/greater-than.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/greater-than-or-equal.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/less-than.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/less-than-or-equal.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/minus.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/multiply.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/not-equal.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/operator/power.mjs","webpack:///./node_modules/hot-formula-parser/evaluate-by-operator/evaluate-by-operator.mjs","webpack:///./node_modules/hot-formula-parser/grammar-parser/grammar-parser.mjs","webpack:///./node_modules/hot-formula-parser/helper/string.mjs","webpack:///./node_modules/hot-formula-parser/helper/cell.mjs","webpack:///./node_modules/hot-formula-parser/parser.mjs","webpack:///./src/core/cell.js","webpack:///./src/core/formula.js","webpack:///./src/core/format.js","webpack:///./src/component/table.js","webpack:///./src/component/print.js","webpack:///./src/component/contextmenu.js","webpack:///./src/component/toolbar/item.js","webpack:///./src/component/tooltip.js","webpack:///./src/component/toolbar/dropdown_item.js","webpack:///./src/component/dropdown.js","webpack:///./src/component/dropdown_align.js","webpack:///./src/component/toolbar/align.js","webpack:///./src/component/toolbar/valign.js","webpack:///./src/component/toolbar/toggle_item.js","webpack:///./src/component/toolbar/autofilter.js","webpack:///./src/component/toolbar/bold.js","webpack:///./src/component/toolbar/grid.js","webpack:///./src/component/toolbar/italic.js","webpack:///./src/component/toolbar/strike.js","webpack:///./src/component/toolbar/underline.js","webpack:///./src/component/color_palette.js","webpack:///./src/component/dropdown_color.js","webpack:///./src/component/dropdown_linetype.js","webpack:///./src/component/border_palette.js","webpack:///./src/component/dropdown_border.js","webpack:///./src/component/toolbar/border.js","webpack:///./src/component/toolbar/icon_item.js","webpack:///./src/component/toolbar/clearformat.js","webpack:///./src/component/toolbar/paintformat.js","webpack:///./src/component/toolbar/text_color.js","webpack:///./src/component/toolbar/fill_color.js","webpack:///./src/component/dropdown_fontsize.js","webpack:///./src/component/toolbar/font_size.js","webpack:///./src/component/dropdown_font.js","webpack:///./src/component/toolbar/font.js","webpack:///./src/component/dropdown_format.js","webpack:///./src/component/toolbar/format.js","webpack:///./src/component/dropdown_formula.js","webpack:///./src/component/toolbar/formula.js","webpack:///./src/component/toolbar/freeze.js","webpack:///./src/component/toolbar/merge.js","webpack:///./src/component/toolbar/redo.js","webpack:///./src/component/toolbar/undo.js","webpack:///./src/component/toolbar/print.js","webpack:///./src/component/toolbar/textwrap.js","webpack:///./src/component/toolbar/more.js","webpack:///./src/component/toolbar/index.js","webpack:///./src/component/modal.js","webpack:///./src/component/form_input.js","webpack:///./src/component/form_select.js","webpack:///./src/component/form_field.js","webpack:///./src/component/modal_validation.js","webpack:///./src/component/sort_filter.js","webpack:///./src/component/message.js","webpack:///./src/component/sheetContext.js","webpack:///./src/component/sheet.js","webpack:///./src/component/bottombar.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","nil","Error","div0","ref","num","na","error","data","flattenShallow","array","reduce","a","b","aIsArray","Array","isArray","bIsArray","concat","push","isFlat","length","flatten","result","argsToArray","apply","arguments","args","arrayEach","numbers","possibleNumbers","this","filter","el","cleanFloat","number","Math","round","parseBool","bool","up","toUpperCase","Date","isNaN","parseNumber","string","undefined","parseFloat","parseNumberArray","arr","len","parsed","parseMatrix","matrix","pnarr","d1900","UTC","parseDate","date","parseInt","getTime","parseDateArray","anyIsError","arrayValuesToNumbers","rest","idx","slice","initial","iteratee","index","transpose","map","col","row","categories","category","f","utils","statistical","information","evalExpression","ABS","abs","ACOS","acos","ACOSH","log","sqrt","ACOT","atan","ACOTH","AGGREGATE","function_num","options","ref1","ref2","AVERAGE","COUNT","COUNTA","MAX","MIN","PRODUCT","STDEV","S","P","SUM","VAR","MEDIAN","MODE","SNGL","LARGE","SMALL","PERCENTILE","INC","QUARTILE","EXC","ARABIC","text","test","replace","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I","ASIN","asin","ASINH","ATAN","ATAN2","number_x","number_y","atan2","ATANH","BASE","radix","min_length","toString","max","join","CEILING","significance","precision","floor","ROUND","ceil","MATH","PRECISE","COMBIN","number_chosen","FACT","COMBINA","COS","cos","COSH","exp","COT","tan","COTH","e2","CSC","sin","CSCH","DECIMAL","DEGREES","PI","EVEN","EXP","MEMOIZED_FACT","FACTDOUBLE","FLOOR","GCD","range","r0","x","ri","y","INT","ISO","LCM","j","pop","splice","LN","LN10","LN2","LOG10E","LOG2E","LOG","base","LOG10","MOD","dividend","divisor","modulus","MROUND","multiple","MULTINOMIAL","sum","ODD","temp","E","POWER","power","pow","QUOTIENT","numerator","denominator","RADIANS","RAND","random","RANDBETWEEN","bottom","top","ROMAN","digits","String","split","roman","ROUNDDOWN","ROUNDUP","SEC","SECH","SERIESSUM","coefficients","SIGN","SIN","SINH","SQRT","SQRTPI","SQRT1_2","SQRT2","SUBTOTAL","function_code","ADD","num1","num2","MINUS","DIVIDE","MULTIPLY","factor1","factor2","GTE","LT","LTE","EQ","value1","value2","NE","POW","exponent","SUMIF","criteria","isWildcard","tokenizedCriteria","parse","tokens","createToken","TOKEN_TYPE_LITERAL","compute","SUMIFS","shift","criterias","n_range_elements","criteriaLength","isMeetCondition","computedResult","SUMPRODUCT","product","k","_i","_ij","arrays","SUMSQ","ISNUMBER","SUMX2MY2","array_x","array_y","SUMX2PY2","SUMXMY2","TAN","TANH","TRUNC","mathTrig","jStat","misc","AVEDEV","subtract","mean","count","AVERAGEA","AVERAGEIF","average_range","average_count","AVERAGEIFS","average","BETA","DIST","alpha","beta","cumulative","A","B","cdf","pdf","INV","probability","inv","BINOM","successes","trials","binomial","RANGE","successes2","CHISQ","chisquare","RT","TEST","observed","expected","tmp","dof","xsqr","Pi","ChiSq","COLUMN","COLUMNS","cols","CONFIDENCE","NORM","sd","normalci","T","tci","CORREL","array1","array2","corrcoeff","COUNTBLANK","COUNTIN","element","blanks","COUNTIF","matches","COUNTIFS","results","COUNTUNIQUE","UNIQUE","COVARIANCE","mean1","mean2","covariance","DEVSQ","EXPON","lambda","exponential","F","d1","d2","centralF","sumOfSquares","values","x1","x2","FISHER","FISHERINV","e2y","FORECAST","data_y","data_x","xmean","ymean","den","FREQUENCY","bins","GAMMA","gammafn","gamma","GAMMALN","gammaln","GAUSS","z","normal","GEOMEAN","geomean","GROWTH","known_y","known_x","new_x","use_const","avg_x","avg_y","avg_xy","avg_xx","new_y","HARMEAN","HYPGEOM","N","INTERCEPT","KURT","sigma","stdev","sort","LINEST","LOGEST","LOGNORM","lognormal","MAXA","median","min","MINA","MULT","currentItem","maxItems","NEGBINOM","negbin","PEARSON","den1","den2","fl","PERCENTRANK","uniques","match","indexOf","PERMUT","PERMUTATIONA","PHI","POISSON","poisson","PROB","lower","upper","sorted","quart","RANK","AVG","order","ROW","ROWS","rows","RSQ","SKEW","m2","m3","SLOPE","STANDARDIZE","v","STDEVA","VARA","STDEVPA","VARPA","STEYX","lft","TRANSPOSE","df","studentt","mean_x","mean_y","s_x","s_y","TREND","new_data_x","linest","forEach","TRIMMEAN","percent","trim","WEIBULL","Z","ASC","BAHTTEXT","CHAR","fromCharCode","CLEAN","CODE","charCodeAt","CONCATENATE","trueFound","falseFound","DBCS","DOLLAR","EXACT","text1","text2","FIND","find_text","within_text","position","FIXED","HTML2TEXT","line","LEFT","substring","LEN","LOWER","toLowerCase","MID","start","begin","end","NUMBERVALUE","decimal_separator","group_separator","Number","PRONETIC","PROPER","txt","charAt","substr","REGEXEXTRACT","regular_expression","RegExp","REGEXMATCH","full","REGEXREPLACE","replacement","REPLACE","new_text","REPT","RIGHT","SEARCH","foundAt","SPLIT","separator","SUBSTITUTE","old_text","occurrence","TEXT","TRIM","UNICHAR","UNICODE","UPPER","VALUE","validSymbols","SUPPORTED_TOKENS","type","analyzeTokens","literalValue","analyzedTokens","token","unshift","TOKEN_TYPE_OPERATOR","expression","expressionLength","cursorIndex","processedValue","processedSymbol","char","tokenizeExpression","operator","evaluate","CELL","ERROR","TYPE","error_val","INFO","ISBLANK","ISBINARY","ISERR","isFinite","ISERROR","ISEVEN","ISFORMULA","ISLOGICAL","ISNA","ISNONTEXT","ISODD","ISREF","ISTEXT","NA","SHEET","SHEETS","WEEK_STARTS","WEEK_TYPES","WEEKEND_TYPES","isLeapYear","year","getMonth","daysBetween","start_date","end_date","serial","addOn","DATE","month","day","DATEVALUE","date_text","modifier","DAY","serial_number","getDate","DAYS","DAYS360","method","ed","sm","em","smd","getFullYear","emd","EDATE","months","setMonth","EOMONTH","HOUR","getHours","INTERVAL","second","hour","sec","ISOWEEKNUM","setHours","setDate","getDay","yearStart","MINUTE","getMinutes","MONTH","NETWORKDAYS","holidays","INTL","weekend","h","days","total","getTimezoneOffset","getUTCDay","dec","holiday","NOW","SECOND","getSeconds","TIME","minute","TIMEVALUE","time_text","TODAY","WEEKDAY","return_type","WEEKNUM","week_start","jan","inc","WORKDAY","YEAR","YEARFRAC","basis","sy","ey","ylength","date1","date2","year1","mar1year1","year2","mar1year2","feb29Between","years","isFunction","ascNum","clip","arg","sumsqrd","sumsqerr","sumrow","prod","low","high","unique","hash","_arr","meansqerr","logs","meanOfLogs","arrlen","cumsum","cumreduce","cumprod","diff","diffs","arrLen","rank","distinctNumbers","numberCounts","sortedDistinctNumbers","numberRanks","currentRank","maxCount","numMaxCount","mode_arr","variance","flag","pooledvariance","samples","deviation","dev","pooledstdev","meandev","meddev","coeffvar","quartiles","quantiles","quantilesArray","alphap","betap","aleph","sortedArray","quantileVals","percentile","exclusive","realIndex","frac","percentileOfScore","score","kind","counter","strict","histogram","binCnt","first","binWidth","arr1","arr2","u","arr1Len","sq_dev","spearmancoeff","stanMoment","mu","skewSum","skewness","kurtosis","jProto","funcs","passfunc","fullbool","func","tmpthis","setTimeout","toVector","callbackFunction","argsToPass","curriedFunction","vector","calcRdx","val","isNumber","_init","retZero","retOne","retIdent","fn","seq","toArray","constructor","_random_fn","setRandom","TypeError","extend","obj","dimensions","rowa","submat","arange","ind","column","cola","diag","nrow","res","antidiag","objArr","toAlter","ncol","alter","zeros","ones","rand","identity","symmetric","size","clear","cnt","hival","step","current","rl","_slice","list","copy","rcSlice","colSlice","rowSlice","sliceAssign","nl","ml","diagonal","diagArray","mat","self","xx","cof","ser","loggam","x0","xp","gl","gl0","yi","q","fact","xden","xnum","Infinity","gammap","lowRegGamma","an","aln","ap","del","ITMAX","NaN","factorialln","factorial","combination","combinationln","permutation","betafn","betaln","betacf","aa","qab","qap","qam","gammapinv","pp","lna1","afac","a1","gln","erf","ty","isneg","dd","erfc","erfcinv","err","ibetainv","lna","lnb","al","w","b1","ibeta","bt","randn","randg","shape","a2","oalph","betinc","eps","c9","a0","b0","m9","tukeyWprob","rr","cc","xleg","aleg","qsqz","wincr","pr_w","blb","binc","bub","einsum","cc1","wi","elsum","jj","ac","qexpo","rinsum","_a","_b","_c","newthis","sample","vals","fnfunc","df1","df2","cauchy","local","scale","rate","invgamma","kumaraswamy","noncentralt","ncp","flip","prob","lastvalue","std","pareto","dof2","weibull","uniform","betacdf","hypgeom","scaledPDF","samplesDone","scaledCDF","factor","sumarr","sampleSmall","sampleLarge","U","slam","loglam","invalpha","vr","us","lam","triangular","arcsine","laplace","tukey","nmeans","xlegq","alegq","ulen","f2","f2lf","f21","ff4","ans","otsum","twa1","t1","ps","tukeyQinv","valx0","valx1","iter","isUsable","add","divide","multiply","nrescols","rescols","outer","dot","left","right","norm","nnorm","angle","aug","newarr","gauss_jordan","det","determinant","submatrix","sign","gauss_elimination","maug","pivot","y2","maxrow","triaUpSolve","parts","matrix_mode","triaLowSolve","lu","R","cholesky","gauss_jacobi","xv","xk","gauss_seidel","SOR","householder","QR","lstsq","array_mode","Q","attrs","Q1","RI","Aj","cAi","Ij","cIi","R_I","Q2","jacobi","maxim","theta","condition","e","ev","rungekutta","t_j","u_j","k1","k2","k3","romberg","h1","g","richardson","pos","y1","h_min","simpson","hermite","dF","dl","lagrange","cubic_spline","sq","gauss_quadrature","PCA","temp1","Bt","temp2","Y","Vt","differenceOfProportions","p1","n1","p2","n2","pooled","zscore","ztest","sides","tscore","ttest","anovafscore","expVar","sampMean","sampSampMean","tmpargs","unexpVar","anovaftest","ftest","fscore","anovaftes","qscore","qtest","tukeyhsd","means","change","significant","pvalue","oneSidedDifferenceOfProportions","twoSidedDifferenceOfProportions","models","ols","endog","exog","nobs","df_model","df_resid","coef","predict","resid","ybar","SSE","SSR","SST","R2","t_test","model","var_count","subModelList","endog_index","exog_index","sigmaHat","seBetaHat","mod","tStatistic","pValue","leftppf","interval95","se","F_statistic","F_test","adjust_R2","buildxmatrix","matrixRows","builddxmatrix","buildjxmatrix","jMat","pass","buildymatrix","buildjymatrix","matrixmult","regress","jMatX","jMatY","innerinv","xtranspxinv","xtransp","next","regresst","compile","jMatYBar","yBar","yAverage","anova","residuals","ssr","msr","sse","mse","sst","mst","r2","fratio","rmse","r2adj","stats","sds","ts","covar","xtranspx","inner","matrixsubtract","hasElement","FLATTEN","ARGS2ARRAY","REFERENCE","context","reference","path","opening","JOIN","NUMBERS","bessel","isValidBinaryNumber","BESSELI","besseli","BESSELJ","besselj","BESSELK","besselk","BESSELY","bessely","BIN2DEC","stringified","BIN2HEX","places","BIN2OCT","BITAND","number1","number2","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","COMPLEX","real","imaginary","suffix","CONVERT","from_unit","to_unit","alt","units","binary_prefixes","Yi","Zi","Ei","Ti","Gi","Mi","ki","unit_prefixes","G","from","to","base_from_unit","base_to_unit","from_multiplier","to_multiplier","from_binary_prefix","from_unit_prefix","to_binary_prefix","to_unit_prefix","DEC2BIN","DEC2HEX","DEC2OCT","DELTA","ERF","lower_bound","upper_bound","ERFC","GESTEP","HEX2BIN","negative","decimal","HEX2DEC","HEX2OCT","IMABS","inumber","IMREAL","IMAGINARY","plus","minus","last","unit","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMDIV","IMSIN","inumber1","inumber2","unit1","unit2","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMSEC","IMSECH","IMSINH","IMSQRT","IMCSC","IMCSCH","IMSUB","IMSUM","IMTAN","OCT2BIN","OCT2DEC","OCT2HEX","on","callback","ctx","once","listener","off","_","emit","evtArr","evts","liveEvents","TinyEmitter","engineering","dateTime","set","root","BETADIST","BETAINV","BINOMDIST","ISOCEILING","CEILINGMATH","CEILINGPRECISE","CHIDIST","CHIDISTRT","CHIINV","CHIINVRT","CHITEST","COVAR","COVARIANCEP","COVARIANCES","CRITBINOM","EXPONDIST","ERFCPRECISE","ERFPRECISE","FDIST","FDISTRT","FINVRT","FINV","FLOORMATH","FLOORPRECISE","FTEST","GAMMADIST","GAMMAINV","GAMMALNPRECISE","HYPGEOMDIST","LOGINV","LOGNORMINV","LOGNORMDIST","MODEMULT","MODESNGL","NEGBINOMDIST","NETWORKDAYSINTL","NORMDIST","NORMINV","NORMSDIST","NORMSINV","PERCENTILEEXC","PERCENTILEINC","PERCENTRANKEXC","PERCENTRANKINC","POISSONDIST","QUARTILEEXC","QUARTILEINC","RANKAVG","RANKEQ","SKEWP","STDEVP","STDEVS","TDIST","TDISTRT","TINV","TTEST","VARP","VARS","WEIBULLDIST","WORKDAYINTL","ZTEST","factory","BESSEL","version","_horner","_bessel_iter","f0","f1","tdx","_bessel_wrap","bessel0","bessel1","nonzero","W","b0_a1a","b0_a2a","b0_a1b","b0_a2b","b1_a1a","b1_a2a","b1_a1b","b1_a2b","b0_a","b0_b","b1_a","b1_b","reverse","ret","jsum","bjp","bj","bjm","tox","bip","bi","bim","DO_NOT_EXPORT_BESSEL","maths","compact","findResultIndex","database","maxCriteriaLength","currentCriteriaResult","hasMatchingCriteria","criteriaField","FINDFIELD","title","DAVERAGE","field","resultIndexes","targetFields","DCOUNT","targetValues","DCOUNTA","DGET","DMAX","maxValue","DMIN","minValue","DPRODUCT","DSTDEV","DSTDEVP","DSUM","DVAR","DVARP","AND","CHOOSE","FALSE","IF","then_value","otherwise_value","IFERROR","valueIfError","IFNA","value_if_na","NOT","logical","OR","TRUE","XOR","SWITCH","targetValue","argc","switchCount","switchSatisfied","hasDefaultClause","defaultClause","validDate","ensureDate","ACCRINT","issue","settlement","par","frequency","ACCRINTM","AMORDEGRC","AMORLINC","COUPDAYBS","COUPDAYS","COUPDAYSNC","COUPNCD","COUPNUM","COUPPCD","CUMIPMT","periods","payment","PMT","interest","FV","CUMPRINC","principal","DB","cost","salvage","life","period","toFixed","ceiling","DDB","DISC","DOLLARDE","dollar","fraction","DOLLARFR","DURATION","EFFECT","term","FVSCHEDULE","schedule","future","INTRATE","IPMT","present","IRR","guess","irrResult","dates","irrResultDeriv","positive","newRate","epsRate","resultValue","resultRate","contLoop","ISPMT","MDURATION","MIRR","finance_rate","reinvest_rate","payments","incomes","NPV","NOMINAL","NPER","ODDFPRICE","ODDFYIELD","ODDLPRICE","ODDLYIELD","PDURATION","PPMT","PRICE","PRICEDISC","PRICEMAT","PV","RATE","y0","RECEIVED","RRI","SLN","SYD","TBILLEQ","maturity","discount","TBILLPRICE","TBILLYIELD","price","VDB","XNPV","YIELD","YIELDDISC","YIELDMAT","MATCH","lookupValue","lookupArray","matchType","indexValue","VLOOKUP","needle","table","rangeLookup","HLOOKUP","transposedTable","Element","tag","className","_classCallCheck","document","createElement","eventNames","handler","_eventNames$split2","_toArray","fen","oen","eventName","window","navigator","userAgent","addEventListener","evt","button","stopPropagation","_this","keys","css","_this$el","offsetTop","offsetLeft","height","offsetHeight","width","offsetWidth","scrollLeft","scrollTop","getBoundingClientRect","parentNode","_this2","_len","eles","_key","childNodes","ele","child","removeChild","createTextNode","appendChild","contains","classList","remove","cls","toggleClass","toggle","addClass","removeClass","active","_this3","setAttribute","getAttribute","removeAttribute","content","innerHTML","focus","_this4","_len2","_key2","style","removeProperty","_this5","getComputedStyle","alphabets","stringAt","str","cindex","indexAt","expr2xy","src","xy2expr","expr2expr","xn","yn","_expr2xy","_expr2xy2","_slicedToArray","CellRange","sri","sci","eri","eci","refs","_expr2xy4","_expr2xy6","ci","cb","rowFilter","other","addRet","dsr","dsc","der","Selector","Scroll","_createClass","History","undoItems","redoItems","JSON","stringify","currentd","canUndo","canRedo","Clipboard","state","cellRange","Filter","includes","Sort","AutoFilter","filters","_ref","it","getData","getFilter","hrange","getCell","rset","Set","fset","_this$range","cell","ctext","_this$range2","valueOf","Merges","cr","within","intersects","union","deleteWithin","cbWithin","rn","cn","it1","merges","merge","mergeDeep","sources","source","numberCalc","al1","al2","cloneDeep","equals","obj1","obj2","v1","v2","ai","arrayEquals","objOrAry","rangeEach","rangeSum","getv","rangeReduceIf","inits","initv","ifv","deleteProperty","oldv","Rows","isHide","getOrNew","setHide","hide","exceptSet","helper","has","getHeight","sumHeight","cells","what","getCellOrNew","editable","valueSetter","_retrievedText","_formattedText","retrievedText","formattedText","_objectSpread","_typeof","_result","console","srcCellRange","dstCellRange","autofill","dsri","dsci","deri","deci","_srcCellRange$size","_srcCellRange$size2","_dstCellRange$size","_dstCellRange$size2","drn","dcn","isAdd","dn","ii","_loop","nri","nci","ncell","word","exec","setCell","ncellmm","each","eachCells","setCellText","ndata","_this6","_this7","rndata","_this8","_this9","deleteCell","ks","entries","_ref2","_ref3","_ref4","_ref5","assign","Cols","indexWidth","minWidth","getWidth","sumWidth","$languages","$messages","en","toolbar","undo","redo","print","paintformat","clearformat","format","fontName","fontSize","fontBold","fontItalic","underline","strike","color","bgcolor","border","align","valign","textwrap","freeze","autofilter","formula","more","grid","contextmenu","cut","paste","pasteValue","pasteFormat","insertRow","insertColumn","deleteSheet","deleteRow","deleteColumn","deleteCellText","validation","cellprintable","cellnonprintable","celleditable","cellnoneditable","orientation","orientations","rmb","usd","eur","time","datetime","duration","_if","and","or","required","notMatch","between","notBetween","notIn","equal","notEqual","lessThan","lessThanEqual","greaterThan","greaterThanEqual","pasteForMergedCell","calendar","weeks","cancel","save","ok","desc","asc","empty","dataValidation","modeType","phone","email","be","nbe","lt","lte","gt","gte","eq","neq","translate","messages","_step","_iterator","_createForOfIteratorHelper","done","lang","message","x_spreadsheet","tf","locale","clearLangList","rules","returnMessage","Validator","parseValue","_value","_value2","Validation","validator","nrefs","difference","Validations","errors","Map","_v$validator$validate2","validate","getByValidator","addRef","parseBorderProperties","styles","others","parsedBorders","propertyName","_styles$key","_styles$key2","replaceAll","parsedValue","SheetConfig","settings","_settings$showGrid","gridLine","showGrid","status","defaultSettings","view","documentElement","clientHeight","clientWidth","showToolbar","showContextmenu","showBottomBar","font","bold","italic","canPaste","dst","clone","_src$size","_src$size2","srn","scn","_dst$size","_dst$size2","copyPaste","deleteCells","_cell$merge","cutPaste","clipboard","move","setStyleBorder","bss","cstyle","addStyle","setStyleBorders","selector","_selector$range","isSingleSelected","mergeIndexes","_merges$ii","mri","mci","_cell$merge2","mrl","mcl","getCellMerge","getCellRowByY","scrollOffsety","fsh","freezeTotalHeight","frset","exceptRowSet","getCellColByX","scrollOffsetx","fsw","freezeTotalWidth","_helper$rangeReduceIf2","DataProxy","sheetConfig","validations","hyperlinks","comments","scroll","history","autoFilter","sortedRowMap","unsortedRowMap","changeData","_this$selector","_this$selector2","setData","copyText","_this$selector$range","clipboardData","clearData","preventDefault","writeText","then","isClear","isCopy","isCut","resetSheet","eventTrigger","_evt$clipboardData","htmlContent","read","item","_item$types","_item$types2","types","_htmlDocument$getElem","_htmlDocument$getElem2","htmlDocument","DOMParser","parseFromString","htmlStyles","getElementsByTagName","htmlBody","tableContent","querySelectorAll","tBody","querySelector","trs","startRow","tr","startColumn","tds","td","_td$innerText","cellContent","innerText","cellClassName","cellStyle","styleString","parsedStyles","fontStyles","borderStyles","stylesObject","_style$split2","parsedStylesObject","_value$split$","_value$split","_String$match","parsedIntValue","parsedValues","_values$","intValue","side","parseCssToXDataStyles","styleTag","_styleTag$sheet","_styleTag$sheet2","cssRules","sheet","cssRule","selectorText","cssText","getStylingForClass","readText","contentToPaste","parseClipboardContent","clipboardContent","parsedData","lines","srcRange","_selector$range2","cri","cci","getFirstIncludes","unmerge","_selector$size2","nfont","oldCell","oldText","vIndex","findIndex","_this$selector3","_this$getSelectedRect","getSelectedRect","getRect","left0","top0","_getCellRowByY$call","_getCellColByX$call","totalWidth","totalHeight","_this$cellRect","cellRect","_this$selector$range2","_cell$merge3","_this$selector$range3","_cell$merge4","_this10","_selector$size4","_selector$range3","_this11","_selector$range4","_this12","addFilter","setSort","resetAutoFilter","_this13","_autoFilter$filteredR","filteredRows","fary","oldAry","_this14","_this15","_this15$selector$rang","si","insert","colIndex","_this16","_selector$range5","_selector$range$size2","rsize","csize","fci","_helper$rangeReduceIf4","fri","_helper$rangeReduceIf6","_cell$merge5","defaultStyle","_this$selector4","getCellStyleOrDefault","_this$freeze","_this17","_this18","setHeight","_this19","setWidth","_this$settings","_this$freeze2","_rows$maxCell2","maxCell","exceptRows","exceptRowTH","viewHeight","viewWidth","viewRange","filterIntersects","_selector$size6","rlen","clen","_selector$range6","unhide","frary","_toConsumableArray","offset","rowHeight","colWidth","nstyle","_this20","target","unbind","removeEventListener","unbindClickoutside","xclickoutside","body","bindClickoutside","detail","mouseMoveUp","movefunc","upfunc","xEvtUp","calTouchDirection","spanx","spany","createEventEmitter","listeners","currentListener","removeListener","execCalllback","fire","removeAllListeners","cssPrefix","devicePixelRatio","Resizer","vertical","minDistance","moving","children","unhideHoverEl","mousedblclickHandler","hoverEl","mousedownHandler","lineEl","cRect","finishedFn","unhideFn","unhideIndex","show","rect","hideUnhide","startEvt","distance","buttons","movementX","movementY","Scrollbar","moveFn","contentEl","_evt$target","contentDistance","cssKey","startZIndex","SelectorElement","useHideInput","autoFocus","inputChange","cornerEl","areaEl","clipboardEl","autofillEl","hideInput","hideInputDiv","of","calBRAreaOffset","ftwidth","ftheight","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","setTLAreaOffset","tl","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTLClipboardOffset","setTClipboardOffset","setAllAreaOffset","setAllClipboardOffset","areaOffset","indexes","lastri","lastci","resetAreaOffset","freezeHeight","freezeWidth","setOffset","coffset","getClipboardRect","resetOffset","indexesUpdated","calSelectedRangeByStart","setIndexes","moveIndexes","calSelectedRangeByEnd","_this$data$selector$r","setEnd","ern","ecn","showAutofill","hideAutofill","showClipboard","hideClipboard","inputMovePrev","filterItems","itemIndex","inputMoveNext","inputEnter","click","inputKeydownHandler","keyCode","ctrlKey","Suggest","items","itemClick","cssRemoveKeys","parent","_el$html","startsWith","label","html","input","Icon","_Element","_callSuper","iconNameEl","_inherits","addMonth","weekday","Calendar","_h","cvalue","headerLeftEl","bodyEl","buildAll","prev","week","selectChange","buildHeaderLeft","buildBody","_bodyEl$html","cdate","startDate","datess","disabled","monthDays","_h2","Datepicker","setValue","resetTextareaSize","inputText","textlineEl","textEl","txts","maxTxtSize","fontWidth","tlineWidth","maxWidth","viewFn","twidth","insertText","itxt","selectionEnd","ntxt","setSelectionRange","keydownEventHandler","altKey","inputEventHandler","suggest","search","lastIndexOf","setTextareaRange","setText","blur","suggestItemClick","sit","eit","resetSuggestItems","setItems","formulas","dateFormat","Editor","datepicker","bindInputEvents","suggestPosition","elOffset","sOffset","editValueFormatter","_editValueFormatter","Button","dpr","thinLineWidth","npx","px","npxLine","DrawBox","padding","borderTop","borderRight","borderBottom","borderLeft","drawFontLine","tx","blheight","blwidth","floffset","Draw","getContext","resize","numberRegexObject","clearRect","beginPath","restore","fillRect","fillText","cellMeta","_this$options$numberC","_valueFormatter","valueFormatter","numberConfig","zeroReplacer","groupingSymbol","mtxt","box","attr","textWrap","textConfigOperation","textx","textAlign","textBaseline","fillStyle","strokeStyle","biw","innerWidth","ntxts","txtWidth","measureText","textLine","txtHeight","texty","lineWidth","setLineDash","moveTo","lineTo","stroke","topxys","rightxys","bottomxys","leftxys","sx","closePath","fill","dtextcb","baseFonts","fontSizes","pt","getFontSizePxByPt","_errors","toNumber","invertNumber","configurable","writable","acc","SYMBOL","params","exp1","exp2","symbol","symbolParts","foundFormula","formulajs","nestedFormula","isFactory","iterator","minLen","availableOperators","evaluateByOperator","registerOperation","_o","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","$Vg","$Vh","$Vi","$Vj","$Vk","$Vl","$Vm","$Vn","$Vo","$Vp","$Vq","$Vr","trace","yy","symbols_","terminals_","5","8","9","10","11","12","13","14","15","16","17","18","19","20","21","24","25","26","27","28","29","30","31","32","33","34","35","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","callVariable","trimEdges","callFunction","cellValue","rangeValue","throwError","2","3","4","6","7","23","1","22","defaultActions","parseError","recoverable","stack","vstack","lstack","recovering","TERROR","EOF","lexer","sharedState","setInput","parser","yylloc","yyloc","ranges","popStack","getPrototypeOf","preErrorSymbol","action","newState","lex","yyval","error_rule_depth","locateNearestErrorRecoveryRule","stack_probe","depth","errStr","showPosition","loc","first_line","last_line","first_column","last_column","_input","_more","_backtrack","matched","conditionStack","ch","unput","oldLines","reject","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","tempMatch","_currentRules","flex","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","margin","_n","_d","_e","_s","rowLabelToIndex","Parser","COLUMN_LABEL_BASE_LENGTH","columnLabelToIndex","LABEL_EXTRACT_REGEXP","extractLabel","_label$toUpperCase$ma2","columnAbs","rowAbs","isAbsolute","toLabel","rowLabel","rowIndexToLabel","columnIndexToLabel","props","descriptor","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Super","NewTarget","ReferenceError","_Emitter","subClass","superClass","Constructor","protoProps","staticProps","_super","instance","errorName","_throwError","variable","_callVariable","_callFunction","_callCellValue","_callRangeValue","variables","functions","setVariable","ex","getVariable","newValue","getFunction","_extractLabel2","startLabel","endLabel","_extractLabel4","_extractLabel6","endRow","endColumn","startCell","endCell","valid","parserFormulaString","getCellText","cellRender","_range$toUpperCase","cellInfo","_expr2xy8","_expr2xy10","cellArray","rangeToCellConversion","_expr2xy12","formulaMap","_data$error","parsedFormula","baseFormulas","SUPPORTED_FORMULAS","render","formulam","formatStringRender","formatNumberRender","_v1$split2","baseFormats","formatm","tableFixedHeaderCleanStyle","tableGridStyle","getDrawBox","rindex","yoffset","_data$cellRect","renderCell","draw","nrindex","frozen","dbox","setBorders","strokeBorders","cellText","evalPaused","_cell","getCellTextOrDefault","getError","renderAutofilter","afRange","dropdown","renderContent","fw","fh","exceptRowTotalHeight","filteredTranslateFunc","eachMergesInView","renderSelectedHeaderCell","renderFixedHeaders","nty","ntx","_data$selector$range","rowEach","colEach","renderFixedLeftTopCell","renderContentGrid","gridStatus","cw","renderFreezeHighlightLine","ftw","fth","theight","Table","initialGridStatus","_data$scroll","_data$freeze","freezeViewRange","PAGER_SIZES","PAGER_ORIENTATIONS","inches2px","btnClick","toPrint","pagerSizeChange","paper","preview","pagerOrientationChange","Print","iwidth","iheight","contentRange","pages","canvases","mViewRange","th","yo","wrap","canvas","rh","yof","contentWindow","idoc","head","cloneNode","drawImage","menuItems","buildMenuItem","buildMenu","ContextMenu","setMode","hideEl","vhf","Item","shortcut","tip","_target$getBoundingCl","elBox","tooltip","DropdownItem","_Item","getValue","_get","_getPrototypeOf","setTitle","Dropdown","showArrow","placement","headerClick","setContentChildren","headerEl","_this$contentEl","DropdownAlign","_Dropdown","aligns","icon","naligns","iconName","setName","Align","_DropdownItem","Valign","ToggleItem","hasClass","Autofilter","_ToggleItem","Bold","Grid","callBack","_this$callBack","Italic","Strike","Underline","themeColorPlaceHolders","themeColors","standardColors","buildTd","ColorPalette","_h4","_h3","DropdownColor","colorPalette","lineTypes","DropdownLineType","beforei","lineTypeEls","iti","buildTable","BorderPalette","ddColor","ddType","DropdownBorder","borderPalette","Border","IconItem","Clearformat","_IconItem","Paintformat","TextColor","FillColor","DropdownFontSize","nfontSizes","Format","DropdownFontsize","DropdownFont","nfonts","Font","DropdownFormat","nformats","DropdownFormula","nformulas","Freeze","Merge","Redo","Undo","Textwrap","DropdownMore","moreBtns","More","buildDivider","initBtns2","btns2","_el$computedStyle","computedStyle","marginLeft","marginRight","_it$computedStyle","moreResize","_btns$html","_moreBtns$html","btns","moreEl","_moreEl$dd","widthFn","sumWidth2","list1","list2","genBtn","btn","onClick","Toolbar","undoEl","redoEl","paintformatEl","clearformatEl","formatEl","fontEl","fontSizeEl","FontSize","boldEl","italicEl","underlineEl","strikeEl","textColorEl","fillColorEl","borderEl","mergeEl","gridEl","alignEl","valignEl","textwrapEl","freezeEl","autofilterEl","formulaEl","Formula","_data$settings$extend","extendToolbar","reset","getSelectedCellStyle","setState","canUnmerge","canAutofilter","freezeIsActive","Modal","dimmer","_this$el$show$box","_document$documentEle","xkeydownEsc","FormInput","hint","vchange","FormSelect","getTitle","itemEl","patterns","FormField","rule","labelWidth","pattern","ModalValidation","_Modal","mf","rf","cf","criteriaSelected","criteriaOperatorSelected","minvf","maxvf","svf","vf","isShow","clsName","buildSortItem","buildFilterBody","filterbEl","filterValues","filterClick","resetFilterHeader","filterhEl","checked","SortFilter","sortAscEl","sortDescEl","sortDesc","tindex","xtoast","_el$box","sheetContextEvents","toolBar","setClickCallback","setGridStatus","setGrid","setInitialSet","SheetContext","throttle","wait","timeout","that","scrollbarMove","verticalScrollbar","horizontalScrollbar","_data$getSelectedRect","tableOffset","getTableOffset","selectorSet","contextMenu","trigger","selectorMove","direction","_selector$indexes","_selector$moveIndexes","overlayerMousemove","offsetX","offsetY","rowResizer","colResizer","tableEl","tRect","getCellRectByXY","showUnhide","overlayerMousescroll","deltaY","deltaX","loopValue","vFunc","moveY","tempY","tempX","horizontal","moveX","overlayerTouch","verticalScrollbarSet","erth","horizontalScrollbarSet","sheetFreeze","editor","fwidth","fheight","setFreezeLengths","sheetReset","overlayerEl","overlayerCEl","tOffset","vRect","clearClipboard","copyToSystemClipboard","pasteFromSystemClipboard","msg","cdata","pasteFromText","hideRowsOrCols","unhideRowsOrCols","toolbarChangePaintformatPaste","paintformatActive","paintformatToggle","overlayerMousedown","sortFilter","isAutofillEl","getSort","shiftKey","_data$getCellRectByXY","editorSetOffset","sPosition","editorSet","getSelectedCell","getSelectedValidator","verticalScrollbarMove","scrolly","resetBRLAreaOffset","horizontalScrollbarMove","scrollx","resetBRTAreaOffset","rowResizerFinished","colResizerFinished","dataSetCellText","setSelectedCellText","_data$selector","insertDeleteRowColumn","setSelectedCellAttr","toolbarChange","_data$selector2","sortFilterChange","setAutoFilter","sheetInitEvents","startx","starty","modalValidation","xyInSelectedRect","setPosition","_evt$touches$","touches","pageX","pageY","_evt$changedTouches$","changedTouches","_evt$changedTouches$2","itext","_this6$data","addValidation","removeValidation","getSelectedValidation","reload","focusing","which","metaKey","Sheet","targetEl","eventMap","_data$settings","sheetContext","_len3","_key3","resetData","resetState","setFreeze","_this$data","_this$getRect","contentClick","_h$css","Bottombar","addFunc","swapFunc","deleteFunc","updateFunc","dataNames","activeEl","deleteEl","clickSwap2","menuEl","nindex","renameItem","clickSwap","Spreadsheet","selectors","sheetIndex","datas","bottombar","addSheet","rootEl","_this2$sheet","addItem","_this$bottombar$delet2","deleteItem","oldIndex","ds","nd","getCellStyle","spreadsheet"],"mappings":"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","file":"xspreadsheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","exports.nil = new Error('#NULL!');\nexports.div0 = new Error('#DIV/0!');\nexports.value = new Error('#VALUE!');\nexports.ref = new Error('#REF!');\nexports.name = new Error('#NAME?');\nexports.num = new Error('#NUM!');\nexports.na = new Error('#N/A');\nexports.error = new Error('#ERROR!');\nexports.data = new Error('#GETTING_DATA');\n","var error = require('./error');\n\nexports.flattenShallow = function(array) {\n  if (!array || !array.reduce) {\n    return array;\n  }\n\n  return array.reduce(function(a, b) {\n    var aIsArray = Array.isArray(a);\n    var bIsArray = Array.isArray(b);\n\n    if (aIsArray && bIsArray ) {\n      return a.concat(b);\n    }\n    if (aIsArray) {\n      a.push(b);\n\n      return a;\n    }\n    if (bIsArray) {\n      return [a].concat(b);\n    }\n\n    return [a, b];\n  });\n};\n\nexports.isFlat = function(array) {\n  if (!array) {\n    return false;\n  }\n\n  for (var i = 0; i < array.length; ++i) {\n    if (Array.isArray(array[i])) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexports.flatten = function() {\n  var result = exports.argsToArray.apply(null, arguments);\n\n  while (!exports.isFlat(result)) {\n    result = exports.flattenShallow(result);\n  }\n\n  return result;\n};\n\nexports.argsToArray = function(args) {\n  var result = [];\n\n  exports.arrayEach(args, function(value) {\n    result.push(value);\n  });\n\n  return result;\n};\n\nexports.numbers = function() {\n  var possibleNumbers = this.flatten.apply(null, arguments);\n  return possibleNumbers.filter(function(el) {\n    return typeof el === 'number';\n  });\n};\n\nexports.cleanFloat = function(number) {\n  var power = 1e14;\n  return Math.round(number * power) / power;\n};\n\nexports.parseBool = function(bool) {\n  if (typeof bool === 'boolean') {\n    return bool;\n  }\n\n  if (bool instanceof Error) {\n    return bool;\n  }\n\n  if (typeof bool === 'number') {\n    return bool !== 0;\n  }\n\n  if (typeof bool === 'string') {\n    var up = bool.toUpperCase();\n    if (up === 'TRUE') {\n      return true;\n    }\n\n    if (up === 'FALSE') {\n      return false;\n    }\n  }\n\n  if (bool instanceof Date && !isNaN(bool)) {\n    return true;\n  }\n\n  return error.value;\n};\n\nexports.parseNumber = function(string) {\n  if (string === undefined || string === '') {\n    return error.value;\n  }\n  if (!isNaN(string)) {\n    return parseFloat(string);\n  }\n\n  return error.value;\n};\n\nexports.parseNumberArray = function(arr) {\n  var len;\n\n  if (!arr || (len = arr.length) === 0) {\n    return error.value;\n  }\n\n  var parsed;\n\n  while (len--) {\n    parsed = exports.parseNumber(arr[len]);\n    if (parsed === error.value) {\n      return parsed;\n    }\n    arr[len] = parsed;\n  }\n\n  return arr;\n};\n\nexports.parseMatrix = function(matrix) {\n  var n;\n\n  if (!matrix || (n = matrix.length) === 0) {\n    return error.value;\n  }\n  var pnarr;\n\n  for (var i = 0; i < matrix.length; i++) {\n    pnarr = exports.parseNumberArray(matrix[i]);\n    matrix[i] = pnarr;\n\n    if (pnarr instanceof Error) {\n      return pnarr;\n    }\n  }\n\n  return matrix;\n};\n\nvar d1900 = new Date(Date.UTC(1900, 0, 1));\nexports.parseDate = function(date) {\n  if (!isNaN(date)) {\n    if (date instanceof Date) {\n      return new Date(date);\n    }\n    var d = parseInt(date, 10);\n    if (d < 0) {\n      return error.num;\n    }\n    if (d <= 60) {\n      return new Date(d1900.getTime() + (d - 1) * 86400000);\n    }\n    return new Date(d1900.getTime() + (d - 2) * 86400000);\n  }\n  if (typeof date === 'string') {\n    date = new Date(date);\n    if (!isNaN(date)) {\n      return date;\n    }\n  }\n  return error.value;\n};\n\nexports.parseDateArray = function(arr) {\n  var len = arr.length;\n  var parsed;\n  while (len--) {\n    parsed = this.parseDate(arr[len]);\n    if (parsed === error.value) {\n      return parsed;\n    }\n    arr[len] = parsed;\n  }\n  return arr;\n};\n\nexports.anyIsError = function() {\n  var n = arguments.length;\n  while (n--) {\n    if (arguments[n] instanceof Error) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexports.arrayValuesToNumbers = function(arr) {\n  var n = arr.length;\n  var el;\n  while (n--) {\n    el = arr[n];\n    if (typeof el === 'number') {\n      continue;\n    }\n    if (el === true) {\n      arr[n] = 1;\n      continue;\n    }\n    if (el === false) {\n      arr[n] = 0;\n      continue;\n    }\n    if (typeof el === 'string') {\n      var number = this.parseNumber(el);\n      if (number instanceof Error) {\n        arr[n] = 0;\n      } else {\n        arr[n] = number;\n      }\n    }\n  }\n  return arr;\n};\n\nexports.rest = function(array, idx) {\n  idx = idx || 1;\n  if (!array || typeof array.slice !== 'function') {\n    return array;\n  }\n  return array.slice(idx);\n};\n\nexports.initial = function(array, idx) {\n  idx = idx || 1;\n  if (!array || typeof array.slice !== 'function') {\n    return array;\n  }\n  return array.slice(0, array.length - idx);\n};\n\nexports.arrayEach = function(array, iteratee) {\n  var index = -1, length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n\n  return array;\n};\n\nexports.transpose = function(matrix) {\n  if(!matrix) {\n    return error.value;\n  }\n\n  return matrix[0].map(function(col, i) {\n    return matrix.map(function(row) {\n      return row[i];\n    });\n  });\n};\n","var categories = [\n  require('./lib/compatibility'),\n  require('./lib/database'),\n  require('./lib/engineering'),\n  require('./lib/logical'),\n  require('./lib/math-trig'),\n  require('./lib/text'),\n  require('./lib/date-time'),\n  require('./lib/financial'),\n  require('./lib/information'),\n  require('./lib/lookup-reference'),\n  require('./lib/statistical'),\n  require('./lib/miscellaneous')\n];\n\nfor (var c in categories) {\n  var category = categories[c];\n  for (var f in category) {\n    exports[f] = exports[f] || category[f];\n  }\n}\n","var utils = require('./utils/common');\nvar error = require('./utils/error');\nvar statistical = require('./statistical');\nvar information = require('./information');\nvar evalExpression = require('./utils/criteria-eval');\n\nexports.ABS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.abs(number);\n\n  return result;\n};\n\nexports.ACOS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.acos(number);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.ACOSH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.log(number + Math.sqrt(number * number - 1));\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.ACOT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.atan(1 / number);\n\n  return result;\n};\n\nexports.ACOTH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = 0.5 * Math.log((number + 1) / (number - 1));\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\n//TODO: use options\nexports.AGGREGATE = function(function_num, options, ref1, ref2) {\n  function_num = utils.parseNumber(function_num);\n  options = utils.parseNumber(function_num);\n  if (utils.anyIsError(function_num, options)) {\n    return error.value;\n  }\n  switch (function_num) {\n    case 1:\n      return statistical.AVERAGE(ref1);\n    case 2:\n      return statistical.COUNT(ref1);\n    case 3:\n      return statistical.COUNTA(ref1);\n    case 4:\n      return statistical.MAX(ref1);\n    case 5:\n      return statistical.MIN(ref1);\n    case 6:\n      return exports.PRODUCT(ref1);\n    case 7:\n      return statistical.STDEV.S(ref1);\n    case 8:\n      return statistical.STDEV.P(ref1);\n    case 9:\n      return exports.SUM(ref1);\n    case 10:\n      return statistical.VAR.S(ref1);\n    case 11:\n      return statistical.VAR.P(ref1);\n    case 12:\n      return statistical.MEDIAN(ref1);\n    case 13:\n      return statistical.MODE.SNGL(ref1);\n    case 14:\n      return statistical.LARGE(ref1, ref2);\n    case 15:\n      return statistical.SMALL(ref1, ref2);\n    case 16:\n      return statistical.PERCENTILE.INC(ref1, ref2);\n    case 17:\n      return statistical.QUARTILE.INC(ref1, ref2);\n    case 18:\n      return statistical.PERCENTILE.EXC(ref1, ref2);\n    case 19:\n      return statistical.QUARTILE.EXC(ref1, ref2);\n  }\n};\n\nexports.ARABIC = function(text) {\n  // Credits: Rafa? Kukawski\n  if (!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text)) {\n    return error.value;\n  }\n  var r = 0;\n  text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g, function(i) {\n    r += {\n      M: 1000,\n      CM: 900,\n      D: 500,\n      CD: 400,\n      C: 100,\n      XC: 90,\n      L: 50,\n      XL: 40,\n      X: 10,\n      IX: 9,\n      V: 5,\n      IV: 4,\n      I: 1\n    }[i];\n  });\n  return r;\n};\n\nexports.ASIN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.asin(number);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.ASINH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.log(number + Math.sqrt(number * number + 1));\n};\n\nexports.ATAN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.atan(number);\n};\n\nexports.ATAN2 = function(number_x, number_y) {\n  number_x = utils.parseNumber(number_x);\n  number_y = utils.parseNumber(number_y);\n  if (utils.anyIsError(number_x, number_y)) {\n    return error.value;\n  }\n  return Math.atan2(number_x, number_y);\n};\n\nexports.ATANH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var result = Math.log((1 + number) / (1 - number)) / 2;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.BASE = function(number, radix, min_length) {\n  min_length = min_length || 0;\n\n  number = utils.parseNumber(number);\n  radix = utils.parseNumber(radix);\n  min_length = utils.parseNumber(min_length);\n  if (utils.anyIsError(number, radix, min_length)) {\n    return error.value;\n  }\n  min_length = (min_length === undefined) ? 0 : min_length;\n  var result = number.toString(radix);\n  return new Array(Math.max(min_length + 1 - result.length, 0)).join('0') + result;\n};\n\nexports.CEILING = function(number, significance, mode) {\n  significance = (significance === undefined) ? 1 : Math.abs(significance);\n  mode = mode || 0;\n\n  number = utils.parseNumber(number);\n  significance = utils.parseNumber(significance);\n  mode = utils.parseNumber(mode);\n  if (utils.anyIsError(number, significance, mode)) {\n    return error.value;\n  }\n  if (significance === 0) {\n    return 0;\n  }\n  var precision = -Math.floor(Math.log(significance) / Math.log(10));\n  if (number >= 0) {\n    return exports.ROUND(Math.ceil(number / significance) * significance, precision);\n  } else {\n    if (mode === 0) {\n      return -exports.ROUND(Math.floor(Math.abs(number) / significance) * significance, precision);\n    } else {\n      return -exports.ROUND(Math.ceil(Math.abs(number) / significance) * significance, precision);\n    }\n  }\n};\n\nexports.CEILING.MATH = exports.CEILING;\n\nexports.CEILING.PRECISE = exports.CEILING;\n\nexports.COMBIN = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return exports.FACT(number) / (exports.FACT(number_chosen) * exports.FACT(number - number_chosen));\n};\n\nexports.COMBINA = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return (number === 0 && number_chosen === 0) ? 1 : exports.COMBIN(number + number_chosen - 1, number - 1);\n};\n\nexports.COS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.cos(number);\n};\n\nexports.COSH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return (Math.exp(number) + Math.exp(-number)) / 2;\n};\n\nexports.COT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 1 / Math.tan(number);\n};\n\nexports.COTH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var e2 = Math.exp(2 * number);\n  return (e2 + 1) / (e2 - 1);\n};\n\nexports.CSC = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 1 / Math.sin(number);\n};\n\nexports.CSCH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 2 / (Math.exp(number) - Math.exp(-number));\n};\n\nexports.DECIMAL = function(number, radix) {\n  if (arguments.length < 1) {\n    return error.value;\n  }\n\n  return parseInt(number, radix);\n};\n\nexports.DEGREES = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return number * 180 / Math.PI;\n};\n\nexports.EVEN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return exports.CEILING(number, -2, -1);\n};\n\nexports.EXP = function(number) {\n  if (arguments.length < 1) {\n    return error.na;\n  }\n  if (typeof number !== 'number' || arguments.length > 1) {\n    return error.error;\n  }\n\n  number = Math.exp(number);\n\n  return number;\n};\n\nvar MEMOIZED_FACT = [];\nexports.FACT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var n = Math.floor(number);\n  if (n === 0 || n === 1) {\n    return 1;\n  } else if (MEMOIZED_FACT[n] > 0) {\n    return MEMOIZED_FACT[n];\n  } else {\n    MEMOIZED_FACT[n] = exports.FACT(n - 1) * n;\n    return MEMOIZED_FACT[n];\n  }\n};\n\nexports.FACTDOUBLE = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var n = Math.floor(number);\n  if (n <= 0) {\n    return 1;\n  } else {\n    return n * exports.FACTDOUBLE(n - 2);\n  }\n};\n\nexports.FLOOR = function(number, significance) {\n  number = utils.parseNumber(number);\n  significance = utils.parseNumber(significance);\n  if (utils.anyIsError(number, significance)) {\n    return error.value;\n  }\n  if (significance === 0) {\n    return 0;\n  }\n\n  if (!(number > 0 && significance > 0) && !(number < 0 && significance < 0)) {\n    return error.num;\n  }\n\n  significance = Math.abs(significance);\n  var precision = -Math.floor(Math.log(significance) / Math.log(10));\n  if (number >= 0) {\n    return exports.ROUND(Math.floor(number / significance) * significance, precision);\n  } else {\n    return -exports.ROUND(Math.ceil(Math.abs(number) / significance), precision);\n  }\n};\n\n//TODO: Verify\nexports.FLOOR.MATH = function(number, significance, mode) {\n  significance = (significance === undefined) ? 1 : significance;\n  mode = (mode === undefined) ? 0 : mode;\n\n  number = utils.parseNumber(number);\n  significance = utils.parseNumber(significance);\n  mode = utils.parseNumber(mode);\n  if (utils.anyIsError(number, significance, mode)) {\n    return error.value;\n  }\n  if (significance === 0) {\n    return 0;\n  }\n\n  significance = significance ? Math.abs(significance) : 1;\n  var precision = -Math.floor(Math.log(significance) / Math.log(10));\n  if (number >= 0) {\n    return exports.ROUND(Math.floor(number / significance) * significance, precision);\n  } else if (mode === 0 || mode === undefined) {\n    return -exports.ROUND(Math.ceil(Math.abs(number) / significance) * significance, precision);\n  }\n  return -exports.ROUND(Math.floor(Math.abs(number) / significance) * significance, precision);\n};\n\n// Deprecated\nexports.FLOOR.PRECISE = exports.FLOOR.MATH;\n\n// adapted http://rosettacode.org/wiki/Greatest_common_divisor#JavaScript\nexports.GCD = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var n = range.length;\n  var r0 = range[0];\n  var x = r0 < 0 ? -r0 : r0;\n  for (var i = 1; i < n; i++) {\n    var ri = range[i];\n    var y = ri < 0 ? -ri : ri;\n    while (x && y) {\n      if (x > y) {\n        x %= y;\n      } else {\n        y %= x;\n      }\n    }\n    x += y;\n  }\n  return x;\n};\n\n\nexports.INT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.floor(number);\n};\n\n//TODO: verify\nexports.ISO = {\n  CEILING: exports.CEILING\n};\n\nexports.LCM = function() {\n  // Credits: Jonas Raoni Soares Silva\n  var o = utils.parseNumberArray(utils.flatten(arguments));\n  if (o instanceof Error) {\n    return o;\n  }\n  for (var i, j, n, d, r = 1;\n       (n = o.pop()) !== undefined;) {\n    while (n > 1) {\n      if (n % 2) {\n        for (i = 3, j = Math.floor(Math.sqrt(n)); i <= j && n % i; i += 2) {\n          //empty\n        }\n        d = (i <= j) ? i : n;\n      } else {\n        d = 2;\n      }\n      for (n /= d, r *= d, i = o.length; i;\n           (o[--i] % d) === 0 && (o[i] /= d) === 1 && o.splice(i, 1)) {\n        //empty\n      }\n    }\n  }\n  return r;\n};\n\nexports.LN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.log(number);\n};\n\nexports.LN10 = function() {\n  return Math.log(10);\n};\n\nexports.LN2 = function() {\n  return Math.log(2);\n};\n\nexports.LOG10E = function() {\n  return Math.LOG10E;\n};\n\nexports.LOG2E = function() {\n  return Math.LOG2E;\n};\n\nexports.LOG = function(number, base) {\n  number = utils.parseNumber(number);\n  base = utils.parseNumber(base);\n  if (utils.anyIsError(number, base)) {\n    return error.value;\n  }\n  base = (base === undefined) ? 10 : base;\n  return Math.log(number) / Math.log(base);\n};\n\nexports.LOG10 = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.log(number) / Math.log(10);\n};\n\nexports.MOD = function(dividend, divisor) {\n  dividend = utils.parseNumber(dividend);\n  divisor = utils.parseNumber(divisor);\n  if (utils.anyIsError(dividend, divisor)) {\n    return error.value;\n  }\n  if (divisor === 0) {\n    return error.div0;\n  }\n  var modulus = Math.abs(dividend % divisor);\n  return (divisor > 0) ? modulus : -modulus;\n};\n\nexports.MROUND = function(number, multiple) {\n  number = utils.parseNumber(number);\n  multiple = utils.parseNumber(multiple);\n  if (utils.anyIsError(number, multiple)) {\n    return error.value;\n  }\n  if (number * multiple < 0) {\n    return error.num;\n  }\n\n  return Math.round(number / multiple) * multiple;\n};\n\nexports.MULTINOMIAL = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n  var sum = 0;\n  var divisor = 1;\n  for (var i = 0; i < args.length; i++) {\n    sum += args[i];\n    divisor *= exports.FACT(args[i]);\n  }\n  return exports.FACT(sum) / divisor;\n};\n\nexports.ODD = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var temp = Math.ceil(Math.abs(number));\n  temp = (temp & 1) ? temp : temp + 1;\n  return (number > 0) ? temp : -temp;\n};\n\nexports.PI = function() {\n  return Math.PI;\n};\n\nexports.E = function() {\n  return Math.E;\n};\n\nexports.POWER = function(number, power) {\n  number = utils.parseNumber(number);\n  power = utils.parseNumber(power);\n  if (utils.anyIsError(number, power)) {\n    return error.value;\n  }\n  var result = Math.pow(number, power);\n  if (isNaN(result)) {\n    return error.num;\n  }\n\n  return result;\n};\n\nexports.PRODUCT = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n  var result = 1;\n  for (var i = 0; i < args.length; i++) {\n    result *= args[i];\n  }\n  return result;\n};\n\nexports.QUOTIENT = function(numerator, denominator) {\n  numerator = utils.parseNumber(numerator);\n  denominator = utils.parseNumber(denominator);\n  if (utils.anyIsError(numerator, denominator)) {\n    return error.value;\n  }\n  return parseInt(numerator / denominator, 10);\n};\n\nexports.RADIANS = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return number * Math.PI / 180;\n};\n\nexports.RAND = function() {\n  return Math.random();\n};\n\nexports.RANDBETWEEN = function(bottom, top) {\n  bottom = utils.parseNumber(bottom);\n  top = utils.parseNumber(top);\n  if (utils.anyIsError(bottom, top)) {\n    return error.value;\n  }\n  // Creative Commons Attribution 3.0 License\n  // Copyright (c) 2012 eqcode\n  return bottom + Math.ceil((top - bottom + 1) * Math.random()) - 1;\n};\n\n// TODO\nexports.ROMAN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  // The MIT License\n  // Copyright (c) 2008 Steven Levithan\n  var digits = String(number).split('');\n  var key = ['', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM', '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC', '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'];\n  var roman = '';\n  var i = 3;\n  while (i--) {\n    roman = (key[+digits.pop() + (i * 10)] || '') + roman;\n  }\n  return new Array(+digits.join('') + 1).join('M') + roman;\n};\n\nexports.ROUND = function(number, digits) {\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  return Math.round(number * Math.pow(10, digits)) / Math.pow(10, digits);\n};\n\nexports.ROUNDDOWN = function(number, digits) {\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  var sign = (number > 0) ? 1 : -1;\n  return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\n};\n\nexports.ROUNDUP = function(number, digits) {\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  var sign = (number > 0) ? 1 : -1;\n  return sign * (Math.ceil(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\n};\n\nexports.SEC = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 1 / Math.cos(number);\n};\n\nexports.SECH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return 2 / (Math.exp(number) + Math.exp(-number));\n};\n\nexports.SERIESSUM = function(x, n, m, coefficients) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  m = utils.parseNumber(m);\n  coefficients = utils.parseNumberArray(coefficients);\n  if (utils.anyIsError(x, n, m, coefficients)) {\n    return error.value;\n  }\n  var result = coefficients[0] * Math.pow(x, n);\n  for (var i = 1; i < coefficients.length; i++) {\n    result += coefficients[i] * Math.pow(x, n + i * m);\n  }\n  return result;\n};\n\nexports.SIGN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  if (number < 0) {\n    return -1;\n  } else if (number === 0) {\n    return 0;\n  } else {\n    return 1;\n  }\n};\n\nexports.SIN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.sin(number);\n};\n\nexports.SINH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return (Math.exp(number) - Math.exp(-number)) / 2;\n};\n\nexports.SQRT = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  if (number < 0) {\n    return error.num;\n  }\n  return Math.sqrt(number);\n};\n\nexports.SQRTPI = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.sqrt(number * Math.PI);\n};\n\nexports.SQRT1_2 = function() {\n  return 1 / Math.sqrt(2);\n};\n\nexports.SQRT2 = function() {\n  return Math.sqrt(2);\n};\n\nexports.SUBTOTAL = function(function_code, ref1) {\n  function_code = utils.parseNumber(function_code);\n  if (function_code instanceof Error) {\n    return function_code;\n  }\n  switch (function_code) {\n    case 1:\n      return statistical.AVERAGE(ref1);\n    case 2:\n      return statistical.COUNT(ref1);\n    case 3:\n      return statistical.COUNTA(ref1);\n    case 4:\n      return statistical.MAX(ref1);\n    case 5:\n      return statistical.MIN(ref1);\n    case 6:\n      return exports.PRODUCT(ref1);\n    case 7:\n      return statistical.STDEV.S(ref1);\n    case 8:\n      return statistical.STDEV.P(ref1);\n    case 9:\n      return exports.SUM(ref1);\n    case 10:\n      return statistical.VAR.S(ref1);\n    case 11:\n      return statistical.VAR.P(ref1);\n    // no hidden values for us\n    case 101:\n      return statistical.AVERAGE(ref1);\n    case 102:\n      return statistical.COUNT(ref1);\n    case 103:\n      return statistical.COUNTA(ref1);\n    case 104:\n      return statistical.MAX(ref1);\n    case 105:\n      return statistical.MIN(ref1);\n    case 106:\n      return exports.PRODUCT(ref1);\n    case 107:\n      return statistical.STDEV.S(ref1);\n    case 108:\n      return statistical.STDEV.P(ref1);\n    case 109:\n      return exports.SUM(ref1);\n    case 110:\n      return statistical.VAR.S(ref1);\n    case 111:\n      return statistical.VAR.P(ref1);\n\n  }\n};\n\nexports.ADD = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.value;\n  }\n\n  return num1 + num2;\n};\n\nexports.MINUS = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.value;\n  }\n\n  return num1 - num2;\n};\n\nexports.DIVIDE = function (dividend, divisor) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  dividend = utils.parseNumber(dividend);\n  divisor = utils.parseNumber(divisor);\n  if (utils.anyIsError(dividend, divisor)) {\n    return error.value;\n  }\n\n  if (divisor === 0) {\n    return error.div0;\n  }\n\n  return dividend / divisor;\n};\n\nexports.MULTIPLY = function (factor1, factor2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  factor1 = utils.parseNumber(factor1);\n  factor2 = utils.parseNumber(factor2);\n  if (utils.anyIsError(factor1, factor2)) {\n    return error.value;\n  }\n\n  return factor1 * factor2;\n};\n\nexports.GTE = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.error;\n  }\n\n  return num1 >= num2;\n};\n\nexports.LT = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.error;\n  }\n\n  return num1 < num2;\n};\n\n\nexports.LTE = function (num1, num2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  num1 = utils.parseNumber(num1);\n  num2 = utils.parseNumber(num2);\n  if (utils.anyIsError(num1, num2)) {\n    return error.error;\n  }\n\n  return num1 <= num2;\n};\n\nexports.EQ = function (value1, value2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  return value1 === value2;\n};\n\nexports.NE = function (value1, value2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  return value1 !== value2;\n};\n\nexports.POW = function (base, exponent) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  base = utils.parseNumber(base);\n  exponent = utils.parseNumber(exponent);\n  if (utils.anyIsError(base, exponent)) {\n    return error.error;\n  }\n\n  return exports.POWER(base, exponent);\n};\n\nexports.SUM = function() {\n  var result = 0;\n\n  utils.arrayEach(utils.argsToArray(arguments), function(value) {\n    if (typeof value === 'number') {\n      result += value;\n\n    } else if (typeof value === 'string') {\n      var parsed = parseFloat(value);\n\n      !isNaN(parsed) && (result += parsed);\n\n    } else if (Array.isArray(value)) {\n      result += exports.SUM.apply(null, value);\n    }\n  });\n\n  return result;\n};\n\nexports.SUMIF = function(range, criteria) {\n  range = utils.parseNumberArray(utils.flatten(range));\n\n  if (range instanceof Error) {\n    return range;\n  }\n  var result = 0;\n  var isWildcard = criteria === void 0 || criteria === '*';\n  var tokenizedCriteria = isWildcard ? null : evalExpression.parse(criteria + '');\n\n  for (var i = 0; i < range.length; i++) {\n    var value = range[i];\n\n    if (isWildcard) {\n      result += value;\n    } else {\n      var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n      result += (evalExpression.compute(tokens) ? value : 0);\n    }\n  }\n\n  return result;\n};\n\nexports.SUMIFS = function() {\n  var args = utils.argsToArray(arguments);\n  var range = utils.parseNumberArray(utils.flatten(args.shift()));\n\n  if (range instanceof Error) {\n    return range;\n  }\n  var criterias = args;\n  var n_range_elements = range.length;\n  var criteriaLength = criterias.length;\n  var result = 0;\n\n  for (var i = 0; i < n_range_elements; i++) {\n    var value = range[i];\n    var isMeetCondition = false;\n\n    for (var j = 0; j < criteriaLength; j++) {\n      var criteria = criterias[j];\n      var isWildcard = criteria === void 0 || criteria === '*';\n      var computedResult = false;\n\n      if (isWildcard) {\n        computedResult = true;\n      } else {\n        var tokenizedCriteria = evalExpression.parse(criteria + '');\n        var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n        computedResult = evalExpression.compute(tokens);\n      }\n\n      // Criterias are calculated as AND so any `false` breakes the loop as unmeet condition\n      if (!computedResult) {\n        isMeetCondition = false;\n        break;\n      }\n\n      isMeetCondition = true;\n    }\n\n    if (isMeetCondition) {\n      result += value;\n    }\n  }\n\n  return result;\n};\n\nexports.SUMPRODUCT = function() {\n  if (!arguments || arguments.length === 0) {\n    return error.value;\n  }\n  var arrays = arguments.length + 1;\n  var result = 0;\n  var product;\n  var k;\n  var _i;\n  var _ij;\n  for (var i = 0; i < arguments[0].length; i++) {\n    if (!(arguments[0][i] instanceof Array)) {\n      product = 1;\n      for (k = 1; k < arrays; k++) {\n        _i = utils.parseNumber(arguments[k - 1][i]);\n        if (_i instanceof Error) {\n          return _i;\n        }\n        product *= _i;\n      }\n      result += product;\n    } else {\n      for (var j = 0; j < arguments[0][i].length; j++) {\n        product = 1;\n        for (k = 1; k < arrays; k++) {\n          _ij = utils.parseNumber(arguments[k - 1][i][j]);\n          if (_ij instanceof Error) {\n            return _ij;\n          }\n          product *= _ij;\n        }\n        result += product;\n      }\n    }\n  }\n  return result;\n};\n\nexports.SUMSQ = function() {\n  var numbers = utils.parseNumberArray(utils.flatten(arguments));\n  if (numbers instanceof Error) {\n    return numbers;\n  }\n  var result = 0;\n  var length = numbers.length;\n  for (var i = 0; i < length; i++) {\n    result += (information.ISNUMBER(numbers[i])) ? numbers[i] * numbers[i] : 0;\n  }\n  return result;\n};\n\nexports.SUMX2MY2 = function(array_x, array_y) {\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  if (utils.anyIsError(array_x, array_y)) {\n    return error.value;\n  }\n  var result = 0;\n  for (var i = 0; i < array_x.length; i++) {\n    result += array_x[i] * array_x[i] - array_y[i] * array_y[i];\n  }\n  return result;\n};\n\nexports.SUMX2PY2 = function(array_x, array_y) {\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  if (utils.anyIsError(array_x, array_y)) {\n    return error.value;\n  }\n  var result = 0;\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  for (var i = 0; i < array_x.length; i++) {\n    result += array_x[i] * array_x[i] + array_y[i] * array_y[i];\n  }\n  return result;\n};\n\nexports.SUMXMY2 = function(array_x, array_y) {\n  array_x = utils.parseNumberArray(utils.flatten(array_x));\n  array_y = utils.parseNumberArray(utils.flatten(array_y));\n  if (utils.anyIsError(array_x, array_y)) {\n    return error.value;\n  }\n  var result = 0;\n  array_x = utils.flatten(array_x);\n  array_y = utils.flatten(array_y);\n  for (var i = 0; i < array_x.length; i++) {\n    result += Math.pow(array_x[i] - array_y[i], 2);\n  }\n  return result;\n};\n\nexports.TAN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return Math.tan(number);\n};\n\nexports.TANH = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  var e2 = Math.exp(2 * number);\n  return (e2 - 1) / (e2 + 1);\n};\n\nexports.TRUNC = function(number, digits) {\n  digits = (digits === undefined) ? 0 : digits;\n  number = utils.parseNumber(number);\n  digits = utils.parseNumber(digits);\n  if (utils.anyIsError(number, digits)) {\n    return error.value;\n  }\n  var sign = (number > 0) ? 1 : -1;\n  return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\n};\n","var mathTrig = require('./math-trig');\nvar text = require('./text');\nvar jStat = require('jstat');\nvar utils = require('./utils/common');\nvar evalExpression = require('./utils/criteria-eval');\nvar error = require('./utils/error');\nvar misc = require('./miscellaneous');\n\nvar SQRT2PI = 2.5066282746310002;\n\nexports.AVEDEV = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  return jStat.sum(jStat(range).subtract(jStat.mean(range)).abs()[0]) / range.length;\n};\n\nexports.AVERAGE = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  var n = range.length;\n  var sum = 0;\n  var count = 0;\n  var result;\n\n  for (var i = 0; i < n; i++) {\n    sum += range[i];\n    count += 1;\n  }\n  result = sum / count;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.AVERAGEA = function() {\n  var range = utils.flatten(arguments);\n  var n = range.length;\n  var sum = 0;\n  var count = 0;\n  var result;\n  for (var i = 0; i < n; i++) {\n    var el = range[i];\n    if (typeof el === 'number') {\n      sum += el;\n    }\n    if (el === true) {\n      sum++;\n    }\n    if (el !== null) {\n      count++;\n    }\n  }\n  result = sum / count;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.AVERAGEIF = function(range, criteria, average_range) {\n  if (arguments.length <= 1) {\n    return error.na;\n  }\n  average_range = average_range || range;\n  range = utils.flatten(range);\n  average_range = utils.parseNumberArray(utils.flatten(average_range));\n\n  if (average_range instanceof Error) {\n    return average_range;\n  }\n  var average_count = 0;\n  var result = 0;\n  var isWildcard = criteria === void 0 || criteria === '*';\n  var tokenizedCriteria = isWildcard ? null : evalExpression.parse(criteria + '');\n\n  for (var i = 0; i < range.length; i++) {\n    var value = range[i];\n\n    if (isWildcard) {\n      result += average_range[i];\n      average_count++;\n    } else {\n      var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n      if (evalExpression.compute(tokens)) {\n        result += average_range[i];\n        average_count++;\n      }\n    }\n  }\n\n  return result / average_count;\n};\n\nexports.AVERAGEIFS = function() {\n  // Does not work with multi dimensional ranges yet!\n  //http://office.microsoft.com/en-001/excel-help/averageifs-function-HA010047493.aspx\n  var args = utils.argsToArray(arguments);\n  var criteriaLength = (args.length - 1) / 2;\n  var range = utils.flatten(args[0]);\n  var count = 0;\n  var result = 0;\n\n  for (var i = 0; i < range.length; i++) {\n    var isMeetCondition = false;\n\n    for (var j = 0; j < criteriaLength; j++) {\n      var value = args[2 * j + 1][i];\n      var criteria = args[2 * j + 2];\n      var isWildcard = criteria === void 0 || criteria === '*';\n      var computedResult = false;\n\n      if (isWildcard) {\n        computedResult = true;\n      } else {\n        var tokenizedCriteria = evalExpression.parse(criteria + '');\n        var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n        computedResult = evalExpression.compute(tokens);\n      }\n\n      // Criterias are calculated as AND so any `false` breakes the loop as unmeet condition\n      if (!computedResult) {\n        isMeetCondition = false;\n        break;\n      }\n\n      isMeetCondition = true;\n    }\n\n    if (isMeetCondition) {\n      result += range[i];\n      count++;\n    }\n  }\n\n  var average = result / count;\n\n  if (isNaN(average)) {\n    return 0;\n  } else {\n    return average;\n  }\n};\n\nexports.BETA = {};\n\nexports.BETA.DIST = function(x, alpha, beta, cumulative, A, B) {\n  if (arguments.length < 4) {\n    return error.value;\n  }\n\n  A = (A === undefined) ? 0 : A;\n  B = (B === undefined) ? 1 : B;\n\n  x = utils.parseNumber(x);\n  alpha = utils.parseNumber(alpha);\n  beta = utils.parseNumber(beta);\n  A = utils.parseNumber(A);\n  B = utils.parseNumber(B);\n  if (utils.anyIsError(x, alpha, beta, A, B)) {\n    return error.value;\n  }\n\n  x = (x - A) / (B - A);\n  return (cumulative) ? jStat.beta.cdf(x, alpha, beta) : jStat.beta.pdf(x, alpha, beta);\n};\n\nexports.BETA.INV = function(probability, alpha, beta, A, B) {\n  A = (A === undefined) ? 0 : A;\n  B = (B === undefined) ? 1 : B;\n\n  probability = utils.parseNumber(probability);\n  alpha = utils.parseNumber(alpha);\n  beta = utils.parseNumber(beta);\n  A = utils.parseNumber(A);\n  B = utils.parseNumber(B);\n  if (utils.anyIsError(probability, alpha, beta, A, B)) {\n    return error.value;\n  }\n\n  return jStat.beta.inv(probability, alpha, beta) * (B - A) + A;\n};\n\nexports.BINOM = {};\n\nexports.BINOM.DIST = function(successes, trials, probability, cumulative) {\n  successes = utils.parseNumber(successes);\n  trials = utils.parseNumber(trials);\n  probability = utils.parseNumber(probability);\n  cumulative = utils.parseNumber(cumulative);\n  if (utils.anyIsError(successes, trials, probability, cumulative)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.binomial.cdf(successes, trials, probability) : jStat.binomial.pdf(successes, trials, probability);\n};\n\nexports.BINOM.DIST.RANGE = function(trials, probability, successes, successes2) {\n  successes2 = (successes2 === undefined) ? successes : successes2;\n\n  trials = utils.parseNumber(trials);\n  probability = utils.parseNumber(probability);\n  successes = utils.parseNumber(successes);\n  successes2 = utils.parseNumber(successes2);\n  if (utils.anyIsError(trials, probability, successes, successes2)) {\n    return error.value;\n  }\n\n  var result = 0;\n  for (var i = successes; i <= successes2; i++) {\n    result += mathTrig.COMBIN(trials, i) * Math.pow(probability, i) * Math.pow(1 - probability, trials - i);\n  }\n  return result;\n};\n\nexports.BINOM.INV = function(trials, probability, alpha) {\n  trials = utils.parseNumber(trials);\n  probability = utils.parseNumber(probability);\n  alpha = utils.parseNumber(alpha);\n  if (utils.anyIsError(trials, probability, alpha)) {\n    return error.value;\n  }\n\n  var x = 0;\n  while (x <= trials) {\n    if (jStat.binomial.cdf(x, trials, probability) >= alpha) {\n      return x;\n    }\n    x++;\n  }\n};\n\nexports.CHISQ = {};\n\nexports.CHISQ.DIST = function(x, k, cumulative) {\n  x = utils.parseNumber(x);\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(x, k)) {\n    return error.value;\n  }\n\n  return (cumulative) ? jStat.chisquare.cdf(x, k) : jStat.chisquare.pdf(x, k);\n};\n\nexports.CHISQ.DIST.RT = function(x, k) {\n  if (!x | !k) {\n    return error.na;\n  }\n\n  if (x < 1 || k > Math.pow(10, 10)) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof k !== 'number')) {\n    return error.value;\n  }\n\n  return 1 -  jStat.chisquare.cdf(x, k);\n};\n\nexports.CHISQ.INV = function(probability, k) {\n  probability = utils.parseNumber(probability);\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(probability, k)) {\n    return error.value;\n  }\n  return jStat.chisquare.inv(probability, k);\n};\n\nexports.CHISQ.INV.RT = function(p, k) {\n  if (!p | !k) {\n    return error.na;\n  }\n\n  if (p < 0 || p > 1 || k < 1 || k > Math.pow(10, 10)) {\n    return error.num;\n  }\n\n  if ((typeof p !== 'number') || (typeof k !== 'number')) {\n    return error.value;\n  }\n\n  return jStat.chisquare.inv(1.0 - p, k);\n};\n\nexports.CHISQ.TEST = function(observed, expected) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if ((!(observed instanceof Array)) || (!(expected instanceof Array))) {\n    return error.value;\n  }\n\n  if (observed.length !== expected.length) {\n    return error.value;\n  }\n\n  if (observed[0] && expected[0] &&\n    observed[0].length !== expected[0].length) {\n    return error.value;\n  }\n\n  var row = observed.length;\n  var tmp, i, j;\n\n  // Convert single-dimension array into two-dimension array\n  for (i = 0; i < row; i ++) {\n    if (!(observed[i] instanceof Array)) {\n      tmp = observed[i];\n      observed[i] = [];\n      observed[i].push(tmp);\n    }\n    if (!(expected[i] instanceof Array)) {\n      tmp = expected[i];\n      expected[i] = [];\n      expected[i].push(tmp);\n    }\n  }\n\n  var col = observed[0].length;\n  var dof = (col === 1) ? row-1 : (row-1)*(col-1);\n  var xsqr = 0;\n  var Pi =Math.PI;\n\n  for (i = 0; i < row; i ++) {\n    for (j = 0; j < col; j ++) {\n      xsqr += Math.pow((observed[i][j] - expected[i][j]), 2) / expected[i][j];\n    }\n  }\n\n  // Get independency by X square and its degree of freedom\n  function ChiSq(xsqr, dof) {\n    var p = Math.exp(-0.5 * xsqr);\n    if((dof%2) === 1) {\n      p = p * Math.sqrt(2 * xsqr/Pi);\n    }\n    var k = dof;\n    while(k >= 2) {\n      p = p * xsqr/k;\n      k = k - 2;\n    }\n    var t = p;\n    var a = dof;\n    while (t > 0.0000000001*p) {\n      a = a + 2;\n      t = t * xsqr/a;\n      p = p + t;\n    }\n    return 1-p;\n  }\n\n  return Math.round(ChiSq(xsqr, dof) * 1000000) / 1000000;\n};\n\nexports.COLUMN = function(matrix, index) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (index < 0) {\n    return error.num;\n  }\n\n  if (!(matrix instanceof Array) || (typeof index !== 'number')) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return undefined;\n  }\n\n  return jStat.col(matrix, index);\n};\n\nexports.COLUMNS = function(matrix) {\n  if (arguments.length !== 1) {\n    return error.na;\n  }\n\n  if (!(matrix instanceof Array)) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return 0;\n  }\n\n  return jStat.cols(matrix);\n};\n\nexports.CONFIDENCE = {};\n\nexports.CONFIDENCE.NORM = function(alpha, sd, n) {\n  alpha = utils.parseNumber(alpha);\n  sd = utils.parseNumber(sd);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(alpha, sd, n)) {\n    return error.value;\n  }\n  return jStat.normalci(1, alpha, sd, n)[1] - 1;\n};\n\nexports.CONFIDENCE.T = function(alpha, sd, n) {\n  alpha = utils.parseNumber(alpha);\n  sd = utils.parseNumber(sd);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(alpha, sd, n)) {\n    return error.value;\n  }\n  return jStat.tci(1, alpha, sd, n)[1] - 1;\n};\n\nexports.CORREL = function(array1, array2) {\n  array1 = utils.parseNumberArray(utils.flatten(array1));\n  array2 = utils.parseNumberArray(utils.flatten(array2));\n  if (utils.anyIsError(array1, array2)) {\n    return error.value;\n  }\n  return jStat.corrcoeff(array1, array2);\n};\n\nexports.COUNT = function() {\n  return utils.numbers(utils.flatten(arguments)).length;\n};\n\nexports.COUNTA = function() {\n  var range = utils.flatten(arguments);\n  return range.length - exports.COUNTBLANK(range);\n};\n\nexports.COUNTIN = function (range, value) {\n  var result = 0;\n\n  range = utils.flatten(range);\n\n  for (var i = 0; i < range.length; i++) {\n    if (range[i] === value) {\n      result++;\n    }\n  }\n  return result;\n};\n\n\nexports.COUNTBLANK = function() {\n  var range = utils.flatten(arguments);\n  var blanks = 0;\n  var element;\n  for (var i = 0; i < range.length; i++) {\n    element = range[i];\n    if (element === null || element === '') {\n      blanks++;\n    }\n  }\n  return blanks;\n};\n\nexports.COUNTIF = function(range, criteria) {\n  range = utils.flatten(range);\n\n  var isWildcard = criteria === void 0 || criteria === '*';\n\n  if (isWildcard) {\n    return range.length;\n  }\n\n  var matches = 0;\n  var tokenizedCriteria = evalExpression.parse(criteria + '');\n\n  for (var i = 0; i < range.length; i++) {\n    var value = range[i];\n    var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n    if (evalExpression.compute(tokens)) {\n      matches++;\n    }\n  }\n\n  return matches;\n};\n\nexports.COUNTIFS = function() {\n  var args = utils.argsToArray(arguments);\n  var results = new Array(utils.flatten(args[0]).length);\n\n  for (var i = 0; i < results.length; i++) {\n    results[i] = true;\n  }\n  for (i = 0; i < args.length; i += 2) {\n    var range = utils.flatten(args[i]);\n    var criteria = args[i + 1];\n    var isWildcard = criteria === void 0 || criteria === '*';\n\n    if (!isWildcard) {\n      var tokenizedCriteria = evalExpression.parse(criteria + '');\n\n      for (var j = 0; j < range.length; j++) {\n        var value = range[j];\n        var tokens = [evalExpression.createToken(value, evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n        results[j] = results[j] && evalExpression.compute(tokens);\n      }\n    }\n  }\n  var result = 0;\n  for (i = 0; i < results.length; i++) {\n    if (results[i]) {\n      result++;\n    }\n  }\n\n  return result;\n};\n\nexports.COUNTUNIQUE = function () {\n  return misc.UNIQUE.apply(null, utils.flatten(arguments)).length;\n};\n\nexports.COVARIANCE = {};\n\nexports.COVARIANCE.P = function(array1, array2) {\n  array1 = utils.parseNumberArray(utils.flatten(array1));\n  array2 = utils.parseNumberArray(utils.flatten(array2));\n  if (utils.anyIsError(array1, array2)) {\n    return error.value;\n  }\n  var mean1 = jStat.mean(array1);\n  var mean2 = jStat.mean(array2);\n  var result = 0;\n  var n = array1.length;\n  for (var i = 0; i < n; i++) {\n    result += (array1[i] - mean1) * (array2[i] - mean2);\n  }\n  return result / n;\n};\n\nexports.COVARIANCE.S = function(array1, array2) {\n  array1 = utils.parseNumberArray(utils.flatten(array1));\n  array2 = utils.parseNumberArray(utils.flatten(array2));\n  if (utils.anyIsError(array1, array2)) {\n    return error.value;\n  }\n  return jStat.covariance(array1, array2);\n};\n\nexports.DEVSQ = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var result = 0;\n  for (var i = 0; i < range.length; i++) {\n    result += Math.pow((range[i] - mean), 2);\n  }\n  return result;\n};\n\nexports.EXPON = {};\n\nexports.EXPON.DIST = function(x, lambda, cumulative) {\n  x = utils.parseNumber(x);\n  lambda = utils.parseNumber(lambda);\n  if (utils.anyIsError(x, lambda)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.exponential.cdf(x, lambda) : jStat.exponential.pdf(x, lambda);\n};\n\nexports.F = {};\n\nexports.F.DIST = function(x, d1, d2, cumulative) {\n  x = utils.parseNumber(x);\n  d1 = utils.parseNumber(d1);\n  d2 = utils.parseNumber(d2);\n  if (utils.anyIsError(x, d1, d2)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.centralF.cdf(x, d1, d2) : jStat.centralF.pdf(x, d1, d2);\n};\n\nexports.F.DIST.RT = function(x, d1, d2) {\n  if (arguments.length !== 3) {\n    return error.na;\n  }\n\n  if (x < 0 || d1 < 1 || d2 < 1) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof d1 !== 'number') || (typeof d2 !== 'number')) {\n    return error.value;\n  }\n\n  return 1 - jStat.centralF.cdf(x, d1, d2);\n};\n\nexports.F.INV = function(probability, d1, d2) {\n  probability = utils.parseNumber(probability);\n  d1 = utils.parseNumber(d1);\n  d2 = utils.parseNumber(d2);\n  if (utils.anyIsError(probability, d1, d2)) {\n    return error.value;\n  }\n  if (probability <= 0.0 || probability > 1.0) {\n    return error.num;\n  }\n\n  return jStat.centralF.inv(probability, d1, d2);\n};\n\nexports.F.INV.RT = function(p, d1, d2) {\n  if (arguments.length !== 3) {\n    return error.na;\n  }\n\n  if (p < 0 || p > 1 || d1 < 1 || d1 > Math.pow(10, 10) || d2 < 1 || d2 > Math.pow(10, 10)) {\n    return error.num;\n  }\n\n  if ((typeof p !== 'number') || (typeof d1 !== 'number') || (typeof d2 !== 'number')) {\n    return error.value;\n  }\n\n  return jStat.centralF.inv(1.0 - p, d1, d2);\n};\n\nexports.F.TEST = function(array1, array2) {\n  if (!array1 || !array2) {\n    return error.na;\n  }\n\n  if (!(array1 instanceof Array) || !(array2 instanceof Array)) {\n    return error.na;\n  }\n\n  if (array1.length < 2 || array2.length < 2) {\n    return error.div0;\n  }\n\n  var sumOfSquares = function(values, x1) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n      sum +=Math.pow((values[i] - x1), 2);\n    }\n    return sum;\n  };\n\n  var x1 = mathTrig.SUM(array1) / array1.length;\n  var x2 = mathTrig.SUM(array2) / array2.length;\n  var sum1 = sumOfSquares(array1, x1) / (array1.length - 1);\n  var sum2 = sumOfSquares(array2, x2) / (array2.length - 1);\n\n  return sum1 / sum2;\n};\n\nexports.FISHER = function(x) {\n  x = utils.parseNumber(x);\n  if (x instanceof Error) {\n    return x;\n  }\n  return Math.log((1 + x) / (1 - x)) / 2;\n};\n\nexports.FISHERINV = function(y) {\n  y = utils.parseNumber(y);\n  if (y instanceof Error) {\n    return y;\n  }\n  var e2y = Math.exp(2 * y);\n  return (e2y - 1) / (e2y + 1);\n};\n\nexports.FORECAST = function(x, data_y, data_x) {\n  x = utils.parseNumber(x);\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(x, data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  var b = num / den;\n  var a = ymean - b * xmean;\n  return a + b * x;\n};\n\nexports.FREQUENCY = function(data, bins) {\n  data = utils.parseNumberArray(utils.flatten(data));\n  bins = utils.parseNumberArray(utils.flatten(bins));\n  if (utils.anyIsError(data, bins)) {\n    return error.value;\n  }\n  var n = data.length;\n  var b = bins.length;\n  var r = [];\n  for (var i = 0; i <= b; i++) {\n    r[i] = 0;\n    for (var j = 0; j < n; j++) {\n      if (i === 0) {\n        if (data[j] <= bins[0]) {\n          r[0] += 1;\n        }\n      } else if (i < b) {\n        if (data[j] > bins[i - 1] && data[j] <= bins[i]) {\n          r[i] += 1;\n        }\n      } else if (i === b) {\n        if (data[j] > bins[b - 1]) {\n          r[b] += 1;\n        }\n      }\n    }\n  }\n  return r;\n};\n\n\nexports.GAMMA = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  if (number === 0) {\n    return error.num;\n  }\n\n  if (parseInt(number, 10) === number && number < 0) {\n    return error.num;\n  }\n\n  return jStat.gammafn(number);\n};\n\nexports.GAMMA.DIST = function(value, alpha, beta, cumulative) {\n  if (arguments.length !== 4) {\n    return error.na;\n  }\n\n  if (value < 0 || alpha <= 0 || beta <= 0) {\n    return error.value;\n  }\n\n  if ((typeof value !== 'number') || (typeof alpha !== 'number') || (typeof beta !== 'number')) {\n    return error.value;\n  }\n\n  return cumulative ? jStat.gamma.cdf(value, alpha, beta, true) : jStat.gamma.pdf(value, alpha, beta, false);\n};\n\nexports.GAMMA.INV = function(probability, alpha, beta) {\n  if (arguments.length !== 3) {\n    return error.na;\n  }\n\n  if (probability < 0 || probability > 1 || alpha <= 0 || beta <= 0) {\n    return error.num;\n  }\n\n  if ((typeof probability !== 'number') || (typeof alpha !== 'number') || (typeof beta !== 'number')) {\n    return error.value;\n  }\n\n  return jStat.gamma.inv(probability, alpha, beta);\n};\n\nexports.GAMMALN = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return jStat.gammaln(number);\n};\n\nexports.GAMMALN.PRECISE = function(x) {\n  if (arguments.length !== 1) {\n    return error.na;\n  }\n\n  if (x <= 0) {\n    return error.num;\n  }\n\n  if (typeof x !== 'number') {\n    return error.value;\n  }\n\n  return jStat.gammaln(x);\n};\n\nexports.GAUSS = function(z) {\n  z = utils.parseNumber(z);\n  if (z instanceof Error) {\n    return z;\n  }\n  return jStat.normal.cdf(z, 0, 1) - 0.5;\n};\n\nexports.GEOMEAN = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n  return jStat.geomean(args);\n};\n\nexports.GROWTH = function(known_y, known_x, new_x, use_const) {\n  // Credits: Ilmari Karonen (http://stackoverflow.com/questions/14161990/how-to-implement-growth-function-in-javascript)\n\n  known_y = utils.parseNumberArray(known_y);\n  if (known_y instanceof Error) {\n    return known_y;\n  }\n\n  // Default values for optional parameters:\n  var i;\n  if (known_x === undefined) {\n    known_x = [];\n    for (i = 1; i <= known_y.length; i++) {\n      known_x.push(i);\n    }\n  }\n  if (new_x === undefined) {\n    new_x = [];\n    for (i = 1; i <= known_y.length; i++) {\n      new_x.push(i);\n    }\n  }\n\n  known_x = utils.parseNumberArray(known_x);\n  new_x = utils.parseNumberArray(new_x);\n  if (utils.anyIsError(known_x, new_x)) {\n    return error.value;\n  }\n\n\n  if (use_const === undefined) {\n    use_const = true;\n  }\n\n  // Calculate sums over the data:\n  var n = known_y.length;\n  var avg_x = 0;\n  var avg_y = 0;\n  var avg_xy = 0;\n  var avg_xx = 0;\n  for (i = 0; i < n; i++) {\n    var x = known_x[i];\n    var y = Math.log(known_y[i]);\n    avg_x += x;\n    avg_y += y;\n    avg_xy += x * y;\n    avg_xx += x * x;\n  }\n  avg_x /= n;\n  avg_y /= n;\n  avg_xy /= n;\n  avg_xx /= n;\n\n  // Compute linear regression coefficients:\n  var beta;\n  var alpha;\n  if (use_const) {\n    beta = (avg_xy - avg_x * avg_y) / (avg_xx - avg_x * avg_x);\n    alpha = avg_y - beta * avg_x;\n  } else {\n    beta = avg_xy / avg_xx;\n    alpha = 0;\n  }\n\n  // Compute and return result array:\n  var new_y = [];\n  for (i = 0; i < new_x.length; i++) {\n    new_y.push(Math.exp(alpha + beta * new_x[i]));\n  }\n  return new_y;\n};\n\nexports.HARMEAN = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var n = range.length;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    den += 1 / range[i];\n  }\n  return n / den;\n};\n\nexports.HYPGEOM = {};\n\nexports.HYPGEOM.DIST = function(x, n, M, N, cumulative) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  M = utils.parseNumber(M);\n  N = utils.parseNumber(N);\n  if (utils.anyIsError(x, n, M, N)) {\n    return error.value;\n  }\n\n  function pdf(x, n, M, N) {\n    return mathTrig.COMBIN(M, x) * mathTrig.COMBIN(N - M, n - x) / mathTrig.COMBIN(N, n);\n  }\n\n  function cdf(x, n, M, N) {\n    var result = 0;\n    for (var i = 0; i <= x; i++) {\n      result += pdf(i, n, M, N);\n    }\n    return result;\n  }\n\n  return (cumulative) ? cdf(x, n, M, N) : pdf(x, n, M, N);\n};\n\nexports.INTERCEPT = function(known_y, known_x) {\n  known_y = utils.parseNumberArray(known_y);\n  known_x = utils.parseNumberArray(known_x);\n  if (utils.anyIsError(known_y, known_x)) {\n    return error.value;\n  }\n  if (known_y.length !== known_x.length) {\n    return error.na;\n  }\n  return exports.FORECAST(0, known_y, known_x);\n};\n\nexports.KURT = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var n = range.length;\n  var sigma = 0;\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 4);\n  }\n  sigma = sigma / Math.pow(jStat.stdev(range, true), 4);\n  return ((n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3))) * sigma - 3 * (n - 1) * (n - 1) / ((n - 2) * (n - 3));\n};\n\nexports.LARGE = function(range, k) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(range, k)) {\n    return range;\n  }\n  return range.sort(function(a, b) {\n    return b - a;\n  })[k - 1];\n};\n\nexports.LINEST = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var ymean = jStat.mean(data_y);\n  var xmean = jStat.mean(data_x);\n  var n = data_x.length;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  var m = num / den;\n  var b = ymean - m * xmean;\n  return [m, b];\n};\n\n// According to Microsoft:\n// http://office.microsoft.com/en-us/starter-help/logest-function-HP010342665.aspx\n// LOGEST returns are based on the following linear model:\n// ln y = x1 ln m1 + ... + xn ln mn + ln b\nexports.LOGEST = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  for (var i = 0; i < data_y.length; i ++) {\n    data_y[i] = Math.log(data_y[i]);\n  }\n\n  var result = exports.LINEST(data_y, data_x);\n  result[0] = Math.round(Math.exp(result[0])*1000000)/1000000;\n  result[1] = Math.round(Math.exp(result[1])*1000000)/1000000;\n  return result;\n};\n\nexports.LOGNORM = {};\n\nexports.LOGNORM.DIST = function(x, mean, sd, cumulative) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(x, mean, sd)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.lognormal.cdf(x, mean, sd) : jStat.lognormal.pdf(x, mean, sd);\n};\n\nexports.LOGNORM.INV = function(probability, mean, sd) {\n  probability = utils.parseNumber(probability);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(probability, mean, sd)) {\n    return error.value;\n  }\n  return jStat.lognormal.inv(probability, mean, sd);\n};\n\nexports.MAX = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.max.apply(Math, range);\n};\n\nexports.MAXA = function() {\n  var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.max.apply(Math, range);\n};\n\nexports.MEDIAN = function() {\n  var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\n  var result = jStat.median(range);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.MIN = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.min.apply(Math, range);\n};\n\nexports.MINA = function() {\n  var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\n  return (range.length === 0) ? 0 : Math.min.apply(Math, range);\n};\n\nexports.MODE = {};\n\nexports.MODE.MULT = function() {\n  // Credits: Roönaän\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var n = range.length;\n  var count = {};\n  var maxItems = [];\n  var max = 0;\n  var currentItem;\n\n  for (var i = 0; i < n; i++) {\n    currentItem = range[i];\n    count[currentItem] = count[currentItem] ? count[currentItem] + 1 : 1;\n    if (count[currentItem] > max) {\n      max = count[currentItem];\n      maxItems = [];\n    }\n    if (count[currentItem] === max) {\n      maxItems[maxItems.length] = currentItem;\n    }\n  }\n  return maxItems;\n};\n\nexports.MODE.SNGL = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  return exports.MODE.MULT(range).sort(function(a, b) {\n    return a - b;\n  })[0];\n};\n\nexports.NEGBINOM = {};\n\nexports.NEGBINOM.DIST = function(k, r, p, cumulative) {\n  k = utils.parseNumber(k);\n  r = utils.parseNumber(r);\n  p = utils.parseNumber(p);\n  if (utils.anyIsError(k, r, p)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.negbin.cdf(k, r, p) : jStat.negbin.pdf(k, r, p);\n};\n\nexports.NORM = {};\n\nexports.NORM.DIST = function(x, mean, sd, cumulative) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(x, mean, sd)) {\n    return error.value;\n  }\n  if (sd <= 0) {\n    return error.num;\n  }\n\n  // Return normal distribution computed by jStat [http://jstat.org]\n  return (cumulative) ? jStat.normal.cdf(x, mean, sd) : jStat.normal.pdf(x, mean, sd);\n};\n\nexports.NORM.INV = function(probability, mean, sd) {\n  probability = utils.parseNumber(probability);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(probability, mean, sd)) {\n    return error.value;\n  }\n  return jStat.normal.inv(probability, mean, sd);\n};\n\nexports.NORM.S = {};\n\nexports.NORM.S.DIST = function(z, cumulative) {\n  z = utils.parseNumber(z);\n  if (z instanceof Error) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.normal.cdf(z, 0, 1) : jStat.normal.pdf(z, 0, 1);\n};\n\nexports.NORM.S.INV = function(probability) {\n  probability = utils.parseNumber(probability);\n  if (probability instanceof Error) {\n    return error.value;\n  }\n  return jStat.normal.inv(probability, 0, 1);\n};\n\nexports.PEARSON = function(data_x, data_y) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var num = 0;\n  var den1 = 0;\n  var den2 = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den1 += Math.pow(data_x[i] - xmean, 2);\n    den2 += Math.pow(data_y[i] - ymean, 2);\n  }\n  return num / Math.sqrt(den1 * den2);\n};\n\nexports.PERCENTILE = {};\n\nexports.PERCENTILE.EXC = function(array, k) {\n  array = utils.parseNumberArray(utils.flatten(array));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(array, k)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    {\n      return a - b;\n    }\n  });\n  var n = array.length;\n  if (k < 1 / (n + 1) || k > 1 - 1 / (n + 1)) {\n    return error.num;\n  }\n  var l = k * (n + 1) - 1;\n  var fl = Math.floor(l);\n  return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));\n};\n\nexports.PERCENTILE.INC = function(array, k) {\n  array = utils.parseNumberArray(utils.flatten(array));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(array, k)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    return a - b;\n  });\n  var n = array.length;\n  var l = k * (n - 1);\n  var fl = Math.floor(l);\n  return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));\n};\n\nexports.PERCENTRANK = {};\n\nexports.PERCENTRANK.EXC = function(array, x, significance) {\n  significance = (significance === undefined) ? 3 : significance;\n  array = utils.parseNumberArray(utils.flatten(array));\n  x = utils.parseNumber(x);\n  significance = utils.parseNumber(significance);\n  if (utils.anyIsError(array, x, significance)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    return a - b;\n  });\n  var uniques = misc.UNIQUE.apply(null, array);\n  var n = array.length;\n  var m = uniques.length;\n  var power = Math.pow(10, significance);\n  var result = 0;\n  var match = false;\n  var i = 0;\n  while (!match && i < m) {\n    if (x === uniques[i]) {\n      result = (array.indexOf(uniques[i]) + 1) / (n + 1);\n      match = true;\n    } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {\n      result = (array.indexOf(uniques[i]) + 1 + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n + 1);\n      match = true;\n    }\n    i++;\n  }\n  return Math.floor(result * power) / power;\n};\n\nexports.PERCENTRANK.INC = function(array, x, significance) {\n  significance = (significance === undefined) ? 3 : significance;\n  array = utils.parseNumberArray(utils.flatten(array));\n  x = utils.parseNumber(x);\n  significance = utils.parseNumber(significance);\n  if (utils.anyIsError(array, x, significance)) {\n    return error.value;\n  }\n  array = array.sort(function(a, b) {\n    return a - b;\n  });\n  var uniques = misc.UNIQUE.apply(null, array);\n  var n = array.length;\n  var m = uniques.length;\n  var power = Math.pow(10, significance);\n  var result = 0;\n  var match = false;\n  var i = 0;\n  while (!match && i < m) {\n    if (x === uniques[i]) {\n      result = array.indexOf(uniques[i]) / (n - 1);\n      match = true;\n    } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {\n      result = (array.indexOf(uniques[i]) + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n - 1);\n      match = true;\n    }\n    i++;\n  }\n  return Math.floor(result * power) / power;\n};\n\nexports.PERMUT = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return mathTrig.FACT(number) / mathTrig.FACT(number - number_chosen);\n};\n\nexports.PERMUTATIONA = function(number, number_chosen) {\n  number = utils.parseNumber(number);\n  number_chosen = utils.parseNumber(number_chosen);\n  if (utils.anyIsError(number, number_chosen)) {\n    return error.value;\n  }\n  return Math.pow(number, number_chosen);\n};\n\nexports.PHI = function(x) {\n  x = utils.parseNumber(x);\n  if (x instanceof Error) {\n    return error.value;\n  }\n  return Math.exp(-0.5 * x * x) / SQRT2PI;\n};\n\nexports.POISSON = {};\n\nexports.POISSON.DIST = function(x, mean, cumulative) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  if (utils.anyIsError(x, mean)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.poisson.cdf(x, mean) : jStat.poisson.pdf(x, mean);\n};\n\nexports.PROB = function(range, probability, lower, upper) {\n  if (lower === undefined) {\n    return 0;\n  }\n  upper = (upper === undefined) ? lower : upper;\n\n  range = utils.parseNumberArray(utils.flatten(range));\n  probability = utils.parseNumberArray(utils.flatten(probability));\n  lower = utils.parseNumber(lower);\n  upper = utils.parseNumber(upper);\n  if (utils.anyIsError(range, probability, lower, upper)) {\n    return error.value;\n  }\n\n  if (lower === upper) {\n    return (range.indexOf(lower) >= 0) ? probability[range.indexOf(lower)] : 0;\n  }\n\n  var sorted = range.sort(function(a, b) {\n    return a - b;\n  });\n  var n = sorted.length;\n  var result = 0;\n  for (var i = 0; i < n; i++) {\n    if (sorted[i] >= lower && sorted[i] <= upper) {\n      result += probability[range.indexOf(sorted[i])];\n    }\n  }\n  return result;\n};\n\nexports.QUARTILE = {};\n\nexports.QUARTILE.EXC = function(range, quart) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  quart = utils.parseNumber(quart);\n  if (utils.anyIsError(range, quart)) {\n    return error.value;\n  }\n  switch (quart) {\n    case 1:\n      return exports.PERCENTILE.EXC(range, 0.25);\n    case 2:\n      return exports.PERCENTILE.EXC(range, 0.5);\n    case 3:\n      return exports.PERCENTILE.EXC(range, 0.75);\n    default:\n      return error.num;\n  }\n};\n\nexports.QUARTILE.INC = function(range, quart) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  quart = utils.parseNumber(quart);\n  if (utils.anyIsError(range, quart)) {\n    return error.value;\n  }\n  switch (quart) {\n    case 1:\n      return exports.PERCENTILE.INC(range, 0.25);\n    case 2:\n      return exports.PERCENTILE.INC(range, 0.5);\n    case 3:\n      return exports.PERCENTILE.INC(range, 0.75);\n    default:\n      return error.num;\n  }\n};\n\nexports.RANK = {};\n\nexports.RANK.AVG = function(number, range, order) {\n  number = utils.parseNumber(number);\n  range = utils.parseNumberArray(utils.flatten(range));\n  if (utils.anyIsError(number, range)) {\n    return error.value;\n  }\n  range = utils.flatten(range);\n  order = order || false;\n  var sort = (order) ? function(a, b) {\n    return a - b;\n  } : function(a, b) {\n    return b - a;\n  };\n  range = range.sort(sort);\n\n  var length = range.length;\n  var count = 0;\n  for (var i = 0; i < length; i++) {\n    if (range[i] === number) {\n      count++;\n    }\n  }\n\n  return (count > 1) ? (2 * range.indexOf(number) + count + 1) / 2 : range.indexOf(number) + 1;\n};\n\nexports.RANK.EQ = function(number, range, order) {\n  number = utils.parseNumber(number);\n  range = utils.parseNumberArray(utils.flatten(range));\n  if (utils.anyIsError(number, range)) {\n    return error.value;\n  }\n  order = order || false;\n  var sort = (order) ? function(a, b) {\n    return a - b;\n  } : function(a, b) {\n    return b - a;\n  };\n  range = range.sort(sort);\n  return range.indexOf(number) + 1;\n};\n\nexports.ROW = function(matrix, index) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (index < 0) {\n    return error.num;\n  }\n\n  if (!(matrix instanceof Array) || (typeof index !== 'number')) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return undefined;\n  }\n\n  return jStat.row(matrix, index);\n};\n\nexports.ROWS = function(matrix) {\n  if (arguments.length !== 1) {\n    return error.na;\n  }\n\n  if (!(matrix instanceof Array)) {\n    return error.value;\n  }\n\n  if (matrix.length === 0) {\n    return 0;\n  }\n\n  return jStat.rows(matrix);\n};\n\nexports.RSQ = function(data_x, data_y) { // no need to flatten here, PEARSON will take care of that\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  if (utils.anyIsError(data_x, data_y)) {\n    return error.value;\n  }\n  return Math.pow(exports.PEARSON(data_x, data_y), 2);\n};\n\nexports.SKEW = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var n = range.length;\n  var sigma = 0;\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 3);\n  }\n  return n * sigma / ((n - 1) * (n - 2) * Math.pow(jStat.stdev(range, true), 3));\n};\n\nexports.SKEW.P = function() {\n  var range = utils.parseNumberArray(utils.flatten(arguments));\n  if (range instanceof Error) {\n    return range;\n  }\n  var mean = jStat.mean(range);\n  var n = range.length;\n  var m2 = 0;\n  var m3 = 0;\n  for (var i = 0; i < n; i++) {\n    m3 += Math.pow(range[i] - mean, 3);\n    m2 += Math.pow(range[i] - mean, 2);\n  }\n  m3 = m3 / n;\n  m2 = m2 / n;\n  return m3 / Math.pow(m2, 3 / 2);\n};\n\nexports.SLOPE = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  return num / den;\n};\n\nexports.SMALL = function(range, k) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  k = utils.parseNumber(k);\n  if (utils.anyIsError(range, k)) {\n    return range;\n  }\n  return range.sort(function(a, b) {\n    return a - b;\n  })[k - 1];\n};\n\nexports.STANDARDIZE = function(x, mean, sd) {\n  x = utils.parseNumber(x);\n  mean = utils.parseNumber(mean);\n  sd = utils.parseNumber(sd);\n  if (utils.anyIsError(x, mean, sd)) {\n    return error.value;\n  }\n  return (x - mean) / sd;\n};\n\nexports.STDEV = {};\n\nexports.STDEV.P = function() {\n  var v = exports.VAR.P.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.STDEV.S = function() {\n  var v = exports.VAR.S.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  return result;\n};\n\nexports.STDEVA = function() {\n  var v = exports.VARA.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  return result;\n};\n\nexports.STDEVPA = function() {\n  var v = exports.VARPA.apply(this, arguments);\n  var result = Math.sqrt(v);\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\n\nexports.STEYX = function(data_y, data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  if (utils.anyIsError(data_y, data_x)) {\n    return error.value;\n  }\n  var xmean = jStat.mean(data_x);\n  var ymean = jStat.mean(data_y);\n  var n = data_x.length;\n  var lft = 0;\n  var num = 0;\n  var den = 0;\n  for (var i = 0; i < n; i++) {\n    lft += Math.pow(data_y[i] - ymean, 2);\n    num += (data_x[i] - xmean) * (data_y[i] - ymean);\n    den += Math.pow(data_x[i] - xmean, 2);\n  }\n  return Math.sqrt((lft - num * num / den) / (n - 2));\n};\n\nexports.TRANSPOSE = function(matrix) {\n  if (!matrix) {\n    return error.na;\n  }\n  return jStat.transpose(matrix);\n};\n\nexports.T = text.T;\n\nexports.T.DIST = function(x, df, cumulative) {\n  x = utils.parseNumber(x);\n  df = utils.parseNumber(df);\n  if (utils.anyIsError(x, df)) {\n    return error.value;\n  }\n  return (cumulative) ? jStat.studentt.cdf(x, df) : jStat.studentt.pdf(x, df);\n};\n\nexports.T.DIST['2T'] = function(x, df) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (x < 0 || df < 1) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof df !== 'number')) {\n    return error.value;\n  }\n\n  return (1 - jStat.studentt.cdf(x , df)) * 2;\n};\n\nexports.T.DIST.RT = function(x, df) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n\n  if (x < 0 || df < 1) {\n    return error.num;\n  }\n\n  if ((typeof x !== 'number') || (typeof df !== 'number')) {\n    return error.value;\n  }\n\n  return 1 - jStat.studentt.cdf(x , df);\n};\n\nexports.T.INV = function(probability, df) {\n  probability = utils.parseNumber(probability);\n  df = utils.parseNumber(df);\n  if (utils.anyIsError(probability, df)) {\n    return error.value;\n  }\n  return jStat.studentt.inv(probability, df);\n};\n\nexports.T.INV['2T'] = function(probability, df) {\n  probability = utils.parseNumber(probability);\n  df = utils.parseNumber(df);\n  if (probability <= 0 || probability > 1 || df < 1) {\n    return error.num;\n  }\n  if (utils.anyIsError(probability, df)) {\n    return error.value;\n  }\n  return Math.abs(jStat.studentt.inv(probability/2, df));\n};\n\n// The algorithm can be found here:\n// http://www.chem.uoa.gr/applets/AppletTtest/Appl_Ttest2.html\nexports.T.TEST = function(data_x, data_y) {\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  if (utils.anyIsError(data_x, data_y)) {\n    return error.value;\n  }\n\n  var mean_x = jStat.mean(data_x);\n  var mean_y = jStat.mean(data_y);\n  var s_x = 0;\n  var s_y = 0;\n  var i;\n\n  for (i = 0; i < data_x.length; i++) {\n    s_x += Math.pow(data_x[i] - mean_x, 2);\n  }\n  for (i = 0; i < data_y.length; i++) {\n    s_y += Math.pow(data_y[i] - mean_y, 2);\n  }\n\n  s_x = s_x / (data_x.length-1);\n  s_y = s_y / (data_y.length-1);\n\n  var t = Math.abs(mean_x - mean_y) / Math.sqrt(s_x/data_x.length + s_y/data_y.length);\n\n  return exports.T.DIST['2T'](t, data_x.length+data_y.length-2);\n};\n\nexports.TREND = function(data_y, data_x, new_data_x) {\n  data_y = utils.parseNumberArray(utils.flatten(data_y));\n  data_x = utils.parseNumberArray(utils.flatten(data_x));\n  new_data_x = utils.parseNumberArray(utils.flatten(new_data_x));\n  if (utils.anyIsError(data_y, data_x, new_data_x)) {\n    return error.value;\n  }\n  var linest = exports.LINEST(data_y, data_x);\n  var m = linest[0];\n  var b = linest[1];\n  var result = [];\n\n  new_data_x.forEach(function(x) {\n    result.push(m * x + b);\n  });\n\n  return result;\n};\n\nexports.TRIMMEAN = function(range, percent) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  percent = utils.parseNumber(percent);\n  if (utils.anyIsError(range, percent)) {\n    return error.value;\n  }\n  var trim = mathTrig.FLOOR(range.length * percent, 2) / 2;\n  return jStat.mean(utils.initial(utils.rest(range.sort(function(a, b) {\n    return a - b;\n  }), trim), trim));\n};\n\nexports.VAR = {};\n\nexports.VAR.P = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  var n = range.length;\n  var sigma = 0;\n  var mean = exports.AVERAGE(range);\n  var result;\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 2);\n  }\n  result = sigma / n;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.VAR.S = function() {\n  var range = utils.numbers(utils.flatten(arguments));\n  var n = range.length;\n  var sigma = 0;\n  var mean = exports.AVERAGE(range);\n  for (var i = 0; i < n; i++) {\n    sigma += Math.pow(range[i] - mean, 2);\n  }\n  return sigma / (n - 1);\n};\n\nexports.VARA = function() {\n  var range = utils.flatten(arguments);\n  var n = range.length;\n  var sigma = 0;\n  var count = 0;\n  var mean = exports.AVERAGEA(range);\n  for (var i = 0; i < n; i++) {\n    var el = range[i];\n    if (typeof el === 'number') {\n      sigma += Math.pow(el - mean, 2);\n    } else if (el === true) {\n      sigma += Math.pow(1 - mean, 2);\n    } else {\n      sigma += Math.pow(0 - mean, 2);\n    }\n\n    if (el !== null) {\n      count++;\n    }\n  }\n  return sigma / (count - 1);\n};\n\nexports.VARPA = function() {\n  var range = utils.flatten(arguments);\n  var n = range.length;\n  var sigma = 0;\n  var count = 0;\n  var mean = exports.AVERAGEA(range);\n  var result;\n  for (var i = 0; i < n; i++) {\n    var el = range[i];\n    if (typeof el === 'number') {\n      sigma += Math.pow(el - mean, 2);\n    } else if (el === true) {\n      sigma += Math.pow(1 - mean, 2);\n    } else {\n      sigma += Math.pow(0 - mean, 2);\n    }\n\n    if (el !== null) {\n      count++;\n    }\n  }\n  result = sigma / count;\n\n  if (isNaN(result)) {\n    result = error.num;\n  }\n\n  return result;\n};\n\nexports.WEIBULL = {};\n\nexports.WEIBULL.DIST = function(x, alpha, beta, cumulative) {\n  x = utils.parseNumber(x);\n  alpha = utils.parseNumber(alpha);\n  beta = utils.parseNumber(beta);\n  if (utils.anyIsError(x, alpha, beta)) {\n    return error.value;\n  }\n  return (cumulative) ? 1 - Math.exp(-Math.pow(x / beta, alpha)) : Math.pow(x, alpha - 1) * Math.exp(-Math.pow(x / beta, alpha)) * alpha / Math.pow(beta, alpha);\n};\n\nexports.Z = {};\n\nexports.Z.TEST = function(range, x, sd) {\n  range = utils.parseNumberArray(utils.flatten(range));\n  x = utils.parseNumber(x);\n  if (utils.anyIsError(range, x)) {\n    return error.value;\n  }\n\n  sd = sd || exports.STDEV.S(range);\n  var n = range.length;\n  return 1 - exports.NORM.S.DIST((exports.AVERAGE(range) - x) / (sd / Math.sqrt(n)), true);\n};\n","var utils = require('./utils/common');\nvar error = require('./utils/error');\n\n//TODO\nexports.ASC = function() {\n  throw new Error('ASC is not implemented');\n};\n\n//TODO\nexports.BAHTTEXT = function() {\n  throw new Error('BAHTTEXT is not implemented');\n};\n\nexports.CHAR = function(number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return String.fromCharCode(number);\n};\n\nexports.CLEAN = function(text) {\n  text = text || '';\n  var re = /[\\0-\\x1F]/g;\n  return text.replace(re, \"\");\n};\n\nexports.CODE = function(text) {\n  text = text || '';\n  var result = text.charCodeAt(0);\n\n  if (isNaN(result)) {\n    result = error.na;\n  }\n  return result;\n};\n\nexports.CONCATENATE = function() {\n  var args = utils.flatten(arguments);\n\n  var trueFound = 0;\n  while ((trueFound = args.indexOf(true)) > -1) {\n    args[trueFound] = 'TRUE';\n  }\n\n  var falseFound = 0;\n  while ((falseFound = args.indexOf(false)) > -1) {\n    args[falseFound] = 'FALSE';\n  }\n\n  return args.join('');\n};\n\n//TODO\nexports.DBCS = function() {\n  throw new Error('DBCS is not implemented');\n};\n\n//TODO\nexports.DOLLAR = function() {\n  throw new Error('DOLLAR is not implemented');\n};\n\nexports.EXACT = function(text1, text2) {\n  if (arguments.length !== 2) {\n    return error.na;\n  }\n  return text1 === text2;\n};\n\nexports.FIND = function(find_text, within_text, position) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  position = (position === undefined) ? 0 : position;\n  return within_text ? within_text.indexOf(find_text, position - 1) + 1 : null;\n};\n\n//TODO\nexports.FIXED = function() {\n  throw new Error('FIXED is not implemented');\n};\n\nexports.HTML2TEXT = function (value) {\n  var result = '';\n\n  if (value) {\n    if (value instanceof Array) {\n      value.forEach(function (line) {\n        if (result !== '') {\n          result += '\\n';\n        }\n        result += (line.replace(/<(?:.|\\n)*?>/gm, ''));\n      });\n    } else {\n      result = value.replace(/<(?:.|\\n)*?>/gm, '');\n    }\n  }\n\n  return result;\n};\n\nexports.LEFT = function(text, number) {\n  number = (number === undefined) ? 1 : number;\n  number = utils.parseNumber(number);\n  if (number instanceof Error || typeof text !== 'string') {\n    return error.value;\n  }\n  return text ? text.substring(0, number) : null;\n};\n\nexports.LEN = function(text) {\n  if (arguments.length === 0) {\n    return error.error;\n  }\n\n  if (typeof text === 'string') {\n    return text ? text.length : 0;\n  }\n\n  if (text.length) {\n    return text.length;\n  }\n\n  return error.value;\n};\n\nexports.LOWER = function(text) {\n  if (typeof text !== 'string') {\n    return error.value;\n  }\n  return text ? text.toLowerCase() : text;\n};\n\nexports.MID = function(text, start, number) {\n  start = utils.parseNumber(start);\n  number = utils.parseNumber(number);\n  if (utils.anyIsError(start, number) || typeof text !== 'string') {\n    return number;\n  }\n\n  var begin = start - 1;\n  var end = begin + number;\n\n  return text.substring(begin, end);\n};\n\n// TODO\nexports.NUMBERVALUE = function (text, decimal_separator, group_separator)  {\n  decimal_separator = (typeof decimal_separator === 'undefined') ? '.' : decimal_separator;\n  group_separator = (typeof group_separator === 'undefined') ? ',' : group_separator;\n  return Number(text.replace(decimal_separator, '.').replace(group_separator, ''));\n};\n\n// TODO\nexports.PRONETIC = function() {\n  throw new Error('PRONETIC is not implemented');\n};\n\nexports.PROPER = function(text) {\n  if (text === undefined || text.length === 0) {\n    return error.value;\n  }\n  if (text === true) {\n    text = 'TRUE';\n  }\n  if (text === false) {\n    text = 'FALSE';\n  }\n  if (isNaN(text) && typeof text === 'number') {\n    return error.value;\n  }\n  if (typeof text === 'number') {\n    text = '' + text;\n  }\n\n  return text.replace(/\\w\\S*/g, function(txt) {\n    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n  });\n};\n\nexports.REGEXEXTRACT = function (text, regular_expression) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  var match = text.match(new RegExp(regular_expression));\n  return match ? (match[match.length > 1 ? match.length - 1 : 0]) : null;\n};\n\nexports.REGEXMATCH = function (text, regular_expression, full) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  var match = text.match(new RegExp(regular_expression));\n  return full ? match : !!match;\n};\n\nexports.REGEXREPLACE = function (text, regular_expression, replacement) {\n  if (arguments.length < 3) {\n    return error.na;\n  }\n  return text.replace(new RegExp(regular_expression), replacement);\n};\n\nexports.REPLACE = function(text, position, length, new_text) {\n  position = utils.parseNumber(position);\n  length = utils.parseNumber(length);\n  if (utils.anyIsError(position, length) ||\n    typeof text !== 'string' ||\n    typeof new_text !== 'string') {\n    return error.value;\n  }\n  return text.substr(0, position - 1) + new_text + text.substr(position - 1 + length);\n};\n\nexports.REPT = function(text, number) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return new Array(number + 1).join(text);\n};\n\nexports.RIGHT = function(text, number) {\n  number = (number === undefined) ? 1 : number;\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n  return text ? text.substring(text.length - number) : error.na;\n};\n\nexports.SEARCH = function(find_text, within_text, position) {\n  var foundAt;\n  if (typeof find_text !== 'string' || typeof within_text !== 'string') {\n    return error.value;\n  }\n  position = (position === undefined) ? 0 : position;\n  foundAt = within_text.toLowerCase().indexOf(find_text.toLowerCase(), position - 1)+1;\n  return (foundAt === 0)?error.value:foundAt;\n};\n\nexports.SPLIT = function (text, separator) {\n  return text.split(separator);\n};\n\nexports.SUBSTITUTE = function(text, old_text, new_text, occurrence) {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n  if (!text || !old_text || !new_text) {\n    return text;\n  } else if (occurrence === undefined) {\n    return text.replace(new RegExp(old_text, 'g'), new_text);\n  } else {\n    var index = 0;\n    var i = 0;\n    while (text.indexOf(old_text, index) > 0) {\n      index = text.indexOf(old_text, index + 1);\n      i++;\n      if (i === occurrence) {\n        return text.substring(0, index) + new_text + text.substring(index + old_text.length);\n      }\n    }\n  }\n};\n\nexports.T = function(value) {\n  return (typeof value === \"string\") ? value : '';\n};\n\n// TODO incomplete implementation\nexports.TEXT = function() {\n  throw new Error('TEXT is not implemented');\n};\n\nexports.TRIM = function(text) {\n  if (typeof text !== 'string') {\n    return error.value;\n  }\n  return text.replace(/ +/g, ' ').trim();\n};\n\nexports.UNICHAR = exports.CHAR;\n\nexports.UNICODE = exports.CODE;\n\nexports.UPPER = function(text) {\n  if (typeof text !== 'string') {\n    return error.value;\n  }\n  return text.toUpperCase();\n};\n\n//TODO\nexports.VALUE = function() {\n  throw new Error('VALUE is not implemented');\n};\n","var defaultOperator = '=';\nvar validSymbols = ['>', '>=', '<', '<=', '=', '<>'];\nvar TOKEN_TYPE_OPERATOR = 'operator';\nvar TOKEN_TYPE_LITERAL = 'literal';\nvar SUPPORTED_TOKENS = [TOKEN_TYPE_OPERATOR, TOKEN_TYPE_LITERAL];\n\nexports.TOKEN_TYPE_OPERATOR = TOKEN_TYPE_OPERATOR;\nexports.TOKEN_TYPE_LITERAL = TOKEN_TYPE_LITERAL;\n\n/**\n * Create token which describe passed symbol/value.\n *\n * @param {String} value Value/Symbol to describe.\n * @param {String} type Type of the token 'operator' or 'literal'.\n * @return {Object}\n */\nfunction createToken(value, type) {\n  if (SUPPORTED_TOKENS.indexOf(type) === -1) {\n    throw new Error('Unsupported token type: ' + type);\n  }\n\n  return {\n    value: value,\n    type: type,\n  };\n}\n\n/**\n * Tries to cast numeric values to their type passed as a string.\n *\n * @param {*} value\n * @return {*}\n */\nfunction castValueToCorrectType(value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  if (/^\\d+(\\.\\d+)?$/.test(value)) {\n    value = value.indexOf('.') === -1 ? parseInt(value, 10) : parseFloat(value);\n  }\n\n  return value;\n}\n\n/**\n * Generate stream of tokens from passed expression.\n *\n * @param {String} expression\n * @return {String[]}\n */\nfunction tokenizeExpression(expression) {\n  var expressionLength = expression.length;\n  var tokens = [];\n  var cursorIndex = 0;\n  var processedValue = '';\n  var processedSymbol = '';\n\n  while (cursorIndex < expressionLength) {\n    var char = expression.charAt(cursorIndex);\n\n    switch (char) {\n      case '>':\n      case '<':\n      case '=':\n        processedSymbol = processedSymbol + char;\n\n        if (processedValue.length > 0) {\n          tokens.push(processedValue);\n          processedValue = '';\n        }\n      break;\n      default:\n        if (processedSymbol.length > 0) {\n          tokens.push(processedSymbol);\n          processedSymbol = '';\n        }\n\n        processedValue = processedValue + char;\n      break;\n    }\n    cursorIndex++;\n  }\n\n  if (processedValue.length > 0) {\n    tokens.push(processedValue);\n  }\n  if (processedSymbol.length > 0) {\n    tokens.push(processedSymbol);\n  }\n\n  return tokens;\n};\n\n/**\n * Analyze and convert tokens to an object which describes their meaning.\n *\n * @param {String[]} tokens\n * @return {Object[]}\n */\nfunction analyzeTokens(tokens) {\n  var literalValue = '';\n  var analyzedTokens = [];\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (i === 0 && validSymbols.indexOf(token) >= 0) {\n      analyzedTokens.push(createToken(token, TOKEN_TYPE_OPERATOR));\n    } else {\n      literalValue += token;\n    }\n  }\n\n  if (literalValue.length > 0) {\n    analyzedTokens.push(createToken(castValueToCorrectType(literalValue), TOKEN_TYPE_LITERAL));\n  }\n\n  if (analyzedTokens.length > 0 && analyzedTokens[0].type !== TOKEN_TYPE_OPERATOR) {\n    analyzedTokens.unshift(createToken(defaultOperator, TOKEN_TYPE_OPERATOR));\n  }\n\n  return analyzedTokens;\n};\n\n/**\n * Compute/Evaluate an expression passed as an array of tokens.\n *\n * @param {Object[]} tokens\n * @return {Boolean}\n */\nfunction computeExpression(tokens) {\n  var values = [];\n  var operator;\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    switch (token.type) {\n      case TOKEN_TYPE_OPERATOR:\n        operator = token.value;\n      break;\n      case TOKEN_TYPE_LITERAL:\n        values.push(token.value);\n      break;\n    }\n  }\n\n  return evaluate(values, operator);\n};\n\n/**\n * Evaluate values based on passed math operator.\n *\n * @param {*} values\n * @param {String} operator\n * @return {Boolean}\n */\nfunction evaluate(values, operator) {\n  var result = false;\n\n  switch (operator) {\n    case '>':\n      result = values[0] > values[1];\n      break;\n    case '>=':\n      result = values[0] >= values[1];\n      break;\n    case '<':\n      result = values[0] < values[1];\n      break;\n    case '<=':\n      result = values[0] <= values[1];\n      break;\n    case '=':\n      result = values[0] == values[1];\n      break;\n    case '<>':\n      result = values[0] != values[1];\n      break;\n  }\n\n  return result;\n}\n\nexports.parse = function(expression) {\n  return analyzeTokens(tokenizeExpression(expression));\n};\nexports.createToken = createToken;\nexports.compute = computeExpression;\n","var error = require('./utils/error');\n\n// TODO\nexports.CELL = function() {\n  throw new Error('CELL is not implemented');\n};\n\nexports.ERROR = {};\nexports.ERROR.TYPE = function(error_val) {\n  switch (error_val) {\n    case error.nil: return 1;\n    case error.div0: return 2;\n    case error.value: return 3;\n    case error.ref: return 4;\n    case error.name: return 5;\n    case error.num: return 6;\n    case error.na: return 7;\n    case error.data: return 8;\n  }\n  return error.na;\n};\n\n// TODO\nexports.INFO = function() {\n  throw new Error('INFO is not implemented');\n};\n\nexports.ISBLANK = function(value) {\n  return value === null;\n};\n\nexports.ISBINARY = function (number) {\n  return (/^[01]{1,10}$/).test(number);\n};\n\nexports.ISERR = function(value) {\n  return ([error.value, error.ref, error.div0, error.num, error.name, error.nil]).indexOf(value) >= 0 ||\n    (typeof value === 'number' && (isNaN(value) || !isFinite(value)));\n};\n\nexports.ISERROR = function(value) {\n  return exports.ISERR(value) || value === error.na;\n};\n\nexports.ISEVEN = function(number) {\n  return (Math.floor(Math.abs(number)) & 1) ? false : true;\n};\n\n// TODO\nexports.ISFORMULA = function() {\n  throw new Error('ISFORMULA is not implemented');\n};\n\nexports.ISLOGICAL = function(value) {\n  return value === true || value === false;\n};\n\nexports.ISNA = function(value) {\n  return value === error.na;\n};\n\nexports.ISNONTEXT = function(value) {\n  return typeof(value) !== 'string';\n};\n\nexports.ISNUMBER = function(value) {\n  return typeof(value) === 'number' && !isNaN(value) && isFinite(value);\n};\n\nexports.ISODD = function(number) {\n  return (Math.floor(Math.abs(number)) & 1) ? true : false;\n};\n\n// TODO\nexports.ISREF = function() {\n  throw new Error('ISREF is not implemented');\n};\n\nexports.ISTEXT = function(value) {\n  return typeof(value) === 'string';\n};\n\nexports.N = function(value) {\n  if (this.ISNUMBER(value)) {\n    return value;\n  }\n  if (value instanceof Date) {\n    return value.getTime();\n  }\n  if (value === true) {\n    return 1;\n  }\n  if (value === false) {\n    return 0;\n  }\n  if (this.ISERROR(value)) {\n    return value;\n  }\n  return 0;\n};\n\nexports.NA = function() {\n  return error.na;\n};\n\n\n// TODO\nexports.SHEET = function() {\n  throw new Error('SHEET is not implemented');\n};\n\n// TODO\nexports.SHEETS = function() {\n  throw new Error('SHEETS is not implemented');\n};\n\nexports.TYPE = function(value) {\n  if (this.ISNUMBER(value)) {\n    return 1;\n  }\n  if (this.ISTEXT(value)) {\n    return 2;\n  }\n  if (this.ISLOGICAL(value)) {\n    return 4;\n  }\n  if (this.ISERROR(value)) {\n    return 16;\n  }\n  if (Array.isArray(value)) {\n    return 64;\n  }\n};\n","var error = require('./utils/error');\nvar utils = require('./utils/common');\n\nvar d1900 = new Date(Date.UTC(1900, 0, 1));\nvar WEEK_STARTS = [\n  undefined,\n  0,\n  1,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  undefined,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  0\n];\nvar WEEK_TYPES = [\n  [],\n  [1, 2, 3, 4, 5, 6, 7],\n  [7, 1, 2, 3, 4, 5, 6],\n  [6, 0, 1, 2, 3, 4, 5],\n  [],\n  [],\n  [],\n  [],\n  [],\n  [],\n  [],\n  [7, 1, 2, 3, 4, 5, 6],\n  [6, 7, 1, 2, 3, 4, 5],\n  [5, 6, 7, 1, 2, 3, 4],\n  [4, 5, 6, 7, 1, 2, 3],\n  [3, 4, 5, 6, 7, 1, 2],\n  [2, 3, 4, 5, 6, 7, 1],\n  [1, 2, 3, 4, 5, 6, 7]\n];\nvar WEEKEND_TYPES = [\n  [],\n  [6, 0],\n  [0, 1],\n  [1, 2],\n  [2, 3],\n  [3, 4],\n  [4, 5],\n  [5, 6],\n  undefined,\n  undefined,\n  undefined, [0, 0],\n  [1, 1],\n  [2, 2],\n  [3, 3],\n  [4, 4],\n  [5, 5],\n  [6, 6]\n];\n\nexports.DATE = function(year, month, day) {\n  var result;\n\n  year = utils.parseNumber(year);\n  month = utils.parseNumber(month);\n  day = utils.parseNumber(day);\n\n  if (utils.anyIsError(year, month, day)) {\n    result = error.value;\n\n  } else if (year < 0 || month < 0 || day < 0) {\n    result = error.num;\n\n  } else {\n    result = new Date(year, month - 1, day);\n  }\n\n  return result;\n};\n\nexports.DATEVALUE = function(date_text) {\n  var modifier = 2;\n  var date;\n\n  if (typeof date_text !== 'string') {\n    return error.value;\n  }\n\n  date = Date.parse(date_text);\n\n  if (isNaN(date)) {\n    return error.value;\n  }\n\n  if (date <= -2203891200000) {\n    modifier = 1;\n  }\n\n  return Math.ceil((date - d1900) / 86400000) + modifier;\n};\n\nexports.DAY = function(serial_number) {\n  var date = utils.parseDate(serial_number);\n  if (date instanceof Error) {\n    return date;\n  }\n\n  return date.getDate();\n};\n\nexports.DAYS = function(end_date, start_date) {\n  end_date = utils.parseDate(end_date);\n  start_date = utils.parseDate(start_date);\n\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n\n  return serial(end_date) - serial(start_date);\n};\n\nexports.DAYS360 = function(start_date, end_date, method) {\n  method = utils.parseBool(method);\n  start_date = utils.parseDate(start_date);\n  end_date = utils.parseDate(end_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n  if (method instanceof Error) {\n    return method;\n  }\n  var sm = start_date.getMonth();\n  var em = end_date.getMonth();\n  var sd, ed;\n\n  if (method) {\n    sd = start_date.getDate() === 31 ? 30 : start_date.getDate();\n    ed = end_date.getDate() === 31 ? 30 : end_date.getDate();\n  } else {\n    var smd = new Date(start_date.getFullYear(), sm + 1, 0).getDate();\n    var emd = new Date(end_date.getFullYear(), em + 1, 0).getDate();\n    sd = start_date.getDate() === smd ? 30 : start_date.getDate();\n    if (end_date.getDate() === emd) {\n      if (sd < 30) {\n        em++;\n        ed = 1;\n      } else {\n        ed = 30;\n      }\n    } else {\n      ed = end_date.getDate();\n    }\n  }\n\n  return 360 * (end_date.getFullYear() - start_date.getFullYear()) +\n    30 * (em - sm) + (ed - sd);\n};\n\nexports.EDATE = function(start_date, months) {\n  start_date = utils.parseDate(start_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  if (isNaN(months)) {\n    return error.value;\n  }\n  months = parseInt(months, 10);\n  start_date.setMonth(start_date.getMonth() + months);\n\n  return serial(start_date);\n};\n\nexports.EOMONTH = function(start_date, months) {\n  start_date = utils.parseDate(start_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  if (isNaN(months)) {\n    return error.value;\n  }\n  months = parseInt(months, 10);\n\n  return serial(new Date(start_date.getFullYear(), start_date.getMonth() + months + 1, 0));\n};\n\nexports.HOUR = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getHours();\n};\n\nexports.INTERVAL = function (second) {\n  if (typeof second !== 'number' && typeof second !== 'string') {\n    return error.value;\n  } else {\n    second = parseInt(second, 10);\n  }\n\n  var year  = Math.floor(second/946080000);\n  second    = second%946080000;\n  var month = Math.floor(second/2592000);\n  second    = second%2592000;\n  var day   = Math.floor(second/86400);\n  second    = second%86400;\n\n  var hour  = Math.floor(second/3600);\n  second    = second%3600;\n  var min   = Math.floor(second/60);\n  second    = second%60;\n  var sec   = second;\n\n  year  = (year  > 0) ? year  + 'Y' : '';\n  month = (month > 0) ? month + 'M' : '';\n  day   = (day   > 0) ? day   + 'D' : '';\n  hour  = (hour  > 0) ? hour  + 'H' : '';\n  min   = (min   > 0) ? min   + 'M' : '';\n  sec   = (sec   > 0) ? sec   + 'S' : '';\n\n  return 'P' + year + month + day + 'T' + hour + min + sec;\n};\n\nexports.ISOWEEKNUM = function(date) {\n  date = utils.parseDate(date);\n\n  if (date instanceof Error) {\n    return date;\n  }\n\n  date.setHours(0, 0, 0);\n  date.setDate(date.getDate() + 4 - (date.getDay() || 7));\n  var yearStart = new Date(date.getFullYear(), 0, 1);\n\n  return Math.ceil((((date - yearStart) / 86400000) + 1) / 7);\n};\n\nexports.MINUTE = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getMinutes();\n};\n\nexports.MONTH = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getMonth() + 1;\n};\n\nexports.NETWORKDAYS = function(start_date, end_date, holidays) {\n  return this.NETWORKDAYS.INTL(start_date, end_date, 1, holidays);\n};\n\nexports.NETWORKDAYS.INTL = function(start_date, end_date, weekend, holidays) {\n  start_date = utils.parseDate(start_date);\n\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  end_date = utils.parseDate(end_date);\n\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n  if (weekend === undefined) {\n    weekend = WEEKEND_TYPES[1];\n  } else {\n    weekend = WEEKEND_TYPES[weekend];\n  }\n  if (!(weekend instanceof Array)) {\n    return error.value;\n  }\n  if (holidays === undefined) {\n    holidays = [];\n  } else if (!(holidays instanceof Array)) {\n    holidays = [holidays];\n  }\n\n  for (var i = 0; i < holidays.length; i++) {\n    var h = utils.parseDate(holidays[i]);\n    if (h instanceof Error) {\n      return h;\n    }\n    holidays[i] = h;\n  }\n  var days = (end_date - start_date) / (1000 * 60 * 60 * 24) + 1;\n  var total = days;\n  var day = start_date;\n  for (i = 0; i < days; i++) {\n    var d = (new Date().getTimezoneOffset() > 0) ? day.getUTCDay() : day.getDay();\n    var dec = false;\n    if (d === weekend[0] || d === weekend[1]) {\n      dec = true;\n    }\n    for (var j = 0; j < holidays.length; j++) {\n      var holiday = holidays[j];\n      if (holiday.getDate() === day.getDate() &&\n        holiday.getMonth() === day.getMonth() &&\n        holiday.getFullYear() === day.getFullYear()) {\n        dec = true;\n        break;\n      }\n    }\n    if (dec) {\n      total--;\n    }\n    day.setDate(day.getDate() + 1);\n  }\n\n  return total;\n};\n\nexports.NOW = function() {\n  return new Date();\n};\n\nexports.SECOND = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getSeconds();\n};\n\nexports.TIME = function(hour, minute, second) {\n  hour = utils.parseNumber(hour);\n  minute = utils.parseNumber(minute);\n  second = utils.parseNumber(second);\n  if (utils.anyIsError(hour, minute, second)) {\n    return error.value;\n  }\n  if (hour < 0 || minute < 0 || second < 0) {\n    return error.num;\n  }\n\n  return (3600 * hour + 60 * minute + second) / 86400;\n};\n\nexports.TIMEVALUE = function(time_text) {\n  time_text = utils.parseDate(time_text);\n\n  if (time_text instanceof Error) {\n    return time_text;\n  }\n\n  return (3600 * time_text.getHours() + 60 * time_text.getMinutes() + time_text.getSeconds()) / 86400;\n};\n\nexports.TODAY = function() {\n  return new Date();\n};\n\nexports.WEEKDAY = function(serial_number, return_type) {\n  serial_number = utils.parseDate(serial_number);\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n  if (return_type === undefined) {\n    return_type = 1;\n  }\n  var day = serial_number.getDay();\n\n  return WEEK_TYPES[return_type][day];\n};\n\nexports.WEEKNUM = function(serial_number, return_type) {\n  serial_number = utils.parseDate(serial_number);\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n  if (return_type === undefined) {\n    return_type = 1;\n  }\n  if (return_type === 21) {\n    return this.ISOWEEKNUM(serial_number);\n  }\n  var week_start = WEEK_STARTS[return_type];\n  var jan = new Date(serial_number.getFullYear(), 0, 1);\n  var inc = jan.getDay() < week_start ? 1 : 0;\n  jan -= Math.abs(jan.getDay() - week_start) * 24 * 60 * 60 * 1000;\n\n  return Math.floor(((serial_number - jan) / (1000 * 60 * 60 * 24)) / 7 + 1) + inc;\n};\n\nexports.WORKDAY = function(start_date, days, holidays) {\n  return this.WORKDAY.INTL(start_date, days, 1, holidays);\n};\n\nexports.WORKDAY.INTL = function(start_date, days, weekend, holidays) {\n  start_date = utils.parseDate(start_date);\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  days = utils.parseNumber(days);\n  if (days instanceof Error) {\n    return days;\n  }\n  if (days < 0) {\n    return error.num;\n  }\n  if (weekend === undefined) {\n    weekend = WEEKEND_TYPES[1];\n  } else {\n    weekend = WEEKEND_TYPES[weekend];\n  }\n  if (!(weekend instanceof Array)) {\n    return error.value;\n  }\n  if (holidays === undefined) {\n    holidays = [];\n  } else if (!(holidays instanceof Array)) {\n    holidays = [holidays];\n  }\n  for (var i = 0; i < holidays.length; i++) {\n    var h = utils.parseDate(holidays[i]);\n    if (h instanceof Error) {\n      return h;\n    }\n    holidays[i] = h;\n  }\n  var d = 0;\n  while (d < days) {\n    start_date.setDate(start_date.getDate() + 1);\n    var day = start_date.getDay();\n    if (day === weekend[0] || day === weekend[1]) {\n      continue;\n    }\n    for (var j = 0; j < holidays.length; j++) {\n      var holiday = holidays[j];\n      if (holiday.getDate() === start_date.getDate() &&\n        holiday.getMonth() === start_date.getMonth() &&\n        holiday.getFullYear() === start_date.getFullYear()) {\n        d--;\n        break;\n      }\n    }\n    d++;\n  }\n\n  return start_date;\n};\n\nexports.YEAR = function(serial_number) {\n  serial_number = utils.parseDate(serial_number);\n\n  if (serial_number instanceof Error) {\n    return serial_number;\n  }\n\n  return serial_number.getFullYear();\n};\n\nfunction isLeapYear(year) {\n  return new Date(year, 1, 29).getMonth() === 1;\n}\n\n// TODO : Use DAYS ?\nfunction daysBetween(start_date, end_date) {\n  return Math.ceil((end_date - start_date) / 1000 / 60 / 60 / 24);\n}\n\nexports.YEARFRAC = function(start_date, end_date, basis) {\n  start_date = utils.parseDate(start_date);\n  if (start_date instanceof Error) {\n    return start_date;\n  }\n  end_date = utils.parseDate(end_date);\n  if (end_date instanceof Error) {\n    return end_date;\n  }\n\n  basis = basis || 0;\n  var sd = start_date.getDate();\n  var sm = start_date.getMonth() + 1;\n  var sy = start_date.getFullYear();\n  var ed = end_date.getDate();\n  var em = end_date.getMonth() + 1;\n  var ey = end_date.getFullYear();\n\n  switch (basis) {\n    case 0:\n      // US (NASD) 30/360\n      if (sd === 31 && ed === 31) {\n        sd = 30;\n        ed = 30;\n      } else if (sd === 31) {\n        sd = 30;\n      } else if (sd === 30 && ed === 31) {\n        ed = 30;\n      }\n      return ((ed + em * 30 + ey * 360) - (sd + sm * 30 + sy * 360)) / 360;\n    case 1:\n      // Actual/actual\n      var feb29Between = function(date1, date2) {\n        var year1 = date1.getFullYear();\n        var mar1year1 = new Date(year1, 2, 1);\n        if (isLeapYear(year1) && date1 < mar1year1 && date2 >= mar1year1) {\n          return true;\n        }\n        var year2 = date2.getFullYear();\n        var mar1year2 = new Date(year2, 2, 1);\n        return (isLeapYear(year2) && date2 >= mar1year2 && date1 < mar1year2);\n      };\n      var ylength = 365;\n      if (sy === ey || ((sy + 1) === ey) && ((sm > em) || ((sm === em) && (sd >= ed)))) {\n        if ((sy === ey && isLeapYear(sy)) ||\n          feb29Between(start_date, end_date) ||\n          (em === 1 && ed === 29)) {\n          ylength = 366;\n        }\n        return daysBetween(start_date, end_date) / ylength;\n      }\n      var years = (ey - sy) + 1;\n      var days = (new Date(ey + 1, 0, 1) - new Date(sy, 0, 1)) / 1000 / 60 / 60 / 24;\n      var average = days / years;\n      return daysBetween(start_date, end_date) / average;\n    case 2:\n      // Actual/360\n      return daysBetween(start_date, end_date) / 360;\n    case 3:\n      // Actual/365\n      return daysBetween(start_date, end_date) / 365;\n    case 4:\n      // European 30/360\n      return ((ed + em * 30 + ey * 360) - (sd + sm * 30 + sy * 360)) / 360;\n  }\n};\n\nfunction serial(date) {\n  var addOn = (date > -2203891200000) ? 2 : 1;\n\n  return Math.ceil((date - d1900) / 86400000) + addOn;\n}\n","(function (window, factory) {\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(num) {\n  return (typeof num === 'number') ? num - num === 0 : false;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  var logs = arr.map(Math.log)\n  var meanOfLogs = jStat.mean(logs)\n  return Math.exp(meanOfLogs)\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var i;\n  var distinctNumbers = [];\n  var numberCounts = {};\n  for (i = 0; i < arr.length; i++) {\n    var number = arr[i];\n    if (numberCounts[number]) {\n      numberCounts[number]++;\n    } else {\n      numberCounts[number] = 1;\n      distinctNumbers.push(number);\n    }\n  }\n\n  var sortedDistinctNumbers = distinctNumbers.sort(ascNum);\n  var numberRanks = {};\n  var currentRank = 1;\n  for (i = 0; i < sortedDistinctNumbers.length; i++) {\n    var number = sortedDistinctNumbers[i];\n    var count = numberCounts[number];\n    var first = currentRank;\n    var last = currentRank + count - 1;\n    var rank = (first + last) / 2;\n    numberRanks[number] = rank;\n    currentRank += count;\n  }\n\n  return arr.map(function (number) {\n    return numberRanks[number];\n  });\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n/*\n * log-gamma function to support poisson distribution sampling. The\n * algorithm comes from SPECFUN by Shanjie Zhang and Jianming Jin and their\n * book \"Computation of Special Functions\", 1996, John Wiley & Sons, Inc.\n */\njStat.loggam = function loggam(x) {\n  var x0, x2, xp, gl, gl0;\n  var k, n;\n\n  var a = [8.333333333333333e-02, -2.777777777777778e-03,\n          7.936507936507937e-04, -5.952380952380952e-04,\n          8.417508417508418e-04, -1.917526917526918e-03,\n          6.410256410256410e-03, -2.955065359477124e-02,\n          1.796443723688307e-01, -1.39243221690590e+00];\n  x0 = x;\n  n = 0;\n  if ((x == 1.0) || (x == 2.0)) {\n      return 0.0;\n  }\n  if (x <= 7.0) {\n      n = Math.floor(7 - x);\n      x0 = x + n;\n  }\n  x2 = 1.0 / (x0 * x0);\n  xp = 2 * Math.PI;\n  gl0 = a[9];\n  for (k = 8; k >= 0; k--) {\n      gl0 *= x2;\n      gl0 += a[k];\n  }\n  gl = gl0 / x0 + 0.5 * Math.log(xp) + (x0 - 0.5) * Math.log(x0) - x0;\n  if (x <= 7.0) {\n      for (k = 1; k <= n; k++) {\n          gl -= Math.log(x0 - 1.0);\n          x0 -= 1.0;\n      }\n  }\n  return gl;\n}\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (x > 171.6243769536076) {\n    return Infinity;\n  }\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function f(a, b, c) {\n      if (!(this instanceof f))\n        return new f(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sampleSmall: function sampleSmall(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  },\n\n  sampleLarge: function sampleLarge(l) {\n    var lam = l;\n    var k;\n    var U, V, slam, loglam, a, b, invalpha, vr, us;\n\n    slam = Math.sqrt(lam);\n    loglam = Math.log(lam);\n    b = 0.931 + 2.53 * slam;\n    a = -0.059 + 0.02483 * b;\n    invalpha = 1.1239 + 1.1328 / (b - 3.4);\n    vr = 0.9277 - 3.6224 / (b - 2);\n\n    while (1) {\n      U = Math.random() - 0.5;\n      V = Math.random();\n      us = 0.5 - Math.abs(U);\n      k = Math.floor((2 * a / us + b) * U + lam + 0.43);\n      if ((us >= 0.07) && (V <= vr)) {\n          return k;\n      }\n      if ((k < 0) || ((us < 0.013) && (V > us))) {\n          continue;\n      }\n      /* log(V) == log(0.0) ok here */\n      /* if U==0.0 so that us==0.0, log is ok since always returns */\n      if ((Math.log(V) + Math.log(invalpha) - Math.log(a / (us * us) + b)) <= (-lam + k * loglam - jStat.loggam(k + 1))) {\n          return k;\n      }\n    }\n  },\n\n  sample: function sample(l) {\n    if (l < 10)\n      return this.sampleSmall(l);\n    else\n      return this.sampleLarge(l);\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    if (a.length === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n\n    var determinant = 0;\n    for (var i = 0; i < a.length; i++) {\n      // build a sub matrix without column `i`\n      var submatrix = [];\n      for (var row = 1; row < a.length; row++) {\n        submatrix[row - 1] = [];\n        for (var col = 0; col < a.length; col++) {\n          if (col < i) {\n            submatrix[row - 1][col] = a[row][col];\n          } else if (col > i) {\n            submatrix[row - 1][col - 1] = a[row][col];\n          }\n        }\n      }\n\n      // alternate between + and - between determinants\n      var sign = i % 2 ? -1 : 1;\n      determinant += det(submatrix) * a[0][i] * sign;\n    }\n\n    return determinant\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n","var utils = require('./utils/common');\nvar error = require('./utils/error');\n\nexports.UNIQUE = function () {\n  var result = [];\n  for (var i = 0; i < arguments.length; ++i) {\n    var hasElement = false;\n    var element    = arguments[i];\n\n    // Check if we've already seen this element.\n    for (var j = 0; j < result.length; ++j) {\n      hasElement = result[j] === element;\n      if (hasElement) { break; }\n    }\n\n    // If we did not find it, add it to the result.\n    if (!hasElement) {\n      result.push(element);\n    }\n  }\n  return result;\n};\n\nexports.FLATTEN = utils.flatten;\n\nexports.ARGS2ARRAY = function () {\n  return Array.prototype.slice.call(arguments, 0);\n};\n\nexports.REFERENCE = function (context, reference) {\n  if (!arguments.length) {\n    return error.error;\n  }\n  try {\n    var path = reference.split('.');\n    var result = context;\n    for (var i = 0; i < path.length; ++i) {\n      var step = path[i];\n      if (step[step.length - 1] === ']') {\n        var opening = step.indexOf('[');\n        var index = step.substring(opening + 1, step.length - 1);\n        result = result[step.substring(0, opening)][index];\n      } else {\n        result = result[step];\n      }\n    }\n    return result;\n  } catch (error) {}\n};\n\nexports.JOIN = function (array, separator) {\n  return array.join(separator);\n};\n\nexports.NUMBERS = function () {\n  var possibleNumbers = utils.flatten(arguments);\n  return possibleNumbers.filter(function (el) {\n    return typeof el === 'number';\n  });\n};\n","var error = require('./utils/error');\nvar jStat = require('jstat');\nvar text = require('./text');\nvar utils = require('./utils/common');\nvar bessel = require('bessel');\n\nfunction isValidBinaryNumber(number) {\n  return (/^[01]{1,10}$/).test(number);\n}\n\nexports.BESSELI = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.besseli(x, n);\n};\n\nexports.BESSELJ = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.besselj(x, n);\n};\n\nexports.BESSELK = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.besselk(x, n);\n};\n\nexports.BESSELY = function(x, n) {\n  x = utils.parseNumber(x);\n  n = utils.parseNumber(n);\n  if (utils.anyIsError(x, n)) {\n    return error.value;\n  }\n\n  return bessel.bessely(x, n);\n};\n\nexports.BIN2DEC = function(number) {\n  // Return error if number is not binary or contains more than 10 characters (10 digits)\n  if (!isValidBinaryNumber(number)) {\n    return error.num;\n  }\n\n  // Convert binary number to decimal\n  var result = parseInt(number, 2);\n\n  // Handle negative numbers\n  var stringified = number.toString();\n  if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\n    return parseInt(stringified.substring(1), 2) - 512;\n  } else {\n    return result;\n  }\n};\n\n\nexports.BIN2HEX = function(number, places) {\n  // Return error if number is not binary or contains more than 10 characters (10 digits)\n  if (!isValidBinaryNumber(number)) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character hexadecimal number if number is negative\n  var stringified = number.toString();\n  if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\n    return (1099511627264 + parseInt(stringified.substring(1), 2)).toString(16);\n  }\n\n  // Convert binary number to hexadecimal\n  var result = parseInt(number, 2).toString(16);\n\n  // Return hexadecimal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.BIN2OCT = function(number, places) {\n  // Return error if number is not binary or contains more than 10 characters (10 digits)\n  if (!isValidBinaryNumber(number)) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character octal number if number is negative\n  var stringified = number.toString();\n  if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\n    return (1073741312 + parseInt(stringified.substring(1), 2)).toString(8);\n  }\n\n  // Convert binary number to octal\n  var result = parseInt(number, 2).toString(8);\n\n  // Return octal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.BITAND = function(number1, number2) {\n  // Return error if either number is a non-numeric value\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return error if either number is less than 0\n  if (number1 < 0 || number2 < 0) {\n    return error.num;\n  }\n\n  // Return error if either number is a non-integer\n  if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\n    return error.num;\n  }\n\n  // Return error if either number is greater than (2^48)-1\n  if (number1 > 281474976710655 || number2 > 281474976710655) {\n    return error.num;\n  }\n\n  // Return bitwise AND of two numbers\n  return number1 & number2;\n};\n\nexports.BITLSHIFT = function(number, shift) {\n  number = utils.parseNumber(number);\n  shift = utils.parseNumber(shift);\n  if (utils.anyIsError(number, shift)) {\n    return error.value;\n  }\n\n  // Return error if number is less than 0\n  if (number < 0) {\n    return error.num;\n  }\n\n  // Return error if number is a non-integer\n  if (Math.floor(number) !== number) {\n    return error.num;\n  }\n\n  // Return error if number is greater than (2^48)-1\n  if (number > 281474976710655) {\n    return error.num;\n  }\n\n  // Return error if the absolute value of shift is greater than 53\n  if (Math.abs(shift) > 53) {\n    return error.num;\n  }\n\n  // Return number shifted by shift bits to the left or to the right if shift is negative\n  return (shift >= 0) ? number << shift : number >> -shift;\n};\n\nexports.BITOR = function(number1, number2) {\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return error if either number is less than 0\n  if (number1 < 0 || number2 < 0) {\n    return error.num;\n  }\n\n  // Return error if either number is a non-integer\n  if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\n    return error.num;\n  }\n\n  // Return error if either number is greater than (2^48)-1\n  if (number1 > 281474976710655 || number2 > 281474976710655) {\n    return error.num;\n  }\n\n  // Return bitwise OR of two numbers\n  return number1 | number2;\n};\n\nexports.BITRSHIFT = function(number, shift) {\n  number = utils.parseNumber(number);\n  shift = utils.parseNumber(shift);\n  if (utils.anyIsError(number, shift)) {\n    return error.value;\n  }\n\n  // Return error if number is less than 0\n  if (number < 0) {\n    return error.num;\n  }\n\n  // Return error if number is a non-integer\n  if (Math.floor(number) !== number) {\n    return error.num;\n  }\n\n  // Return error if number is greater than (2^48)-1\n  if (number > 281474976710655) {\n    return error.num;\n  }\n\n  // Return error if the absolute value of shift is greater than 53\n  if (Math.abs(shift) > 53) {\n    return error.num;\n  }\n\n  // Return number shifted by shift bits to the right or to the left if shift is negative\n  return (shift >= 0) ? number >> shift : number << -shift;\n};\n\nexports.BITXOR = function(number1, number2) {\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return error if either number is less than 0\n  if (number1 < 0 || number2 < 0) {\n    return error.num;\n  }\n\n  // Return error if either number is a non-integer\n  if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\n    return error.num;\n  }\n\n  // Return error if either number is greater than (2^48)-1\n  if (number1 > 281474976710655 || number2 > 281474976710655) {\n    return error.num;\n  }\n\n  // Return bitwise XOR of two numbers\n  return number1 ^ number2;\n};\n\nexports.COMPLEX = function(real, imaginary, suffix) {\n  real = utils.parseNumber(real);\n  imaginary = utils.parseNumber(imaginary);\n  if (utils.anyIsError(real, imaginary)) {\n    return real;\n  }\n\n  // Set suffix\n  suffix = (suffix === undefined) ? 'i' : suffix;\n\n  // Return error if suffix is neither \"i\" nor \"j\"\n  if (suffix !== 'i' && suffix !== 'j') {\n    return error.value;\n  }\n\n  // Return complex number\n  if (real === 0 && imaginary === 0) {\n    return 0;\n  } else if (real === 0) {\n    return (imaginary === 1) ? suffix : imaginary.toString() + suffix;\n  } else if (imaginary === 0) {\n    return real.toString();\n  } else {\n    var sign = (imaginary > 0) ? '+' : '';\n    return real.toString() + sign + ((imaginary === 1) ? suffix : imaginary.toString() + suffix);\n  }\n};\n\nexports.CONVERT = function(number, from_unit, to_unit) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // List of units supported by CONVERT and units defined by the International System of Units\n  // [Name, Symbol, Alternate symbols, Quantity, ISU, CONVERT, Conversion ratio]\n  var units = [\n    [\"a.u. of action\", \"?\", null, \"action\", false, false, 1.05457168181818e-34],\n    [\"a.u. of charge\", \"e\", null, \"electric_charge\", false, false, 1.60217653141414e-19],\n    [\"a.u. of energy\", \"Eh\", null, \"energy\", false, false, 4.35974417757576e-18],\n    [\"a.u. of length\", \"a?\", null, \"length\", false, false, 5.29177210818182e-11],\n    [\"a.u. of mass\", \"m?\", null, \"mass\", false, false, 9.10938261616162e-31],\n    [\"a.u. of time\", \"?/Eh\", null, \"time\", false, false, 2.41888432650516e-17],\n    [\"admiralty knot\", \"admkn\", null, \"speed\", false, true, 0.514773333],\n    [\"ampere\", \"A\", null, \"electric_current\", true, false, 1],\n    [\"ampere per meter\", \"A/m\", null, \"magnetic_field_intensity\", true, false, 1],\n    [\"ångström\", \"Å\", [\"ang\"], \"length\", false, true, 1e-10],\n    [\"are\", \"ar\", null, \"area\", false, true, 100],\n    [\"astronomical unit\", \"ua\", null, \"length\", false, false, 1.49597870691667e-11],\n    [\"bar\", \"bar\", null, \"pressure\", false, false, 100000],\n    [\"barn\", \"b\", null, \"area\", false, false, 1e-28],\n    [\"becquerel\", \"Bq\", null, \"radioactivity\", true, false, 1],\n    [\"bit\", \"bit\", [\"b\"], \"information\", false, true, 1],\n    [\"btu\", \"BTU\", [\"btu\"], \"energy\", false, true, 1055.05585262],\n    [\"byte\", \"byte\", null, \"information\", false, true, 8],\n    [\"candela\", \"cd\", null, \"luminous_intensity\", true, false, 1],\n    [\"candela per square metre\", \"cd/m?\", null, \"luminance\", true, false, 1],\n    [\"coulomb\", \"C\", null, \"electric_charge\", true, false, 1],\n    [\"cubic ångström\", \"ang3\", [\"ang^3\"], \"volume\", false, true, 1e-30],\n    [\"cubic foot\", \"ft3\", [\"ft^3\"], \"volume\", false, true, 0.028316846592],\n    [\"cubic inch\", \"in3\", [\"in^3\"], \"volume\", false, true, 0.000016387064],\n    [\"cubic light-year\", \"ly3\", [\"ly^3\"], \"volume\", false, true, 8.46786664623715e-47],\n    [\"cubic metre\", \"m?\", null, \"volume\", true, true, 1],\n    [\"cubic mile\", \"mi3\", [\"mi^3\"], \"volume\", false, true, 4168181825.44058],\n    [\"cubic nautical mile\", \"Nmi3\", [\"Nmi^3\"], \"volume\", false, true, 6352182208],\n    [\"cubic Pica\", \"Pica3\", [\"Picapt3\", \"Pica^3\", \"Picapt^3\"], \"volume\", false, true, 7.58660370370369e-8],\n    [\"cubic yard\", \"yd3\", [\"yd^3\"], \"volume\", false, true, 0.764554857984],\n    [\"cup\", \"cup\", null, \"volume\", false, true, 0.0002365882365],\n    [\"dalton\", \"Da\", [\"u\"], \"mass\", false, false, 1.66053886282828e-27],\n    [\"day\", \"d\", [\"day\"], \"time\", false, true, 86400],\n    [\"degree\", \"°\", null, \"angle\", false, false, 0.0174532925199433],\n    [\"degrees Rankine\", \"Rank\", null, \"temperature\", false, true, 0.555555555555556],\n    [\"dyne\", \"dyn\", [\"dy\"], \"force\", false, true, 0.00001],\n    [\"electronvolt\", \"eV\", [\"ev\"], \"energy\", false, true, 1.60217656514141],\n    [\"ell\", \"ell\", null, \"length\", false, true, 1.143],\n    [\"erg\", \"erg\", [\"e\"], \"energy\", false, true, 1e-7],\n    [\"farad\", \"F\", null, \"electric_capacitance\", true, false, 1],\n    [\"fluid ounce\", \"oz\", null, \"volume\", false, true, 0.0000295735295625],\n    [\"foot\", \"ft\", null, \"length\", false, true, 0.3048],\n    [\"foot-pound\", \"flb\", null, \"energy\", false, true, 1.3558179483314],\n    [\"gal\", \"Gal\", null, \"acceleration\", false, false, 0.01],\n    [\"gallon\", \"gal\", null, \"volume\", false, true, 0.003785411784],\n    [\"gauss\", \"G\", [\"ga\"], \"magnetic_flux_density\", false, true, 1],\n    [\"grain\", \"grain\", null, \"mass\", false, true, 0.0000647989],\n    [\"gram\", \"g\", null, \"mass\", false, true, 0.001],\n    [\"gray\", \"Gy\", null, \"absorbed_dose\", true, false, 1],\n    [\"gross registered ton\", \"GRT\", [\"regton\"], \"volume\", false, true, 2.8316846592],\n    [\"hectare\", \"ha\", null, \"area\", false, true, 10000],\n    [\"henry\", \"H\", null, \"inductance\", true, false, 1],\n    [\"hertz\", \"Hz\", null, \"frequency\", true, false, 1],\n    [\"horsepower\", \"HP\", [\"h\"], \"power\", false, true, 745.69987158227],\n    [\"horsepower-hour\", \"HPh\", [\"hh\", \"hph\"], \"energy\", false, true, 2684519.538],\n    [\"hour\", \"h\", [\"hr\"], \"time\", false, true, 3600],\n    [\"imperial gallon (U.K.)\", \"uk_gal\", null, \"volume\", false, true, 0.00454609],\n    [\"imperial hundredweight\", \"lcwt\", [\"uk_cwt\", \"hweight\"], \"mass\", false, true, 50.802345],\n    [\"imperial quart (U.K)\", \"uk_qt\", null, \"volume\", false, true, 0.0011365225],\n    [\"imperial ton\", \"brton\", [\"uk_ton\", \"LTON\"], \"mass\", false, true, 1016.046909],\n    [\"inch\", \"in\", null, \"length\", false, true, 0.0254],\n    [\"international acre\", \"uk_acre\", null, \"area\", false, true, 4046.8564224],\n    [\"IT calorie\", \"cal\", null, \"energy\", false, true, 4.1868],\n    [\"joule\", \"J\", null, \"energy\", true, true, 1],\n    [\"katal\", \"kat\", null, \"catalytic_activity\", true, false, 1],\n    [\"kelvin\", \"K\", [\"kel\"], \"temperature\", true, true, 1],\n    [\"kilogram\", \"kg\", null, \"mass\", true, true, 1],\n    [\"knot\", \"kn\", null, \"speed\", false, true, 0.514444444444444],\n    [\"light-year\", \"ly\", null, \"length\", false, true, 9460730472580800],\n    [\"litre\", \"L\", [\"l\", \"lt\"], \"volume\", false, true, 0.001],\n    [\"lumen\", \"lm\", null, \"luminous_flux\", true, false, 1],\n    [\"lux\", \"lx\", null, \"illuminance\", true, false, 1],\n    [\"maxwell\", \"Mx\", null, \"magnetic_flux\", false, false, 1e-18],\n    [\"measurement ton\", \"MTON\", null, \"volume\", false, true, 1.13267386368],\n    [\"meter per hour\", \"m/h\", [\"m/hr\"], \"speed\", false, true, 0.00027777777777778],\n    [\"meter per second\", \"m/s\", [\"m/sec\"], \"speed\", true, true, 1],\n    [\"meter per second squared\", \"m?s??\", null, \"acceleration\", true, false, 1],\n    [\"parsec\", \"pc\", [\"parsec\"], \"length\", false, true, 30856775814671900],\n    [\"meter squared per second\", \"m?/s\", null, \"kinematic_viscosity\", true, false, 1],\n    [\"metre\", \"m\", null, \"length\", true, true, 1],\n    [\"miles per hour\", \"mph\", null, \"speed\", false, true, 0.44704],\n    [\"millimetre of mercury\", \"mmHg\", null, \"pressure\", false, false, 133.322],\n    [\"minute\", \"?\", null, \"angle\", false, false, 0.000290888208665722],\n    [\"minute\", \"min\", [\"mn\"], \"time\", false, true, 60],\n    [\"modern teaspoon\", \"tspm\", null, \"volume\", false, true, 0.000005],\n    [\"mole\", \"mol\", null, \"amount_of_substance\", true, false, 1],\n    [\"morgen\", \"Morgen\", null, \"area\", false, true, 2500],\n    [\"n.u. of action\", \"?\", null, \"action\", false, false, 1.05457168181818e-34],\n    [\"n.u. of mass\", \"m?\", null, \"mass\", false, false, 9.10938261616162e-31],\n    [\"n.u. of speed\", \"c?\", null, \"speed\", false, false, 299792458],\n    [\"n.u. of time\", \"?/(me?c??)\", null, \"time\", false, false, 1.28808866778687e-21],\n    [\"nautical mile\", \"M\", [\"Nmi\"], \"length\", false, true, 1852],\n    [\"newton\", \"N\", null, \"force\", true, true, 1],\n    [\"œrsted\", \"Oe \", null, \"magnetic_field_intensity\", false, false, 79.5774715459477],\n    [\"ohm\", \"Ω\", null, \"electric_resistance\", true, false, 1],\n    [\"ounce mass\", \"ozm\", null, \"mass\", false, true, 0.028349523125],\n    [\"pascal\", \"Pa\", null, \"pressure\", true, false, 1],\n    [\"pascal second\", \"Pa?s\", null, \"dynamic_viscosity\", true, false, 1],\n    [\"pferdestärke\", \"PS\", null, \"power\", false, true, 735.49875],\n    [\"phot\", \"ph\", null, \"illuminance\", false, false, 0.0001],\n    [\"pica (1/6 inch)\", \"pica\", null, \"length\", false, true, 0.00035277777777778],\n    [\"pica (1/72 inch)\", \"Pica\", [\"Picapt\"], \"length\", false, true, 0.00423333333333333],\n    [\"poise\", \"P\", null, \"dynamic_viscosity\", false, false, 0.1],\n    [\"pond\", \"pond\", null, \"force\", false, true, 0.00980665],\n    [\"pound force\", \"lbf\", null, \"force\", false, true, 4.4482216152605],\n    [\"pound mass\", \"lbm\", null, \"mass\", false, true, 0.45359237],\n    [\"quart\", \"qt\", null, \"volume\", false, true, 0.000946352946],\n    [\"radian\", \"rad\", null, \"angle\", true, false, 1],\n    [\"second\", \"?\", null, \"angle\", false, false, 0.00000484813681109536],\n    [\"second\", \"s\", [\"sec\"], \"time\", true, true, 1],\n    [\"short hundredweight\", \"cwt\", [\"shweight\"], \"mass\", false, true, 45.359237],\n    [\"siemens\", \"S\", null, \"electrical_conductance\", true, false, 1],\n    [\"sievert\", \"Sv\", null, \"equivalent_dose\", true, false, 1],\n    [\"slug\", \"sg\", null, \"mass\", false, true, 14.59390294],\n    [\"square ångström\", \"ang2\", [\"ang^2\"], \"area\", false, true, 1e-20],\n    [\"square foot\", \"ft2\", [\"ft^2\"], \"area\", false, true, 0.09290304],\n    [\"square inch\", \"in2\", [\"in^2\"], \"area\", false, true, 0.00064516],\n    [\"square light-year\", \"ly2\", [\"ly^2\"], \"area\", false, true, 8.95054210748189e+31],\n    [\"square meter\", \"m?\", null, \"area\", true, true, 1],\n    [\"square mile\", \"mi2\", [\"mi^2\"], \"area\", false, true, 2589988.110336],\n    [\"square nautical mile\", \"Nmi2\", [\"Nmi^2\"], \"area\", false, true, 3429904],\n    [\"square Pica\", \"Pica2\", [\"Picapt2\", \"Pica^2\", \"Picapt^2\"], \"area\", false, true, 0.00001792111111111],\n    [\"square yard\", \"yd2\", [\"yd^2\"], \"area\", false, true, 0.83612736],\n    [\"statute mile\", \"mi\", null, \"length\", false, true, 1609.344],\n    [\"steradian\", \"sr\", null, \"solid_angle\", true, false, 1],\n    [\"stilb\", \"sb\", null, \"luminance\", false, false, 0.0001],\n    [\"stokes\", \"St\", null, \"kinematic_viscosity\", false, false, 0.0001],\n    [\"stone\", \"stone\", null, \"mass\", false, true, 6.35029318],\n    [\"tablespoon\", \"tbs\", null, \"volume\", false, true, 0.0000147868],\n    [\"teaspoon\", \"tsp\", null, \"volume\", false, true, 0.00000492892],\n    [\"tesla\", \"T\", null, \"magnetic_flux_density\", true, true, 1],\n    [\"thermodynamic calorie\", \"c\", null, \"energy\", false, true, 4.184],\n    [\"ton\", \"ton\", null, \"mass\", false, true, 907.18474],\n    [\"tonne\", \"t\", null, \"mass\", false, false, 1000],\n    [\"U.K. pint\", \"uk_pt\", null, \"volume\", false, true, 0.00056826125],\n    [\"U.S. bushel\", \"bushel\", null, \"volume\", false, true, 0.03523907],\n    [\"U.S. oil barrel\", \"barrel\", null, \"volume\", false, true, 0.158987295],\n    [\"U.S. pint\", \"pt\", [\"us_pt\"], \"volume\", false, true, 0.000473176473],\n    [\"U.S. survey mile\", \"survey_mi\", null, \"length\", false, true, 1609.347219],\n    [\"U.S. survey/statute acre\", \"us_acre\", null, \"area\", false, true, 4046.87261],\n    [\"volt\", \"V\", null, \"voltage\", true, false, 1],\n    [\"watt\", \"W\", null, \"power\", true, true, 1],\n    [\"watt-hour\", \"Wh\", [\"wh\"], \"energy\", false, true, 3600],\n    [\"weber\", \"Wb\", null, \"magnetic_flux\", true, false, 1],\n    [\"yard\", \"yd\", null, \"length\", false, true, 0.9144],\n    [\"year\", \"yr\", null, \"time\", false, true, 31557600]\n  ];\n\n  // Binary prefixes\n  // [Name, Prefix power of 2 value, Previx value, Abbreviation, Derived from]\n  var binary_prefixes = {\n    Yi: [\"yobi\", 80, 1208925819614629174706176, \"Yi\", \"yotta\"],\n    Zi: [\"zebi\", 70, 1180591620717411303424, \"Zi\", \"zetta\"],\n    Ei: [\"exbi\", 60, 1152921504606846976, \"Ei\", \"exa\"],\n    Pi: [\"pebi\", 50, 1125899906842624, \"Pi\", \"peta\"],\n    Ti: [\"tebi\", 40, 1099511627776, \"Ti\", \"tera\"],\n    Gi: [\"gibi\", 30, 1073741824, \"Gi\", \"giga\"],\n    Mi: [\"mebi\", 20, 1048576, \"Mi\", \"mega\"],\n    ki: [\"kibi\", 10, 1024, \"ki\", \"kilo\"]\n  };\n\n  // Unit prefixes\n  // [Name, Multiplier, Abbreviation]\n  var unit_prefixes = {\n    Y: [\"yotta\", 1e+24, \"Y\"],\n    Z: [\"zetta\", 1e+21, \"Z\"],\n    E: [\"exa\", 1e+18, \"E\"],\n    P: [\"peta\", 1e+15, \"P\"],\n    T: [\"tera\", 1e+12, \"T\"],\n    G: [\"giga\", 1e+09, \"G\"],\n    M: [\"mega\", 1e+06, \"M\"],\n    k: [\"kilo\", 1e+03, \"k\"],\n    h: [\"hecto\", 1e+02, \"h\"],\n    e: [\"dekao\", 1e+01, \"e\"],\n    d: [\"deci\", 1e-01, \"d\"],\n    c: [\"centi\", 1e-02, \"c\"],\n    m: [\"milli\", 1e-03, \"m\"],\n    u: [\"micro\", 1e-06, \"u\"],\n    n: [\"nano\", 1e-09, \"n\"],\n    p: [\"pico\", 1e-12, \"p\"],\n    f: [\"femto\", 1e-15, \"f\"],\n    a: [\"atto\", 1e-18, \"a\"],\n    z: [\"zepto\", 1e-21, \"z\"],\n    y: [\"yocto\", 1e-24, \"y\"]\n  };\n\n  // Initialize units and multipliers\n  var from = null;\n  var to = null;\n  var base_from_unit = from_unit;\n  var base_to_unit = to_unit;\n  var from_multiplier = 1;\n  var to_multiplier = 1;\n  var alt;\n\n  // Lookup from and to units\n  for (var i = 0; i < units.length; i++) {\n    alt = (units[i][2] === null) ? [] : units[i][2];\n    if (units[i][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {\n      from = units[i];\n    }\n    if (units[i][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {\n      to = units[i];\n    }\n  }\n\n  // Lookup from prefix\n  if (from === null) {\n    var from_binary_prefix = binary_prefixes[from_unit.substring(0, 2)];\n    var from_unit_prefix = unit_prefixes[from_unit.substring(0, 1)];\n\n    // Handle dekao unit prefix (only unit prefix with two characters)\n    if (from_unit.substring(0, 2) === 'da') {\n      from_unit_prefix = [\"dekao\", 1e+01, \"da\"];\n    }\n\n    // Handle binary prefixes first (so that 'Yi' is processed before 'Y')\n    if (from_binary_prefix) {\n      from_multiplier = from_binary_prefix[2];\n      base_from_unit = from_unit.substring(2);\n    } else if (from_unit_prefix) {\n      from_multiplier = from_unit_prefix[1];\n      base_from_unit = from_unit.substring(from_unit_prefix[2].length);\n    }\n\n    // Lookup from unit\n    for (var j = 0; j < units.length; j++) {\n      alt = (units[j][2] === null) ? [] : units[j][2];\n      if (units[j][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {\n        from = units[j];\n      }\n    }\n  }\n\n  // Lookup to prefix\n  if (to === null) {\n    var to_binary_prefix = binary_prefixes[to_unit.substring(0, 2)];\n    var to_unit_prefix = unit_prefixes[to_unit.substring(0, 1)];\n\n    // Handle dekao unit prefix (only unit prefix with two characters)\n    if (to_unit.substring(0, 2) === 'da') {\n      to_unit_prefix = [\"dekao\", 1e+01, \"da\"];\n    }\n\n    // Handle binary prefixes first (so that 'Yi' is processed before 'Y')\n    if (to_binary_prefix) {\n      to_multiplier = to_binary_prefix[2];\n      base_to_unit = to_unit.substring(2);\n    } else if (to_unit_prefix) {\n      to_multiplier = to_unit_prefix[1];\n      base_to_unit = to_unit.substring(to_unit_prefix[2].length);\n    }\n\n    // Lookup to unit\n    for (var k = 0; k < units.length; k++) {\n      alt = (units[k][2] === null) ? [] : units[k][2];\n      if (units[k][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {\n        to = units[k];\n      }\n    }\n  }\n\n  // Return error if a unit does not exist\n  if (from === null || to === null) {\n    return error.na;\n  }\n\n  // Return error if units represent different quantities\n  if (from[3] !== to[3]) {\n    return error.na;\n  }\n\n  // Return converted number\n  return number * from[6] * from_multiplier / (to[6] * to_multiplier);\n};\n\nexports.DEC2BIN = function(number, places) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // Return error if number is not decimal, is lower than -512, or is greater than 511\n  if (!/^-?[0-9]{1,3}$/.test(number) || number < -512 || number > 511) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character binary number if number is negative\n  if (number < 0) {\n    return '1' + text.REPT('0', 9 - (512 + number).toString(2).length) + (512 + number).toString(2);\n  }\n\n  // Convert decimal number to binary\n  var result = parseInt(number, 10).toString(2);\n\n  // Return binary number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.DEC2HEX = function(number, places) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // Return error if number is not decimal, is lower than -549755813888, or is greater than 549755813887\n  if (!/^-?[0-9]{1,12}$/.test(number) || number < -549755813888 || number > 549755813887) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character hexadecimal number if number is negative\n  if (number < 0) {\n    return (1099511627776 + number).toString(16);\n  }\n\n  // Convert decimal number to hexadecimal\n  var result = parseInt(number, 10).toString(16);\n\n  // Return hexadecimal number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.DEC2OCT = function(number, places) {\n  number = utils.parseNumber(number);\n  if (number instanceof Error) {\n    return number;\n  }\n\n  // Return error if number is not decimal, is lower than -549755813888, or is greater than 549755813887\n  if (!/^-?[0-9]{1,9}$/.test(number) || number < -536870912 || number > 536870911) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character octal number if number is negative\n  if (number < 0) {\n    return (1073741824 + number).toString(8);\n  }\n\n  // Convert decimal number to octal\n  var result = parseInt(number, 10).toString(8);\n\n  // Return octal number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.DELTA = function(number1, number2) {\n  // Set number2 to zero if undefined\n  number2 = (number2 === undefined) ? 0 : number2;\n  number1 = utils.parseNumber(number1);\n  number2 = utils.parseNumber(number2);\n  if (utils.anyIsError(number1, number2)) {\n    return error.value;\n  }\n\n  // Return delta\n  return (number1 === number2) ? 1 : 0;\n};\n\n// TODO: why is upper_bound not used ? The excel documentation has no examples with upper_bound\nexports.ERF = function(lower_bound, upper_bound) {\n  // Set number2 to zero if undefined\n  upper_bound = (upper_bound === undefined) ? 0 : upper_bound;\n\n  lower_bound = utils.parseNumber(lower_bound);\n  upper_bound = utils.parseNumber(upper_bound);\n  if (utils.anyIsError(lower_bound, upper_bound)) {\n    return error.value;\n  }\n\n  return jStat.erf(lower_bound);\n};\n\n// TODO\nexports.ERF.PRECISE = function() {\n  throw new Error('ERF.PRECISE is not implemented');\n};\n\nexports.ERFC = function(x) {\n  // Return error if x is not a number\n  if (isNaN(x)) {\n    return error.value;\n  }\n\n  return jStat.erfc(x);\n};\n\n// TODO\nexports.ERFC.PRECISE = function() {\n  throw new Error('ERFC.PRECISE is not implemented');\n};\n\nexports.GESTEP = function(number, step) {\n  step = step || 0;\n  number = utils.parseNumber(number);\n  if (utils.anyIsError(step, number)) {\n    return number;\n  }\n\n  // Return delta\n  return (number >= step) ? 1 : 0;\n};\n\nexports.HEX2BIN = function(number, places) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Check if number is negative\n  var negative = (number.length === 10 && number.substring(0, 1).toLowerCase() === 'f') ? true : false;\n\n  // Convert hexadecimal number to decimal\n  var decimal = (negative) ? parseInt(number, 16) - 1099511627776 : parseInt(number, 16);\n\n  // Return error if number is lower than -512 or greater than 511\n  if (decimal < -512 || decimal > 511) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character binary number if number is negative\n  if (negative) {\n    return '1' + text.REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);\n  }\n\n  // Convert decimal number to binary\n  var result = decimal.toString(2);\n\n  // Return binary number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.HEX2DEC = function(number) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert hexadecimal number to decimal\n  var decimal = parseInt(number, 16);\n\n  // Return decimal number\n  return (decimal >= 549755813888) ? decimal - 1099511627776 : decimal;\n};\n\nexports.HEX2OCT = function(number, places) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert hexadecimal number to decimal\n  var decimal = parseInt(number, 16);\n\n  // Return error if number is positive and greater than 0x1fffffff (536870911)\n  if (decimal > 536870911 && decimal < 1098974756864) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character octal number if number is negative\n  if (decimal >= 1098974756864) {\n    return (decimal - 1098437885952).toString(8);\n  }\n\n  // Convert decimal number to octal\n  var result = decimal.toString(8);\n\n  // Return octal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.IMABS = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return absolute value of complex number\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n};\n\nexports.IMAGINARY = function(inumber) {\n  if (inumber === undefined || inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Return 0 if inumber is equal to 0\n  if (inumber === 0 || inumber === '0') {\n    return 0;\n  }\n\n  // Handle special cases\n  if (['i', 'j'].indexOf(inumber) >= 0) {\n    return 1;\n  }\n\n  // Normalize imaginary coefficient\n  inumber = inumber.replace('+i', '+1i').replace('-i', '-1i').replace('+j', '+1j').replace('-j', '-1j');\n\n  // Lookup sign\n  var plus = inumber.indexOf('+');\n  var minus = inumber.indexOf('-');\n  if (plus === 0) {\n    plus = inumber.indexOf('+', 1);\n  }\n\n  if (minus === 0) {\n    minus = inumber.indexOf('-', 1);\n  }\n\n  // Lookup imaginary unit\n  var last = inumber.substring(inumber.length - 1, inumber.length);\n  var unit = (last === 'i' || last === 'j');\n\n  if (plus >= 0 || minus >= 0) {\n    // Return error if imaginary unit is neither i nor j\n    if (!unit) {\n      return error.num;\n    }\n\n    // Return imaginary coefficient of complex number\n    if (plus >= 0) {\n      return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?\n        error.num :\n        Number(inumber.substring(plus + 1, inumber.length - 1));\n    } else {\n      return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?\n        error.num :\n        -Number(inumber.substring(minus + 1, inumber.length - 1));\n    }\n  } else {\n    if (unit) {\n      return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : inumber.substring(0, inumber.length - 1);\n    } else {\n      return (isNaN(inumber)) ? error.num : 0;\n    }\n  }\n};\n\nexports.IMARGUMENT = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return error if inumber is equal to zero\n  if (x === 0 && y === 0) {\n    return error.div0;\n  }\n\n  // Return PI/2 if x is equal to zero and y is positive\n  if (x === 0 && y > 0) {\n    return Math.PI / 2;\n  }\n\n  // Return -PI/2 if x is equal to zero and y is negative\n  if (x === 0 && y < 0) {\n    return -Math.PI / 2;\n  }\n\n  // Return zero if x is negative and y is equal to zero\n  if (y === 0 && x > 0) {\n    return 0;\n  }\n\n  // Return zero if x is negative and y is equal to zero\n  if (y === 0 && x < 0) {\n    return -Math.PI;\n  }\n\n  // Return argument of complex number\n  if (x > 0) {\n    return Math.atan(y / x);\n  } else if (x < 0 && y >= 0) {\n    return Math.atan(y / x) + Math.PI;\n  } else {\n    return Math.atan(y / x) - Math.PI;\n  }\n};\n\nexports.IMCONJUGATE = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return conjugate of complex number\n  return (y !== 0) ? exports.COMPLEX(x, -y, unit) : inumber;\n};\n\nexports.IMCOS = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return cosine of complex number\n  return exports.COMPLEX(Math.cos(x) * (Math.exp(y) + Math.exp(-y)) / 2, -Math.sin(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);\n};\n\nexports.IMCOSH = function(inumber) {\n  // Lookup real and imaginary coefficients using exports.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return hyperbolic cosine of complex number\n  return exports.COMPLEX(Math.cos(y) * (Math.exp(x) + Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) - Math.exp(-x)) / 2, unit);\n};\n\nexports.IMCOT = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return cotangent of complex number\n  return exports.IMDIV(exports.IMCOS(inumber), exports.IMSIN(inumber));\n};\n\nexports.IMDIV = function(inumber1, inumber2) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var a = exports.IMREAL(inumber1);\n  var b = exports.IMAGINARY(inumber1);\n  var c = exports.IMREAL(inumber2);\n  var d = exports.IMAGINARY(inumber2);\n\n  if (utils.anyIsError(a, b, c, d)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit1 = inumber1.substring(inumber1.length - 1);\n  var unit2 = inumber2.substring(inumber2.length - 1);\n  var unit = 'i';\n  if (unit1 === 'j') {\n    unit = 'j';\n  } else if (unit2 === 'j') {\n    unit = 'j';\n  }\n\n  // Return error if inumber2 is null\n  if (c === 0 && d === 0) {\n    return error.num;\n  }\n\n  // Return exponential of complex number\n  var den = c * c + d * d;\n  return exports.COMPLEX((a * c + b * d) / den, (b * c - a * d) / den, unit);\n};\n\nexports.IMEXP = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  var e = Math.exp(x);\n  return exports.COMPLEX(e * Math.cos(y), e * Math.sin(y), unit);\n};\n\nexports.IMLN = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)), Math.atan(y / x), unit);\n};\n\nexports.IMLOG10 = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(10), Math.atan(y / x) / Math.log(10), unit);\n};\n\nexports.IMLOG2 = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return exponential of complex number\n  return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(2), Math.atan(y / x) / Math.log(2), unit);\n};\n\nexports.IMPOWER = function(inumber, number) {\n  number = utils.parseNumber(number);\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n  if (utils.anyIsError(number, x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Calculate power of modulus\n  var p = Math.pow(exports.IMABS(inumber), number);\n\n  // Calculate argument\n  var t = exports.IMARGUMENT(inumber);\n\n  // Return exponential of complex number\n  return exports.COMPLEX(p * Math.cos(number * t), p * Math.sin(number * t), unit);\n};\n\nexports.IMPRODUCT = function() {\n  // Initialize result\n  var result = arguments[0];\n\n  if (!arguments.length) {\n    return error.value;\n  }\n\n  // Loop on all numbers\n  for (var i = 1; i < arguments.length; i++) {\n    // Lookup coefficients of two complex numbers\n    var a = exports.IMREAL(result);\n    var b = exports.IMAGINARY(result);\n    var c = exports.IMREAL(arguments[i]);\n    var d = exports.IMAGINARY(arguments[i]);\n\n    if (utils.anyIsError(a, b, c, d)) {\n      return error.value;\n    }\n\n    // Complute product of two complex numbers\n    result = exports.COMPLEX(a * c - b * d, a * d + b * c);\n  }\n\n  // Return product of complex numbers\n  return result;\n};\n\nexports.IMREAL = function(inumber) {\n  if (inumber === undefined || inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Return 0 if inumber is equal to 0\n  if (inumber === 0 || inumber === '0') {\n    return 0;\n  }\n\n  // Handle special cases\n  if (['i', '+i', '1i', '+1i', '-i', '-1i', 'j', '+j', '1j', '+1j', '-j', '-1j'].indexOf(inumber) >= 0) {\n    return 0;\n  }\n\n  // Lookup sign\n  var plus = inumber.indexOf('+');\n  var minus = inumber.indexOf('-');\n  if (plus === 0) {\n    plus = inumber.indexOf('+', 1);\n  }\n  if (minus === 0) {\n    minus = inumber.indexOf('-', 1);\n  }\n\n  // Lookup imaginary unit\n  var last = inumber.substring(inumber.length - 1, inumber.length);\n  var unit = (last === 'i' || last === 'j');\n\n  if (plus >= 0 || minus >= 0) {\n    // Return error if imaginary unit is neither i nor j\n    if (!unit) {\n      return error.num;\n    }\n\n    // Return real coefficient of complex number\n    if (plus >= 0) {\n      return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?\n        error.num :\n        Number(inumber.substring(0, plus));\n    } else {\n      return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?\n        error.num :\n        Number(inumber.substring(0, minus));\n    }\n  } else {\n    if (unit) {\n      return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : 0;\n    } else {\n      return (isNaN(inumber)) ? error.num : inumber;\n    }\n  }\n};\n\nexports.IMSEC = function(inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return secant of complex number\n  return exports.IMDIV('1', exports.IMCOS(inumber));\n};\n\nexports.IMSECH = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return hyperbolic secant of complex number\n  return exports.IMDIV('1', exports.IMCOSH(inumber));\n};\n\nexports.IMSIN = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return sine of complex number\n  return exports.COMPLEX(Math.sin(x) * (Math.exp(y) + Math.exp(-y)) / 2, Math.cos(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);\n};\n\nexports.IMSINH = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Return hyperbolic sine of complex number\n  return exports.COMPLEX(Math.cos(y) * (Math.exp(x) - Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) + Math.exp(-x)) / 2, unit);\n};\n\nexports.IMSQRT = function(inumber) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit = inumber.substring(inumber.length - 1);\n  unit = (unit === 'i' || unit === 'j') ? unit : 'i';\n\n  // Calculate power of modulus\n  var s = Math.sqrt(exports.IMABS(inumber));\n\n  // Calculate argument\n  var t = exports.IMARGUMENT(inumber);\n\n  // Return exponential of complex number\n  return exports.COMPLEX(s * Math.cos(t / 2), s * Math.sin(t / 2), unit);\n};\n\nexports.IMCSC = function (inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.num;\n  }\n\n  // Return cosecant of complex number\n  return exports.IMDIV('1', exports.IMSIN(inumber));\n};\n\nexports.IMCSCH = function (inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  // Return error if either coefficient is not a number\n  if (utils.anyIsError(x, y)) {\n    return error.num;\n  }\n\n  // Return hyperbolic cosecant of complex number\n  return exports.IMDIV('1', exports.IMSINH(inumber));\n};\n\nexports.IMSUB = function(inumber1, inumber2) {\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var a = this.IMREAL(inumber1);\n  var b = this.IMAGINARY(inumber1);\n  var c = this.IMREAL(inumber2);\n  var d = this.IMAGINARY(inumber2);\n\n  if (utils.anyIsError(a, b, c, d)) {\n    return error.value;\n  }\n\n  // Lookup imaginary unit\n  var unit1 = inumber1.substring(inumber1.length - 1);\n  var unit2 = inumber2.substring(inumber2.length - 1);\n  var unit = 'i';\n  if (unit1 === 'j') {\n    unit = 'j';\n  } else if (unit2 === 'j') {\n    unit = 'j';\n  }\n\n  // Return _ of two complex numbers\n  return this.COMPLEX(a - c, b - d, unit);\n};\n\nexports.IMSUM = function() {\n  if (!arguments.length) {\n    return error.value;\n  }\n  var args = utils.flatten(arguments);\n\n  // Initialize result\n  var result = args[0];\n\n  // Loop on all numbers\n  for (var i = 1; i < args.length; i++) {\n    // Lookup coefficients of two complex numbers\n    var a = this.IMREAL(result);\n    var b = this.IMAGINARY(result);\n    var c = this.IMREAL(args[i]);\n    var d = this.IMAGINARY(args[i]);\n\n    if (utils.anyIsError(a, b, c, d)) {\n      return error.value;\n    }\n\n    // Complute product of two complex numbers\n    result = this.COMPLEX(a + c, b + d);\n  }\n\n  // Return sum of complex numbers\n  return result;\n};\n\nexports.IMTAN = function(inumber) {\n  // Return error if inumber is a logical value\n  if (inumber === true || inumber === false) {\n    return error.value;\n  }\n\n  // Lookup real and imaginary coefficients using Formula.js [http://formulajs.org]\n  var x = exports.IMREAL(inumber);\n  var y = exports.IMAGINARY(inumber);\n\n  if (utils.anyIsError(x, y)) {\n    return error.value;\n  }\n\n  // Return tangent of complex number\n  return this.IMDIV(this.IMSIN(inumber), this.IMCOS(inumber));\n};\n\nexports.OCT2BIN = function(number, places) {\n  // Return error if number is not hexadecimal or contains more than ten characters (10 digits)\n  if (!/^[0-7]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Check if number is negative\n  var negative = (number.length === 10 && number.substring(0, 1) === '7') ? true : false;\n\n  // Convert octal number to decimal\n  var decimal = (negative) ? parseInt(number, 8) - 1073741824 : parseInt(number, 8);\n\n  // Return error if number is lower than -512 or greater than 511\n  if (decimal < -512 || decimal > 511) {\n    return error.num;\n  }\n\n  // Ignore places and return a 10-character binary number if number is negative\n  if (negative) {\n    return '1' + text.REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);\n  }\n\n  // Convert decimal number to binary\n  var result = decimal.toString(2);\n\n  // Return binary number using the minimum number of characters necessary if places is undefined\n  if (typeof places === 'undefined') {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n\nexports.OCT2DEC = function(number) {\n  // Return error if number is not octal or contains more than ten characters (10 digits)\n  if (!/^[0-7]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert octal number to decimal\n  var decimal = parseInt(number, 8);\n\n  // Return decimal number\n  return (decimal >= 536870912) ? decimal - 1073741824 : decimal;\n};\n\nexports.OCT2HEX = function(number, places) {\n  // Return error if number is not octal or contains more than ten characters (10 digits)\n  if (!/^[0-7]{1,10}$/.test(number)) {\n    return error.num;\n  }\n\n  // Convert octal number to decimal\n  var decimal = parseInt(number, 8);\n\n  // Ignore places and return a 10-character octal number if number is negative\n  if (decimal >= 536870912) {\n    return 'ff' + (decimal + 3221225472).toString(16);\n  }\n\n  // Convert decimal number to hexadecimal\n  var result = decimal.toString(16);\n\n  // Return hexadecimal number using the minimum number of characters necessary if places is undefined\n  if (places === undefined) {\n    return result;\n  } else {\n    // Return error if places is nonnumeric\n    if (isNaN(places)) {\n      return error.value;\n    }\n\n    // Return error if places is negative\n    if (places < 0) {\n      return error.num;\n    }\n\n    // Truncate places in case it is not an integer\n    places = Math.floor(places);\n\n    // Pad return value with leading 0s (zeros) if necessary (using Underscore.string)\n    return (places >= result.length) ? text.REPT('0', places - result.length) + result : error.num;\n  }\n};\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","var mathTrig = require('./math-trig');\nvar statistical = require('./statistical');\nvar engineering = require('./engineering');\nvar dateTime = require('./date-time');\n\nfunction set(fn, root) {\n  if (root) {\n    for (var i in root) {\n      fn[i] = root[i];\n    }\n  }\n\n  return fn;\n}\n\nexports.BETADIST = statistical.BETA.DIST;\nexports.BETAINV = statistical.BETA.INV;\nexports.BINOMDIST = statistical.BINOM.DIST;\nexports.CEILING = exports.ISOCEILING = set(mathTrig.CEILING.MATH, mathTrig.CEILING);\nexports.CEILINGMATH = mathTrig.CEILING.MATH;\nexports.CEILINGPRECISE = mathTrig.CEILING.PRECISE;\nexports.CHIDIST = statistical.CHISQ.DIST;\nexports.CHIDISTRT = statistical.CHISQ.DIST.RT;\nexports.CHIINV = statistical.CHISQ.INV;\nexports.CHIINVRT = statistical.CHISQ.INV.RT;\nexports.CHITEST = statistical.CHISQ.TEST;\nexports.CONFIDENCE = set(statistical.CONFIDENCE.NORM, statistical.CONFIDENCE);\nexports.COVAR = statistical.COVARIANCE.P;\nexports.COVARIANCEP = statistical.COVARIANCE.P;\nexports.COVARIANCES = statistical.COVARIANCE.S;\nexports.CRITBINOM = statistical.BINOM.INV;\nexports.EXPONDIST = statistical.EXPON.DIST;\nexports.ERFCPRECISE = engineering.ERFC.PRECISE;\nexports.ERFPRECISE = engineering.ERF.PRECISE;\nexports.FDIST = statistical.F.DIST;\nexports.FDISTRT = statistical.F.DIST.RT;\nexports.FINVRT = statistical.F.INV.RT;\nexports.FINV = statistical.F.INV;\nexports.FLOOR = set(mathTrig.FLOOR.MATH, mathTrig.FLOOR);\nexports.FLOORMATH = mathTrig.FLOOR.MATH;\nexports.FLOORPRECISE = mathTrig.FLOOR.PRECISE;\nexports.FTEST = statistical.F.TEST;\nexports.GAMMADIST = statistical.GAMMA.DIST;\nexports.GAMMAINV = statistical.GAMMA.INV;\nexports.GAMMALNPRECISE = statistical.GAMMALN.PRECISE;\nexports.HYPGEOMDIST = statistical.HYPGEOM.DIST;\nexports.LOGINV = statistical.LOGNORM.INV;\nexports.LOGNORMINV = statistical.LOGNORM.INV;\nexports.LOGNORMDIST = statistical.LOGNORM.DIST;\nexports.MODE = set(statistical.MODE.SNGL, statistical.MODE);\nexports.MODEMULT = statistical.MODE.MULT;\nexports.MODESNGL = statistical.MODE.SNGL;\nexports.NEGBINOMDIST = statistical.NEGBINOM.DIST;\nexports.NETWORKDAYSINTL = dateTime.NETWORKDAYS.INTL;\nexports.NORMDIST = statistical.NORM.DIST;\nexports.NORMINV = statistical.NORM.INV;\nexports.NORMSDIST = statistical.NORM.S.DIST;\nexports.NORMSINV = statistical.NORM.S.INV;\nexports.PERCENTILE = set(statistical.PERCENTILE.EXC, statistical.PERCENTILE);\nexports.PERCENTILEEXC = statistical.PERCENTILE.EXC;\nexports.PERCENTILEINC = statistical.PERCENTILE.INC;\nexports.PERCENTRANK = set(statistical.PERCENTRANK.INC, statistical.PERCENTRANK);\nexports.PERCENTRANKEXC = statistical.PERCENTRANK.EXC;\nexports.PERCENTRANKINC = statistical.PERCENTRANK.INC;\nexports.POISSON = set(statistical.POISSON.DIST, statistical.POISSON);\nexports.POISSONDIST = statistical.POISSON.DIST;\nexports.QUARTILE = set(statistical.QUARTILE.INC, statistical.QUARTILE);\nexports.QUARTILEEXC = statistical.QUARTILE.EXC;\nexports.QUARTILEINC = statistical.QUARTILE.INC;\nexports.RANK = set(statistical.RANK.EQ, statistical.RANK);\nexports.RANKAVG = statistical.RANK.AVG;\nexports.RANKEQ = statistical.RANK.EQ;\nexports.SKEWP = statistical.SKEW.P;\nexports.STDEV = set(statistical.STDEV.S, statistical.STDEV);\nexports.STDEVP = statistical.STDEV.P;\nexports.STDEVS = statistical.STDEV.S;\nexports.TDIST = statistical.T.DIST;\nexports.TDISTRT = statistical.T.DIST.RT;\nexports.TINV = statistical.T.INV;\nexports.TTEST = statistical.T.TEST;\nexports.VAR = set(statistical.VAR.S, statistical.VAR);\nexports.VARP = statistical.VAR.P;\nexports.VARS = statistical.VAR.S;\nexports.WEIBULL = set(statistical.WEIBULL.DIST, statistical.WEIBULL);\nexports.WEIBULLDIST = statistical.WEIBULL.DIST;\nexports.WORKDAYINTL = dateTime.WORKDAY.INTL;\nexports.ZTEST = statistical.Z.TEST;\n","/* bessel.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported BESSEL */\nvar BESSEL;\n(function (factory) {\n  /*jshint ignore:start */\n  if(typeof DO_NOT_EXPORT_BESSEL === 'undefined') {\n    if('object' === typeof exports) {\n      factory(exports);\n    } else if ('function' === typeof define && define.amd) {\n      define(function () {\n        var module = {};\n        factory(module);\n        return module;\n      });\n    } else {\n      factory(BESSEL = {});\n    }\n  } else {\n    factory(BESSEL = {});\n  }\n  /*jshint ignore:end */\n}(function(BESSEL) {\nBESSEL.version = '1.0.2';\nvar M = Math;\n\nfunction _horner(arr, v) { for(var i = 0, z = 0; i < arr.length; ++i) z = v * z + arr[i]; return z; }\nfunction _bessel_iter(x, n, f0, f1, sign) {\n  if(n === 0) return f0;\n  if(n === 1) return f1;\n  var tdx = 2 / x, f2 = f1;\n  for(var o = 1; o < n; ++o) {\n    f2 = f1 * o * tdx + sign * f0;\n    f0 = f1; f1 = f2;\n  }\n  return f2;\n}\nfunction _bessel_wrap(bessel0, bessel1, name, nonzero, sign) {\n  return function bessel(x,n) {\n    if(nonzero) {\n      if(x === 0) return (nonzero == 1 ? -Infinity : Infinity);\n      else if(x < 0) return NaN;\n    }\n    if(n === 0) return bessel0(x);\n    if(n === 1) return bessel1(x);\n    if(n < 0) return NaN;\n    n|=0;\n    var b0 = bessel0(x), b1 = bessel1(x);\n    return _bessel_iter(x, n, b0, b1, sign);\n  };\n}\nvar besselj = (function() {\n  var W = 0.636619772; // 2 / Math.PI\n\n  var b0_a1a = [57568490574.0, -13362590354.0, 651619640.7, -11214424.18, 77392.33017, -184.9052456].reverse();\n  var b0_a2a = [57568490411.0, 1029532985.0, 9494680.718, 59272.64853, 267.8532712, 1.0].reverse();\n  var b0_a1b = [1.0, -0.1098628627e-2, 0.2734510407e-4, -0.2073370639e-5, 0.2093887211e-6].reverse();\n  var b0_a2b = [-0.1562499995e-1, 0.1430488765e-3, -0.6911147651e-5, 0.7621095161e-6, -0.934935152e-7].reverse();\n\n  function bessel0(x) {\n    var a=0, a1=0, a2=0, y = x * x;\n    if(x < 8) {\n      a1 = _horner(b0_a1a, y);\n      a2 = _horner(b0_a2a, y);\n      a = a1 / a2;\n    } else {\n      var xx = x - 0.785398164;\n      y = 64 / y;\n      a1 = _horner(b0_a1b, y);\n      a2 = _horner(b0_a2b, y);\n      a = M.sqrt(W/x)*(M.cos(xx)*a1-M.sin(xx)*a2*8/x);\n    }\n    return a;\n  }\n\n  var b1_a1a = [72362614232.0, -7895059235.0, 242396853.1, -2972611.439, 15704.48260, -30.16036606].reverse();\n  var b1_a2a = [144725228442.0, 2300535178.0, 18583304.74, 99447.43394, 376.9991397, 1.0].reverse();\n  var b1_a1b = [1.0, 0.183105e-2, -0.3516396496e-4, 0.2457520174e-5, -0.240337019e-6].reverse();\n  var b1_a2b = [0.04687499995, -0.2002690873e-3, 0.8449199096e-5, -0.88228987e-6, 0.105787412e-6].reverse();\n\n  function bessel1(x) {\n    var a=0, a1=0, a2=0, y = x*x, xx = M.abs(x) - 2.356194491;\n    if(Math.abs(x)< 8) {\n      a1 = x*_horner(b1_a1a, y);\n      a2 = _horner(b1_a2a, y);\n      a = a1 / a2;\n    } else {\n      y = 64 / y;\n      a1=_horner(b1_a1b, y);\n      a2=_horner(b1_a2b, y);\n      a=M.sqrt(W/M.abs(x))*(M.cos(xx)*a1-M.sin(xx)*a2*8/M.abs(x));\n      if(x < 0) a = -a;\n    }\n    return a;\n  }\n\n  return function besselj(x, n) {\n    n = Math.round(n);\n    if(!isFinite(x)) return isNaN(x) ? x : 0;\n    if(n < 0) return ((n%2)?-1:1)*besselj(x, -n);\n    if(x < 0) return ((n%2)?-1:1)*besselj(-x, n);\n    if(n === 0) return bessel0(x);\n    if(n === 1) return bessel1(x);\n    if(x === 0) return 0;\n\n    var ret=0.0;\n    if(x > n) {\n      ret = _bessel_iter(x, n, bessel0(x), bessel1(x),-1);\n    } else {\n      var m=2*M.floor((n+M.floor(M.sqrt(40*n)))/2);\n      var jsum=false;\n      var bjp=0.0, sum=0.0;\n      var bj=1.0, bjm = 0.0;\n      var tox = 2 / x;\n      for (var j=m;j>0;j--) {\n        bjm=j*tox*bj-bjp;\n        bjp=bj;\n        bj=bjm;\n        if (M.abs(bj) > 1E10) {\n          bj *= 1E-10;\n          bjp *= 1E-10;\n          ret *= 1E-10;\n          sum *= 1E-10;\n        }\n        if (jsum) sum += bj;\n        jsum=!jsum;\n        if (j == n) ret=bjp;\n      }\n      sum=2.0*sum-bj;\n      ret /= sum;\n    }\n    return ret;\n  };\n})();\nvar bessely = (function() {\n  var W = 0.636619772;\n\n  var b0_a1a = [-2957821389.0, 7062834065.0, -512359803.6, 10879881.29, -86327.92757, 228.4622733].reverse();\n  var b0_a2a = [40076544269.0, 745249964.8, 7189466.438, 47447.26470, 226.1030244, 1.0].reverse();\n  var b0_a1b = [1.0, -0.1098628627e-2, 0.2734510407e-4, -0.2073370639e-5, 0.2093887211e-6].reverse();\n  var b0_a2b = [-0.1562499995e-1, 0.1430488765e-3, -0.6911147651e-5, 0.7621095161e-6, -0.934945152e-7].reverse();\n\n  function bessel0(x) {\n    var a=0, a1=0, a2=0, y = x * x, xx = x - 0.785398164;\n    if(x < 8) {\n      a1 = _horner(b0_a1a, y);\n      a2 = _horner(b0_a2a, y);\n      a = a1/a2 + W * besselj(x,0) * M.log(x);\n    } else {\n      y = 64 / y;\n      a1 = _horner(b0_a1b, y);\n      a2 = _horner(b0_a2b, y);\n      a = M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x);\n    }\n    return a;\n  }\n\n  var b1_a1a = [-0.4900604943e13, 0.1275274390e13, -0.5153438139e11, 0.7349264551e9, -0.4237922726e7, 0.8511937935e4].reverse();\n  var b1_a2a = [0.2499580570e14, 0.4244419664e12, 0.3733650367e10, 0.2245904002e8, 0.1020426050e6, 0.3549632885e3, 1].reverse();\n  var b1_a1b = [1.0, 0.183105e-2, -0.3516396496e-4, 0.2457520174e-5, -0.240337019e-6].reverse();\n  var b1_a2b = [0.04687499995, -0.2002690873e-3, 0.8449199096e-5, -0.88228987e-6, 0.105787412e-6].reverse();\n\n  function bessel1(x) {\n    var a=0, a1=0, a2=0, y = x*x, xx = x - 2.356194491;\n    if(x < 8) {\n      a1 = x*_horner(b1_a1a, y);\n      a2 = _horner(b1_a2a, y);\n      a = a1/a2 + W * (besselj(x,1) * M.log(x) - 1 / x);\n    } else {\n      y = 64 / y;\n      a1=_horner(b1_a1b, y);\n      a2=_horner(b1_a2b, y);\n      a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x);\n    }\n    return a;\n  }\n\n  return _bessel_wrap(bessel0, bessel1, 'BESSELY', 1, -1);\n})();\nvar besseli = (function() {\n  var b0_a = [1.0, 3.5156229, 3.0899424, 1.2067492, 0.2659732, 0.360768e-1, 0.45813e-2].reverse();\n  var b0_b = [0.39894228, 0.1328592e-1, 0.225319e-2, -0.157565e-2, 0.916281e-2, -0.2057706e-1, 0.2635537e-1, -0.1647633e-1, 0.392377e-2].reverse();\n\n  function bessel0(x) {\n    if(x <= 3.75) return _horner(b0_a, x*x/(3.75*3.75));\n    return M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b0_b, 3.75/M.abs(x));\n  }\n\n  var b1_a = [0.5, 0.87890594, 0.51498869, 0.15084934, 0.2658733e-1, 0.301532e-2, 0.32411e-3].reverse();\n  var b1_b = [0.39894228, -0.3988024e-1, -0.362018e-2, 0.163801e-2, -0.1031555e-1, 0.2282967e-1, -0.2895312e-1, 0.1787654e-1, -0.420059e-2].reverse();\n\n  function bessel1(x) {\n    if(x < 3.75) return x * _horner(b1_a, x*x/(3.75*3.75));\n    return (x < 0 ? -1 : 1) * M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b1_b, 3.75/M.abs(x));\n  }\n\n  return function besseli(x, n) {\n    n = Math.round(n);\n    if(n === 0) return bessel0(x);\n    if(n === 1) return bessel1(x);\n    if(n < 0) return NaN;\n    if(M.abs(x) === 0) return 0;\n    if(x == Infinity) return Infinity;\n\n    var ret = 0.0, j, tox = 2 / M.abs(x), bip = 0.0, bi=1.0, bim=0.0;\n    var m=2*M.round((n+M.round(M.sqrt(40*n)))/2);\n    for (j=m;j>0;j--) {\n      bim=j*tox*bi + bip;\n      bip=bi; bi=bim;\n      if (M.abs(bi) > 1E10) {\n        bi *= 1E-10;\n        bip *= 1E-10;\n        ret *= 1E-10;\n      }\n      if(j == n) ret = bip;\n    }\n    ret *= besseli(x, 0) / bi;\n    return x < 0 && (n%2) ? -ret : ret;\n  };\n\n})();\n\nvar besselk = (function() {\n  var b0_a = [-0.57721566, 0.42278420, 0.23069756, 0.3488590e-1, 0.262698e-2, 0.10750e-3, 0.74e-5].reverse();\n  var b0_b = [1.25331414, -0.7832358e-1, 0.2189568e-1, -0.1062446e-1, 0.587872e-2, -0.251540e-2, 0.53208e-3].reverse();\n\n  function bessel0(x) {\n    if(x <= 2) return -M.log(x/2) * besseli(x,0) + _horner(b0_a, x*x/4);\n    return M.exp(-x) / M.sqrt(x) * _horner(b0_b, 2/x);\n  }\n\n  var b1_a = [1.0, 0.15443144, -0.67278579, -0.18156897, -0.1919402e-1, -0.110404e-2, -0.4686e-4].reverse();\n  var b1_b = [1.25331414, 0.23498619, -0.3655620e-1, 0.1504268e-1, -0.780353e-2, 0.325614e-2, -0.68245e-3].reverse();\n\n  function bessel1(x) {\n    if(x <= 2) return M.log(x/2) * besseli(x,1) + (1/x) * _horner(b1_a, x*x/4);\n    return M.exp(-x)/M.sqrt(x)*_horner(b1_b, 2/x);\n  }\n\n  return _bessel_wrap(bessel0, bessel1, 'BESSELK', 2, 1);\n})();\nBESSEL.besselj = besselj;\nBESSEL.bessely = bessely;\nBESSEL.besseli = besseli;\nBESSEL.besselk = besselk;\n}));\n","var error = require('./utils/error');\nvar stats = require('./statistical');\nvar maths = require('./math-trig');\nvar utils = require('./utils/common');\nvar evalExpression = require('./utils/criteria-eval');\n\nfunction compact(array) {\n  var result = [];\n\n  utils.arrayEach(array, function(value) {\n    if (value) {\n      result.push(value);\n    }\n  });\n\n  return result;\n}\n\nexports.FINDFIELD = function(database, title) {\n  var index = null;\n\n  utils.arrayEach(database, function(value, i) {\n    if (value[0] === title) {\n      index = i;\n      return false;\n    }\n  });\n\n  // Return error if the input field title is incorrect\n  if (index == null) {\n    return error.value;\n  }\n\n  return index;\n};\n\nfunction findResultIndex(database, criterias) {\n  var matches = {};\n  for (var i = 1; i < database[0].length; ++i) {\n    matches[i] = true;\n  }\n  var maxCriteriaLength = criterias[0].length;\n  for (i = 1; i < criterias.length; ++i) {\n    if (criterias[i].length > maxCriteriaLength) {\n      maxCriteriaLength = criterias[i].length;\n    }\n  }\n\n  for (var k = 1; k < database.length; ++k) {\n    for (var l = 1; l < database[k].length; ++l) {\n      var currentCriteriaResult = false;\n      var hasMatchingCriteria   = false;\n      for (var j = 0; j < criterias.length; ++j) {\n        var criteria = criterias[j];\n        if (criteria.length < maxCriteriaLength) {\n          continue;\n        }\n\n        var criteriaField = criteria[0];\n        if (database[k][0] !== criteriaField) {\n          continue;\n        }\n        hasMatchingCriteria = true;\n        for (var p = 1; p < criteria.length; ++p) {\n          if (!currentCriteriaResult) {\n            var isWildcard = criteria[p] === void 0 || criteria[p] === '*';\n\n            if (isWildcard) {\n              currentCriteriaResult = true;\n            } else {\n              var tokenizedCriteria = evalExpression.parse(criteria[p] + '');\n              var tokens = [evalExpression.createToken(database[k][l], evalExpression.TOKEN_TYPE_LITERAL)].concat(tokenizedCriteria);\n\n              currentCriteriaResult = evalExpression.compute(tokens);\n            }\n          }\n        }\n      }\n      if (hasMatchingCriteria) {\n        matches[l] = matches[l] && currentCriteriaResult;\n      }\n    }\n  }\n\n  var result = [];\n  for (var n = 0; n < database[0].length; ++n) {\n    if (matches[n]) {\n      result.push(n - 1);\n    }\n  }\n\n  return result;\n}\n\n// Database functions\nexports.DAVERAGE = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var sum = 0;\n\n  utils.arrayEach(resultIndexes, function(value) {\n    sum += targetFields[value];\n  });\n\n  return resultIndexes.length === 0 ? error.div0 : sum / resultIndexes.length;\n};\n\nexports.DCOUNT = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.COUNT(targetValues);\n};\n\nexports.DCOUNTA = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.COUNTA(targetValues);\n};\n\nexports.DGET = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  // Return error if no record meets the criteria\n  if (resultIndexes.length === 0) {\n    return error.value;\n  }\n  // Returns the #NUM! error value because more than one record meets the\n  // criteria\n  if (resultIndexes.length > 1) {\n    return error.num;\n  }\n\n  return targetFields[resultIndexes[0]];\n};\n\nexports.DMAX = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var maxValue = targetFields[resultIndexes[0]];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    if (maxValue < targetFields[value]) {\n      maxValue = targetFields[value];\n    }\n  });\n\n  return maxValue;\n};\n\nexports.DMIN = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var minValue = targetFields[resultIndexes[0]];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    if (minValue > targetFields[value]) {\n      minValue = targetFields[value];\n    }\n  });\n\n  return minValue;\n};\n\nexports.DPRODUCT = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n  targetValues = compact(targetValues);\n\n  var result = 1;\n\n  utils.arrayEach(targetValues, function(value) {\n    result *= value;\n  });\n\n  return result;\n};\n\nexports.DSTDEV = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n  targetValues = compact(targetValues);\n\n  return stats.STDEV.S(targetValues);\n};\n\nexports.DSTDEVP = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n  targetValues = compact(targetValues);\n\n  return stats.STDEV.P(targetValues);\n};\n\nexports.DSUM = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return maths.SUM(targetValues);\n};\n\nexports.DVAR = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.VAR.S(targetValues);\n};\n\nexports.DVARP = function(database, field, criteria) {\n  // Return error if field is not a number and not a string\n  if (isNaN(field) && (typeof field !== \"string\")) {\n    return error.value;\n  }\n  var resultIndexes = findResultIndex(database, criteria);\n  var targetFields = [];\n\n  if (typeof field === \"string\") {\n    var index = exports.FINDFIELD(database, field);\n    targetFields = utils.rest(database[index]);\n  } else {\n    targetFields = utils.rest(database[field]);\n  }\n  var targetValues = [];\n\n  utils.arrayEach(resultIndexes, function(value) {\n    targetValues.push(targetFields[value]);\n  });\n\n  return stats.VAR.P(targetValues);\n};\n","var error = require('./utils/error');\nvar utils = require('./utils/common');\nvar information = require('./information');\n\nexports.AND = function() {\n  var args = utils.flatten(arguments);\n  var result = true;\n  for (var i = 0; i < args.length; i++) {\n    if (!args[i]) {\n      result = false;\n    }\n  }\n  return result;\n};\n\nexports.CHOOSE = function() {\n  if (arguments.length < 2) {\n    return error.na;\n  }\n\n  var index = arguments[0];\n  if (index < 1 || index > 254) {\n    return error.value;\n  }\n\n  if (arguments.length < index + 1) {\n    return error.value;\n  }\n\n  return arguments[index];\n};\n\nexports.FALSE = function() {\n  return false;\n};\n\nexports.IF = function(test, then_value, otherwise_value) {\n  return test ? then_value : otherwise_value;\n};\n\nexports.IFERROR = function(value, valueIfError) {\n  if (information.ISERROR(value)) {\n    return valueIfError;\n  }\n  return value;\n};\n\nexports.IFNA = function(value, value_if_na) {\n  return value === error.na ? value_if_na : value;\n};\n\nexports.NOT = function(logical) {\n  return !logical;\n};\n\nexports.OR = function() {\n  var args = utils.flatten(arguments);\n  var result = false;\n  for (var i = 0; i < args.length; i++) {\n    if (args[i]) {\n      result = true;\n    }\n  }\n  return result;\n};\n\nexports.TRUE = function() {\n  return true;\n};\n\nexports.XOR = function() {\n  var args = utils.flatten(arguments);\n  var result = 0;\n  for (var i = 0; i < args.length; i++) {\n    if (args[i]) {\n      result++;\n    }\n  }\n  return (Math.floor(Math.abs(result)) & 1) ? true : false;\n};\n\nexports.SWITCH = function () {\n  var result;\n\n  if (arguments.length > 0)  {\n    var targetValue = arguments[0];\n    var argc = arguments.length - 1;\n    var switchCount = Math.floor(argc / 2);\n    var switchSatisfied = false;\n    var hasDefaultClause = argc % 2 !== 0;\n    var defaultClause = argc % 2 === 0 ? null : arguments[arguments.length - 1];\n\n    if (switchCount) {\n      for (var index = 0; index < switchCount; index++) {\n        if (targetValue === arguments[index * 2 + 1]) {\n          result = arguments[index * 2 + 2];\n          switchSatisfied = true;\n          break;\n        }\n      }\n    }\n\n    if (!switchSatisfied) {\n      result = hasDefaultClause ? defaultClause : error.na;\n    }\n  } else {\n    result = error.value;\n  }\n\n  return result;\n};\n","var error = require('./utils/error');\nvar dateTime = require('./date-time');\nvar utils = require('./utils/common');\n\nfunction validDate(d) {\n  return d && d.getTime && !isNaN(d.getTime());\n}\n\nfunction ensureDate(d) {\n  return (d instanceof Date)?d:new Date(d);\n}\n\nexports.ACCRINT = function(issue, first, settlement, rate, par, frequency, basis) {\n  // Return error if either date is invalid\n  issue      = ensureDate(issue);\n  first      = ensureDate(first);\n  settlement = ensureDate(settlement);\n  if (!validDate(issue) || !validDate(first) || !validDate(settlement)) {\n    return error.value;\n  }\n\n  // Return error if either rate or par are lower than or equal to zero\n  if (rate <= 0 || par <= 0) {\n    return error.num;\n  }\n\n  // Return error if frequency is neither 1, 2, or 4\n  if ([1, 2, 4].indexOf(frequency) === -1) {\n    return error.num;\n  }\n\n  // Return error if basis is neither 0, 1, 2, 3, or 4\n  if ([0, 1, 2, 3, 4].indexOf(basis) === -1) {\n    return error.num;\n  }\n\n  // Return error if settlement is before or equal to issue\n  if (settlement <= issue) {\n    return error.num;\n  }\n\n  // Set default values\n  par   = par   || 0;\n  basis = basis || 0;\n\n  // Compute accrued interest\n  return par * rate * dateTime.YEARFRAC(issue, settlement, basis);\n};\n\n// TODO\nexports.ACCRINTM = function() {\n  throw new Error('ACCRINTM is not implemented');\n};\n\n// TODO\nexports.AMORDEGRC = function() {\n  throw new Error('AMORDEGRC is not implemented');\n};\n\n// TODO\nexports.AMORLINC = function() {\n  throw new Error('AMORLINC is not implemented');\n};\n\n// TODO\nexports.COUPDAYBS = function() {\n  throw new Error('COUPDAYBS is not implemented');\n};\n\n// TODO\nexports.COUPDAYS = function() {\n  throw new Error('COUPDAYS is not implemented');\n};\n\n// TODO\nexports.COUPDAYSNC = function() {\n  throw new Error('COUPDAYSNC is not implemented');\n};\n\n// TODO\nexports.COUPNCD = function() {\n  throw new Error('COUPNCD is not implemented');\n};\n\n// TODO\nexports.COUPNUM = function() {\n  throw new Error('COUPNUM is not implemented');\n};\n\n// TODO\nexports.COUPPCD = function() {\n  throw new Error('COUPPCD is not implemented');\n};\n\nexports.CUMIPMT = function(rate, periods, value, start, end, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n  // Credits: Hannes Stiebitzhofer for the translations of function and variable names\n  // Requires exports.FV() and exports.PMT() from exports.js [http://stoic.com/exports/]\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  value = utils.parseNumber(value);\n  if (utils.anyIsError(rate, periods, value)) {\n    return error.value;\n  }\n\n  // Return error if either rate, periods, or value are lower than or equal to zero\n  if (rate <= 0 || periods <= 0 || value <= 0) {\n    return error.num;\n  }\n\n  // Return error if start < 1, end < 1, or start > end\n  if (start < 1 || end < 1 || start > end) {\n    return error.num;\n  }\n\n  // Return error if type is neither 0 nor 1\n  if (type !== 0 && type !== 1) {\n    return error.num;\n  }\n\n  // Compute cumulative interest\n  var payment = exports.PMT(rate, periods, value, 0, type);\n  var interest = 0;\n\n  if (start === 1) {\n    if (type === 0) {\n      interest = -value;\n      start++;\n    }\n  }\n\n  for (var i = start; i <= end; i++) {\n    if (type === 1) {\n      interest += exports.FV(rate, i - 2, payment, value, 1) - payment;\n    } else {\n      interest += exports.FV(rate, i - 1, payment, value, 0);\n    }\n  }\n  interest *= rate;\n\n  // Return cumulative interest\n  return interest;\n};\n\nexports.CUMPRINC = function(rate, periods, value, start, end, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n  // Credits: Hannes Stiebitzhofer for the translations of function and variable names\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  value = utils.parseNumber(value);\n  if (utils.anyIsError(rate, periods, value)) {\n    return error.value;\n  }\n\n  // Return error if either rate, periods, or value are lower than or equal to zero\n  if (rate <= 0 || periods <= 0 || value <= 0) {\n    return error.num;\n  }\n\n  // Return error if start < 1, end < 1, or start > end\n  if (start < 1 || end < 1 || start > end) {\n    return error.num;\n  }\n\n  // Return error if type is neither 0 nor 1\n  if (type !== 0 && type !== 1) {\n    return error.num;\n  }\n\n  // Compute cumulative principal\n  var payment = exports.PMT(rate, periods, value, 0, type);\n  var principal = 0;\n  if (start === 1) {\n    if (type === 0) {\n      principal = payment + value * rate;\n    } else {\n      principal = payment;\n    }\n    start++;\n  }\n  for (var i = start; i <= end; i++) {\n    if (type > 0) {\n      principal += payment - (exports.FV(rate, i - 2, payment, value, 1) - payment) * rate;\n    } else {\n      principal += payment - exports.FV(rate, i - 1, payment, value, 0) * rate;\n    }\n  }\n\n  // Return cumulative principal\n  return principal;\n};\n\nexports.DB = function(cost, salvage, life, period, month) {\n  // Initialize month\n  month = (month === undefined) ? 12 : month;\n\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  period = utils.parseNumber(period);\n  month = utils.parseNumber(month);\n  if (utils.anyIsError(cost, salvage, life, period, month)) {\n    return error.value;\n  }\n\n  // Return error if any of the parameters is negative\n  if (cost < 0 || salvage < 0 || life < 0 || period < 0) {\n    return error.num;\n  }\n\n  // Return error if month is not an integer between 1 and 12\n  if ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].indexOf(month) === -1) {\n    return error.num;\n  }\n\n  // Return error if period is greater than life\n  if (period > life) {\n    return error.num;\n  }\n\n  // Return 0 (zero) if salvage is greater than or equal to cost\n  if (salvage >= cost) {\n    return 0;\n  }\n\n  // Rate is rounded to three decimals places\n  var rate = (1 - Math.pow(salvage / cost, 1 / life)).toFixed(3);\n\n  // Compute initial depreciation\n  var initial = cost * rate * month / 12;\n\n  // Compute total depreciation\n  var total = initial;\n  var current = 0;\n  var ceiling = (period === life) ? life - 1 : period;\n  for (var i = 2; i <= ceiling; i++) {\n    current = (cost - total) * rate;\n    total += current;\n  }\n\n  // Depreciation for the first and last periods are special cases\n  if (period === 1) {\n    // First period\n    return initial;\n  } else if (period === life) {\n    // Last period\n    return (cost - total) * rate;\n  } else {\n    return current;\n  }\n};\n\nexports.DDB = function(cost, salvage, life, period, factor) {\n  // Initialize factor\n  factor = (factor === undefined) ? 2 : factor;\n\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  period = utils.parseNumber(period);\n  factor = utils.parseNumber(factor);\n  if (utils.anyIsError(cost, salvage, life, period, factor)) {\n    return error.value;\n  }\n\n  // Return error if any of the parameters is negative or if factor is null\n  if (cost < 0 || salvage < 0 || life < 0 || period < 0 || factor <= 0) {\n    return error.num;\n  }\n\n  // Return error if period is greater than life\n  if (period > life) {\n    return error.num;\n  }\n\n  // Return 0 (zero) if salvage is greater than or equal to cost\n  if (salvage >= cost) {\n    return 0;\n  }\n\n  // Compute depreciation\n  var total = 0;\n  var current = 0;\n  for (var i = 1; i <= period; i++) {\n    current = Math.min((cost - total) * (factor / life), (cost - salvage - total));\n    total += current;\n  }\n\n  // Return depreciation\n  return current;\n};\n\n// TODO\nexports.DISC = function() {\n  throw new Error('DISC is not implemented');\n};\n\nexports.DOLLARDE = function(dollar, fraction) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  dollar = utils.parseNumber(dollar);\n  fraction = utils.parseNumber(fraction);\n  if (utils.anyIsError(dollar, fraction)) {\n    return error.value;\n  }\n\n  // Return error if fraction is negative\n  if (fraction < 0) {\n    return error.num;\n  }\n\n  // Return error if fraction is greater than or equal to 0 and less than 1\n  if (fraction >= 0 && fraction < 1) {\n    return error.div0;\n  }\n\n  // Truncate fraction if it is not an integer\n  fraction = parseInt(fraction, 10);\n\n  // Compute integer part\n  var result = parseInt(dollar, 10);\n\n  // Add decimal part\n  result += (dollar % 1) * Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN10)) / fraction;\n\n  // Round result\n  var power = Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN2) + 1);\n  result = Math.round(result * power) / power;\n\n  // Return converted dollar price\n  return result;\n};\n\nexports.DOLLARFR = function(dollar, fraction) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  dollar = utils.parseNumber(dollar);\n  fraction = utils.parseNumber(fraction);\n  if (utils.anyIsError(dollar, fraction)) {\n    return error.value;\n  }\n\n  // Return error if fraction is negative\n  if (fraction < 0) {\n    return error.num;\n  }\n\n  // Return error if fraction is greater than or equal to 0 and less than 1\n  if (fraction >= 0 && fraction < 1) {\n    return error.div0;\n  }\n\n  // Truncate fraction if it is not an integer\n  fraction = parseInt(fraction, 10);\n\n  // Compute integer part\n  var result = parseInt(dollar, 10);\n\n  // Add decimal part\n  result += (dollar % 1) * Math.pow(10, -Math.ceil(Math.log(fraction) / Math.LN10)) * fraction;\n\n  // Return converted dollar price\n  return result;\n};\n\n// TODO\nexports.DURATION = function() {\n  throw new Error('DURATION is not implemented');\n};\n\nexports.EFFECT = function(rate, periods) {\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  if (utils.anyIsError(rate, periods)) {\n    return error.value;\n  }\n\n  // Return error if rate <=0 or periods < 1\n  if (rate <= 0 || periods < 1) {\n    return error.num;\n  }\n\n  // Truncate periods if it is not an integer\n  periods = parseInt(periods, 10);\n\n  // Return effective annual interest rate\n  return Math.pow(1 + rate / periods, periods) - 1;\n};\n\nexports.FV = function(rate, periods, payment, value, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  value = value || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  payment = utils.parseNumber(payment);\n  value = utils.parseNumber(value);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, payment, value, type)) {\n    return error.value;\n  }\n\n  // Return future value\n  var result;\n  if (rate === 0) {\n    result = value + payment * periods;\n  } else {\n    var term = Math.pow(1 + rate, periods);\n    if (type === 1) {\n      result = value * term + payment * (1 + rate) * (term - 1) / rate;\n    } else {\n      result = value * term + payment * (term - 1) / rate;\n    }\n  }\n  return -result;\n};\n\nexports.FVSCHEDULE = function(principal, schedule) {\n  principal = utils.parseNumber(principal);\n  schedule = utils.parseNumberArray(utils.flatten(schedule));\n  if (utils.anyIsError(principal, schedule)) {\n    return error.value;\n  }\n\n  var n = schedule.length;\n  var future = principal;\n\n  // Apply all interests in schedule\n  for (var i = 0; i < n; i++) {\n    // Apply scheduled interest\n    future *= 1 + schedule[i];\n  }\n\n  // Return future value\n  return future;\n};\n\n// TODO\nexports.INTRATE = function() {\n  throw new Error('INTRATE is not implemented');\n};\n\nexports.IPMT = function(rate, period, periods, present, future, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  period = utils.parseNumber(period);\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, period, periods, present, future, type)) {\n    return error.value;\n  }\n\n  // Compute payment\n  var payment = exports.PMT(rate, periods, present, future, type);\n\n  // Compute interest\n  var interest;\n  if (period === 1) {\n    if (type === 1) {\n      interest = 0;\n    } else {\n      interest = -present;\n    }\n  } else {\n    if (type === 1) {\n      interest = exports.FV(rate, period - 2, payment, present, 1) - payment;\n    } else {\n      interest = exports.FV(rate, period - 1, payment, present, 0);\n    }\n  }\n\n  // Return interest\n  return interest * rate;\n};\n\nexports.IRR = function(values, guess) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  guess = guess || 0;\n\n  values = utils.parseNumberArray(utils.flatten(values));\n  guess = utils.parseNumber(guess);\n  if (utils.anyIsError(values, guess)) {\n    return error.value;\n  }\n\n  // Calculates the resulting amount\n  var irrResult = function(values, dates, rate) {\n    var r = rate + 1;\n    var result = values[0];\n    for (var i = 1; i < values.length; i++) {\n      result += values[i] / Math.pow(r, (dates[i] - dates[0]) / 365);\n    }\n    return result;\n  };\n\n  // Calculates the first derivation\n  var irrResultDeriv = function(values, dates, rate) {\n    var r = rate + 1;\n    var result = 0;\n    for (var i = 1; i < values.length; i++) {\n      var frac = (dates[i] - dates[0]) / 365;\n      result -= frac * values[i] / Math.pow(r, frac + 1);\n    }\n    return result;\n  };\n\n  // Initialize dates and check that values contains at least one positive value and one negative value\n  var dates = [];\n  var positive = false;\n  var negative = false;\n  for (var i = 0; i < values.length; i++) {\n    dates[i] = (i === 0) ? 0 : dates[i - 1] + 365;\n    if (values[i] > 0) {\n      positive = true;\n    }\n    if (values[i] < 0) {\n      negative = true;\n    }\n  }\n\n  // Return error if values does not contain at least one positive value and one negative value\n  if (!positive || !negative) {\n    return error.num;\n  }\n\n  // Initialize guess and resultRate\n  guess = (guess === undefined) ? 0.1 : guess;\n  var resultRate = guess;\n\n  // Set maximum epsilon for end of iteration\n  var epsMax = 1e-10;\n\n  // Implement Newton's method\n  var newRate, epsRate, resultValue;\n  var contLoop = true;\n  do {\n    resultValue = irrResult(values, dates, resultRate);\n    newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);\n    epsRate = Math.abs(newRate - resultRate);\n    resultRate = newRate;\n    contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);\n  } while (contLoop);\n\n  // Return internal rate of return\n  return resultRate;\n};\n\nexports.ISPMT = function(rate, period, periods, value) {\n  rate = utils.parseNumber(rate);\n  period = utils.parseNumber(period);\n  periods = utils.parseNumber(periods);\n  value = utils.parseNumber(value);\n  if (utils.anyIsError(rate, period, periods, value)) {\n    return error.value;\n  }\n\n  // Return interest\n  return value * rate * (period / periods - 1);\n};\n\n// TODO\nexports.MDURATION = function() {\n  throw new Error('MDURATION is not implemented');\n};\n\nexports.MIRR = function(values, finance_rate, reinvest_rate) {\n  values = utils.parseNumberArray(utils.flatten(values));\n  finance_rate = utils.parseNumber(finance_rate);\n  reinvest_rate = utils.parseNumber(reinvest_rate);\n  if (utils.anyIsError(values, finance_rate, reinvest_rate)) {\n    return error.value;\n  }\n\n  // Initialize number of values\n  var n = values.length;\n\n  // Lookup payments (negative values) and incomes (positive values)\n  var payments = [];\n  var incomes = [];\n  for (var i = 0; i < n; i++) {\n    if (values[i] < 0) {\n      payments.push(values[i]);\n    } else {\n      incomes.push(values[i]);\n    }\n  }\n\n  // Return modified internal rate of return\n  var num = -exports.NPV(reinvest_rate, incomes) * Math.pow(1 + reinvest_rate, n - 1);\n  var den = exports.NPV(finance_rate, payments) * (1 + finance_rate);\n  return Math.pow(num / den, 1 / (n - 1)) - 1;\n};\n\nexports.NOMINAL = function(rate, periods) {\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  if (utils.anyIsError(rate, periods)) {\n    return error.value;\n  }\n\n  // Return error if rate <=0 or periods < 1\n  if (rate <= 0 || periods < 1) {\n    return error.num;\n  }\n\n  // Truncate periods if it is not an integer\n  periods = parseInt(periods, 10);\n\n  // Return nominal annual interest rate\n  return (Math.pow(rate + 1, 1 / periods) - 1) * periods;\n};\n\nexports.NPER = function(rate, payment, present, future, type) {\n  type = (type === undefined) ? 0 : type;\n  future = (future === undefined) ? 0 : future;\n\n  rate = utils.parseNumber(rate);\n  payment = utils.parseNumber(payment);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, payment, present, future, type)) {\n    return error.value;\n  }\n\n  // Return number of periods\n  var num = payment * (1 + rate * type) - future * rate;\n  var den = (present * rate + payment * (1 + rate * type));\n  return Math.log(num / den) / Math.log(1 + rate);\n};\n\nexports.NPV = function() {\n  var args = utils.parseNumberArray(utils.flatten(arguments));\n  if (args instanceof Error) {\n    return args;\n  }\n\n  // Lookup rate\n  var rate = args[0];\n\n  // Initialize net present value\n  var value = 0;\n\n  // Loop on all values\n  for (var j = 1; j < args.length; j++) {\n    value += args[j] / Math.pow(1 + rate, j);\n  }\n\n  // Return net present value\n  return value;\n};\n\n// TODO\nexports.ODDFPRICE = function() {\n  throw new Error('ODDFPRICE is not implemented');\n};\n\n// TODO\nexports.ODDFYIELD = function() {\n  throw new Error('ODDFYIELD is not implemented');\n};\n\n// TODO\nexports.ODDLPRICE = function() {\n  throw new Error('ODDLPRICE is not implemented');\n};\n\n// TODO\nexports.ODDLYIELD = function() {\n  throw new Error('ODDLYIELD is not implemented');\n};\n\nexports.PDURATION = function(rate, present, future) {\n  rate = utils.parseNumber(rate);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  if (utils.anyIsError(rate, present, future)) {\n    return error.value;\n  }\n\n  // Return error if rate <=0\n  if (rate <= 0) {\n    return error.num;\n  }\n\n  // Return number of periods\n  return (Math.log(future) - Math.log(present)) / Math.log(1 + rate);\n};\n\nexports.PMT = function(rate, periods, present, future, type) {\n  // Credits: algorithm inspired by Apache OpenOffice\n\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, present, future, type)) {\n    return error.value;\n  }\n\n  // Return payment\n  var result;\n  if (rate === 0) {\n    result = (present + future) / periods;\n  } else {\n    var term = Math.pow(1 + rate, periods);\n    if (type === 1) {\n      result = (future * rate / (term - 1) + present * rate / (1 - 1 / term)) / (1 + rate);\n    } else {\n      result = future * rate / (term - 1) + present * rate / (1 - 1 / term);\n    }\n  }\n  return -result;\n};\n\nexports.PPMT = function(rate, period, periods, present, future, type) {\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, present, future, type)) {\n    return error.value;\n  }\n\n  return exports.PMT(rate, periods, present, future, type) - exports.IPMT(rate, period, periods, present, future, type);\n};\n\n// TODO\nexports.PRICE = function() {\n  throw new Error('PRICE is not implemented');\n};\n\n// TODO\nexports.PRICEDISC = function() {\n  throw new Error('PRICEDISC is not implemented');\n};\n\n// TODO\nexports.PRICEMAT = function() {\n  throw new Error('PRICEMAT is not implemented');\n};\n\nexports.PV = function(rate, periods, payment, future, type) {\n  future = future || 0;\n  type = type || 0;\n\n  rate = utils.parseNumber(rate);\n  periods = utils.parseNumber(periods);\n  payment = utils.parseNumber(payment);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  if (utils.anyIsError(rate, periods, payment, future, type)) {\n    return error.value;\n  }\n\n  // Return present value\n  if (rate === 0) {\n    return -payment * periods - future;\n  } else {\n    return (((1 - Math.pow(1 + rate, periods)) / rate) * payment * (1 + rate * type) - future) / Math.pow(1 + rate, periods);\n  }\n};\n\nexports.RATE = function(periods, payment, present, future, type, guess) {\n  // Credits: rabugento\n\n  guess = (guess === undefined) ? 0.01 : guess;\n  future = (future === undefined) ? 0 : future;\n  type = (type === undefined) ? 0 : type;\n\n  periods = utils.parseNumber(periods);\n  payment = utils.parseNumber(payment);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  type = utils.parseNumber(type);\n  guess = utils.parseNumber(guess);\n  if (utils.anyIsError(periods, payment, present, future, type, guess)) {\n    return error.value;\n  }\n\n  // Set maximum epsilon for end of iteration\n  var epsMax = 1e-10;\n\n  // Set maximum number of iterations\n  var iterMax = 50;\n\n  // Implement Newton's method\n  var y, y0, y1, x0, x1 = 0,\n    f = 0,\n    i = 0;\n  var rate = guess;\n  if (Math.abs(rate) < epsMax) {\n    y = present * (1 + periods * rate) + payment * (1 + rate * type) * periods + future;\n  } else {\n    f = Math.exp(periods * Math.log(1 + rate));\n    y = present * f + payment * (1 / rate + type) * (f - 1) + future;\n  }\n  y0 = present + payment * periods + future;\n  y1 = present * f + payment * (1 / rate + type) * (f - 1) + future;\n  i = x0 = 0;\n  x1 = rate;\n  while ((Math.abs(y0 - y1) > epsMax) && (i < iterMax)) {\n    rate = (y1 * x0 - y0 * x1) / (y1 - y0);\n    x0 = x1;\n    x1 = rate;\n    if (Math.abs(rate) < epsMax) {\n      y = present * (1 + periods * rate) + payment * (1 + rate * type) * periods + future;\n    } else {\n      f = Math.exp(periods * Math.log(1 + rate));\n      y = present * f + payment * (1 / rate + type) * (f - 1) + future;\n    }\n    y0 = y1;\n    y1 = y;\n    ++i;\n  }\n  return rate;\n};\n\n// TODO\nexports.RECEIVED = function() {\n  throw new Error('RECEIVED is not implemented');\n};\n\nexports.RRI = function(periods, present, future) {\n  periods = utils.parseNumber(periods);\n  present = utils.parseNumber(present);\n  future = utils.parseNumber(future);\n  if (utils.anyIsError(periods, present, future)) {\n    return error.value;\n  }\n\n  // Return error if periods or present is equal to 0 (zero)\n  if (periods === 0 || present === 0) {\n    return error.num;\n  }\n\n  // Return equivalent interest rate\n  return Math.pow(future / present, 1 / periods) - 1;\n};\n\nexports.SLN = function(cost, salvage, life) {\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  if (utils.anyIsError(cost, salvage, life)) {\n    return error.value;\n  }\n\n  // Return error if life equal to 0 (zero)\n  if (life === 0) {\n    return error.num;\n  }\n\n  // Return straight-line depreciation\n  return (cost - salvage) / life;\n};\n\nexports.SYD = function(cost, salvage, life, period) {\n  // Return error if any of the parameters is not a number\n  cost = utils.parseNumber(cost);\n  salvage = utils.parseNumber(salvage);\n  life = utils.parseNumber(life);\n  period = utils.parseNumber(period);\n  if (utils.anyIsError(cost, salvage, life, period)) {\n    return error.value;\n  }\n\n  // Return error if life equal to 0 (zero)\n  if (life === 0) {\n    return error.num;\n  }\n\n  // Return error if period is lower than 1 or greater than life\n  if (period < 1 || period > life) {\n    return error.num;\n  }\n\n  // Truncate period if it is not an integer\n  period = parseInt(period, 10);\n\n  // Return straight-line depreciation\n  return ((cost - salvage) * (life - period + 1) * 2) / (life * (life + 1));\n};\n\nexports.TBILLEQ = function(settlement, maturity, discount) {\n  settlement = utils.parseDate(settlement);\n  maturity = utils.parseDate(maturity);\n  discount = utils.parseNumber(discount);\n  if (utils.anyIsError(settlement, maturity, discount)) {\n    return error.value;\n  }\n\n  // Return error if discount is lower than or equal to zero\n  if (discount <= 0) {\n    return error.num;\n  }\n\n  // Return error if settlement is greater than maturity\n  if (settlement > maturity) {\n    return error.num;\n  }\n\n  // Return error if maturity is more than one year after settlement\n  if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\n    return error.num;\n  }\n\n  // Return bond-equivalent yield\n  return (365 * discount) / (360 - discount * dateTime.DAYS360(settlement, maturity, false));\n};\n\nexports.TBILLPRICE = function(settlement, maturity, discount) {\n  settlement = utils.parseDate(settlement);\n  maturity = utils.parseDate(maturity);\n  discount = utils.parseNumber(discount);\n  if (utils.anyIsError(settlement, maturity, discount)) {\n    return error.value;\n  }\n\n  // Return error if discount is lower than or equal to zero\n  if (discount <= 0) {\n    return error.num;\n  }\n\n  // Return error if settlement is greater than maturity\n  if (settlement > maturity) {\n    return error.num;\n  }\n\n  // Return error if maturity is more than one year after settlement\n  if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\n    return error.num;\n  }\n\n  // Return bond-equivalent yield\n  return 100 * (1 - discount * dateTime.DAYS360(settlement, maturity, false) / 360);\n};\n\nexports.TBILLYIELD = function(settlement, maturity, price) {\n  settlement = utils.parseDate(settlement);\n  maturity = utils.parseDate(maturity);\n  price = utils.parseNumber(price);\n  if (utils.anyIsError(settlement, maturity, price)) {\n    return error.value;\n  }\n\n  // Return error if price is lower than or equal to zero\n  if (price <= 0) {\n    return error.num;\n  }\n\n  // Return error if settlement is greater than maturity\n  if (settlement > maturity) {\n    return error.num;\n  }\n\n  // Return error if maturity is more than one year after settlement\n  if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\n    return error.num;\n  }\n\n  // Return bond-equivalent yield\n  return (100 - price) * 360 / (price * dateTime.DAYS360(settlement, maturity, false));\n};\n\n// TODO\nexports.VDB = function() {\n  throw new Error('VDB is not implemented');\n};\n\n// TODO needs better support for date\n// exports.XIRR = function(values, dates, guess) {\n//   // Credits: algorithm inspired by Apache OpenOffice\n//\n//   values = utils.parseNumberArray(utils.flatten(values));\n//   dates = utils.parseDateArray(utils.flatten(dates));\n//   guess = utils.parseNumber(guess);\n//\n//   if (utils.anyIsError(values, dates, guess)) {\n//     return error.value;\n//   }\n//\n//   // Calculates the resulting amount\n//   var irrResult = function(values, dates, rate) {\n//     var r = rate + 1;\n//     var result = values[0];\n//     for (var i = 1; i < values.length; i++) {\n//       result += values[i] / Math.pow(r, dateTime.DAYS(dates[i], dates[0]) / 365);\n//     }\n//     return result;\n//   };\n//\n//   // Calculates the first derivation\n//   var irrResultDeriv = function(values, dates, rate) {\n//     var r = rate + 1;\n//     var result = 0;\n//     for (var i = 1; i < values.length; i++) {\n//       var frac = dateTime.DAYS(dates[i], dates[0]) / 365;\n//       result -= frac * values[i] / Math.pow(r, frac + 1);\n//     }\n//     return result;\n//   };\n//\n//   // Check that values contains at least one positive value and one negative value\n//   var positive = false;\n//   var negative = false;\n//   for (var i = 0; i < values.length; i++) {\n//     if (values[i] > 0) {\n//       positive = true;\n//     }\n//     if (values[i] < 0) {\n//       negative = true;\n//     }\n//   }\n//\n//   // Return error if values does not contain at least one positive value and one negative value\n//   if (!positive || !negative) {\n//     return error.num;\n//   }\n//\n//   // Initialize guess and resultRate\n//   guess = guess || 0.1;\n//   var resultRate = guess;\n//\n//   // Set maximum epsilon for end of iteration\n//   var epsMax = 1e-10;\n//\n//   // Implement Newton's method\n//   var newRate, epsRate, resultValue;\n//   var contLoop = true;\n//   do {\n//     resultValue = irrResult(values, dates, resultRate);\n//     newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);\n//     epsRate = Math.abs(newRate - resultRate);\n//     resultRate = newRate;\n//     contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);\n//   } while (contLoop);\n//\n//   // Return internal rate of return\n//   return resultRate;\n// };\n\nexports.XNPV = function(rate, values, dates) {\n  rate = utils.parseNumber(rate);\n  values = utils.parseNumberArray(utils.flatten(values));\n  dates = utils.parseDateArray(utils.flatten(dates));\n  if (utils.anyIsError(rate, values, dates)) {\n    return error.value;\n  }\n\n  var result = 0;\n  for (var i = 0; i < values.length; i++) {\n    result += values[i] / Math.pow(1 + rate, dateTime.DAYS(dates[i], dates[0]) / 365);\n  }\n  return result;\n};\n\n// TODO\nexports.YIELD = function() {\n  throw new Error('YIELD is not implemented');\n};\n\n// TODO\nexports.YIELDDISC = function() {\n  throw new Error('YIELDDISC is not implemented');\n};\n\n// TODO\nexports.YIELDMAT = function() {\n  throw new Error('YIELDMAT is not implemented');\n};\n","var error = require('./utils/error');\nvar utils = require('./utils/common');\n\nexports.MATCH = function(lookupValue, lookupArray, matchType) {\n  if (!lookupValue && !lookupArray) {\n    return error.na;\n  }\n\n  if (arguments.length === 2) {\n    matchType = 1;\n  }\n  if (!(lookupArray instanceof Array)) {\n    return error.na;\n  }\n\n  if (matchType !== -1 && matchType !== 0 && matchType !== 1) {\n    return error.na;\n  }\n  var index;\n  var indexValue;\n  for (var idx = 0; idx < lookupArray.length; idx++) {\n    if (matchType === 1) {\n      if (lookupArray[idx] === lookupValue) {\n        return idx + 1;\n      } else if (lookupArray[idx] < lookupValue) {\n        if (!indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        } else if (lookupArray[idx] > indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        }\n      }\n    } else if (matchType === 0) {\n      if (typeof lookupValue === 'string') {\n        lookupValue = lookupValue.replace(/\\?/g, '.');\n        if (lookupArray[idx].toLowerCase().match(lookupValue.toLowerCase())) {\n          return idx + 1;\n        }\n      } else {\n        if (lookupArray[idx] === lookupValue) {\n          return idx + 1;\n        }\n      }\n    } else if (matchType === -1) {\n      if (lookupArray[idx] === lookupValue) {\n        return idx + 1;\n      } else if (lookupArray[idx] > lookupValue) {\n        if (!indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        } else if (lookupArray[idx] < indexValue) {\n          index = idx + 1;\n          indexValue = lookupArray[idx];\n        }\n      }\n    }\n  }\n\n  return index ? index : error.na;\n};\n\nexports.VLOOKUP = function (needle, table, index, rangeLookup) {\n  if (!needle || !table || !index) {\n    return error.na;\n  }\n\n  rangeLookup = rangeLookup || false;\n  for (var i = 0; i < table.length; i++) {\n    var row = table[i];\n    if ((!rangeLookup && row[0] === needle) ||\n      ((row[0] === needle) ||\n        (rangeLookup && typeof row[0] === \"string\" && row[0].toLowerCase().indexOf(needle.toLowerCase()) !== -1))) {\n      return (index < (row.length + 1) ? row[index - 1] : error.ref);\n    }\n  }\n\n  return error.na;\n};\n\nexports.HLOOKUP = function (needle, table, index, rangeLookup) {\n  if (!needle || !table || !index) {\n    return error.na;\n  }\n\n  rangeLookup = rangeLookup || false;\n\n  var transposedTable = utils.transpose(table);\n\n  for (var i = 0; i < transposedTable.length; i++) {\n    var row = transposedTable[i];\n    if ((!rangeLookup && row[0] === needle) ||\n      ((row[0] === needle) ||\n        (rangeLookup && typeof row[0] === \"string\" && row[0].toLowerCase().indexOf(needle.toLowerCase()) !== -1))) {\n      return (index < (row.length + 1) ? row[index - 1] : error.ref);\n    }\n  }\n\n  return error.na;\n};\n","/* global document */\n/* global window */\nclass Element {\n  constructor(tag, className = \"\") {\n    if (typeof tag === \"string\") {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.data = {};\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.data[key] = value;\n      return this;\n    }\n    return this.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split(\".\");\n    let eventName = fen;\n    if (\n      eventName === \"mousewheel\" &&\n      /Firefox/i.test(window.navigator.userAgent)\n    ) {\n      eventName = \"DOMMouseScroll\";\n    }\n    this.el.addEventListener(eventName, (evt) => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === \"left\" && evt.button !== 0) {\n          return;\n        }\n        if (k === \"right\" && evt.button !== 2) {\n          return;\n        }\n        if (k === \"stop\") {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach((k) => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const { offsetTop, offsetLeft, offsetHeight, offsetWidth } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth,\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...eles) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    eles.forEach((ele) => this.child(ele));\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el);\n  }\n\n  /*\n  first() {\n    return this.el.firstChild;\n  }\n\n  last() {\n    return this.el.lastChild;\n  }\n\n  remove(ele) {\n    return this.el.removeChild(ele);\n  }\n\n  prepend(ele) {\n    const { el } = this;\n    if (el.children.length > 0) {\n      el.insertBefore(ele, el.firstChild);\n    } else {\n      el.appendChild(ele);\n    }\n    return this;\n  }\n\n  prev() {\n    return this.el.previousSibling;\n  }\n\n  next() {\n    return this.el.nextSibling;\n  }\n  */\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === \"string\") {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = \"active\") {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = \"active\") {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, \"checked\");\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass(\"disabled\");\n    else this.removeClass(\"disabled\");\n    return this;\n  }\n\n  // key, value\n  // key\n  // {k, v}...\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === \"string\") {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach((k) => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  focus() {\n    this.el.focus();\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach((k) => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  // css( propertyName )\n  // css( propertyName, value )\n  // css( properties )\n  css(name, value) {\n    if (value === undefined && typeof name !== \"string\") {\n      Object.keys(name).forEach((k) => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    this.css(\"display\", \"block\");\n    return this;\n  }\n\n  hide() {\n    this.css(\"display\", \"none\");\n    return this;\n  }\n}\n\nconst h = (tag, className = \"\") => new Element(tag, className);\n\nexport { Element, h };\n","import \"./_.prototypes\";\n\nconst alphabets = [\n  \"A\",\n  \"B\",\n  \"C\",\n  \"D\",\n  \"E\",\n  \"F\",\n  \"G\",\n  \"H\",\n  \"I\",\n  \"J\",\n  \"K\",\n  \"L\",\n  \"M\",\n  \"N\",\n  \"O\",\n  \"P\",\n  \"Q\",\n  \"R\",\n  \"S\",\n  \"T\",\n  \"U\",\n  \"V\",\n  \"W\",\n  \"X\",\n  \"Y\",\n  \"Z\",\n];\n\n/** index number 2 letters\n * @example stringAt(26) ==> 'AA'\n * @date 2019-10-10\n * @export\n * @param {number} index\n * @returns {string}\n */\nexport function stringAt(index) {\n  let str = \"\";\n  let cindex = index;\n  while (cindex >= alphabets.length) {\n    cindex /= alphabets.length;\n    cindex -= 1;\n    str += alphabets[parseInt(cindex, 10) % alphabets.length];\n  }\n  const last = index % alphabets.length;\n  str += alphabets[last];\n  return str;\n}\n\n/** translate letter in A1-tag to number\n * @date 2019-10-10\n * @export\n * @param {string} str \"AA\" in A1-tag \"AA1\"\n * @returns {number}\n */\nexport function indexAt(str) {\n  let ret = 0;\n  for (let i = 0; i !== str.length; ++i)\n    ret = 26 * ret + str.charCodeAt(i) - 64;\n  return ret - 1;\n}\n\n// B10 => x,y\n/** translate A1-tag to XY-tag\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @returns {tagXY}\n */\nexport function expr2xy(src) {\n  let x = \"\";\n  let y = \"\";\n  for (let i = 0; i < src.length; i += 1) {\n    if (src.charAt(i) >= \"0\" && src.charAt(i) <= \"9\") {\n      y += src.charAt(i);\n    } else {\n      x += src.charAt(i);\n    }\n  }\n  return [indexAt(x), parseInt(y, 10) - 1];\n}\n\n/** translate XY-tag to A1-tag\n * @example x,y => B10\n * @date 2019-10-10\n * @export\n * @param {number} x\n * @param {number} y\n * @returns {tagA1}\n */\nexport function xy2expr(x, y) {\n  return `${stringAt(x)}${y + 1}`;\n}\n\n/** translate A1-tag src by (xn, yn)\n * @date 2019-10-10\n * @export\n * @param {tagA1} src\n * @param {number} xn\n * @param {number} yn\n * @returns {tagA1}\n */\nexport function expr2expr(src, xn, yn, condition = () => true) {\n  if (xn === 0 && yn === 0) return src;\n  const [x, y] = expr2xy(src);\n  if (!condition(x, y)) return src;\n  return xy2expr(x + xn, y + yn);\n}\n\nexport default {\n  stringAt,\n  indexAt,\n  expr2xy,\n  xy2expr,\n  expr2expr,\n};\n","import { xy2expr, expr2xy } from \"./alphabet\";\n\nclass CellRange {\n  constructor(sri, sci, eri, eci, w = 0, h = 0) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n    this.w = w;\n    this.h = h;\n  }\n\n  set(sri, sci, eri, eci) {\n    this.sri = sri;\n    this.sci = sci;\n    this.eri = eri;\n    this.eci = eci;\n  }\n\n  multiple() {\n    return this.eri - this.sri > 0 || this.eci - this.sci > 0;\n  }\n\n  // cell-index: ri, ci\n  // cell-ref: A10\n  includes(...args) {\n    let [ri, ci] = [0, 0];\n    if (args.length === 1) {\n      [ci, ri] = expr2xy(args[0]);\n    } else if (args.length === 2) {\n      [ri, ci] = args;\n    }\n    const { sri, sci, eri, eci } = this;\n    return sri <= ri && ri <= eri && sci <= ci && ci <= eci;\n  }\n\n  each(cb, rowFilter = () => true) {\n    const { sri, sci, eri, eci } = this;\n    for (let i = sri; i <= eri; i += 1) {\n      if (rowFilter(i)) {\n        for (let j = sci; j <= eci; j += 1) {\n          cb(i, j);\n        }\n      }\n    }\n  }\n\n  contains(other) {\n    return (\n      this.sri <= other.sri &&\n      this.sci <= other.sci &&\n      this.eri >= other.eri &&\n      this.eci >= other.eci\n    );\n  }\n\n  // within\n  within(other) {\n    return (\n      this.sri >= other.sri &&\n      this.sci >= other.sci &&\n      this.eri <= other.eri &&\n      this.eci <= other.eci\n    );\n  }\n\n  // disjoint\n  disjoint(other) {\n    return (\n      this.sri > other.eri ||\n      this.sci > other.eci ||\n      other.sri > this.eri ||\n      other.sci > this.eci\n    );\n  }\n\n  // intersects\n  intersects(other) {\n    return (\n      this.sri <= other.eri &&\n      this.sci <= other.eci &&\n      other.sri <= this.eri &&\n      other.sci <= this.eci\n    );\n  }\n\n  // union\n  union(other) {\n    const { sri, sci, eri, eci } = this;\n    return new CellRange(\n      other.sri < sri ? other.sri : sri,\n      other.sci < sci ? other.sci : sci,\n      other.eri > eri ? other.eri : eri,\n      other.eci > eci ? other.eci : eci,\n    );\n  }\n\n  // intersection\n  // intersection(other) {}\n\n  // Returns Array<CellRange> that represents that part of this that does not intersect with other\n  // difference\n  difference(other) {\n    const ret = [];\n    const addRet = (sri, sci, eri, eci) => {\n      ret.push(new CellRange(sri, sci, eri, eci));\n    };\n    const { sri, sci, eri, eci } = this;\n    const dsr = other.sri - sri;\n    const dsc = other.sci - sci;\n    const der = eri - other.eri;\n    const dec = eci - other.eci;\n    if (dsr > 0) {\n      addRet(sri, sci, other.sri - 1, eci);\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, eci);\n        if (dsc > 0) {\n          addRet(other.sri, sci, other.eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, other.eri, eci);\n        }\n      } else {\n        if (dsc > 0) {\n          addRet(other.sri, sci, eri, other.sci - 1);\n        }\n        if (dec > 0) {\n          addRet(other.sri, other.eci + 1, eri, eci);\n        }\n      }\n    } else if (der > 0) {\n      addRet(other.eri + 1, sci, eri, eci);\n      if (dsc > 0) {\n        addRet(sri, sci, other.eri, other.sci - 1);\n      }\n      if (dec > 0) {\n        addRet(sri, other.eci + 1, other.eri, eci);\n      }\n    }\n    if (dsc > 0) {\n      addRet(sri, sci, eri, other.sci - 1);\n      if (dec > 0) {\n        addRet(sri, other.eri + 1, eri, eci);\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, other.eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, other.eci);\n        }\n      } else {\n        if (dsr > 0) {\n          addRet(sri, other.sci, other.sri - 1, eci);\n        }\n        if (der > 0) {\n          addRet(other.sri + 1, other.sci, eri, eci);\n        }\n      }\n    } else if (dec > 0) {\n      addRet(eri, other.eci + 1, eri, eci);\n      if (dsr > 0) {\n        addRet(sri, sci, other.sri - 1, other.eci);\n      }\n      if (der > 0) {\n        addRet(other.eri + 1, sci, eri, other.eci);\n      }\n    }\n    return ret;\n  }\n\n  size() {\n    return [this.eri - this.sri + 1, this.eci - this.sci + 1];\n  }\n\n  toString() {\n    const { sri, sci, eri, eci } = this;\n    let ref = xy2expr(sci, sri);\n    if (this.multiple()) {\n      ref = `${ref}:${xy2expr(eci, eri)}`;\n    }\n    return ref;\n  }\n\n  clone() {\n    const { sri, sci, eri, eci, w, h } = this;\n    return new CellRange(sri, sci, eri, eci, w, h);\n  }\n\n  /*\n  toJSON() {\n    return this.toString();\n  }\n  */\n\n  equals(other) {\n    return (\n      this.eri === other.eri &&\n      this.eci === other.eci &&\n      this.sri === other.sri &&\n      this.sci === other.sci\n    );\n  }\n\n  static valueOf(ref) {\n    // B1:B8, B1 => 1 x 1 cell range\n    const refs = ref.split(\":\");\n    const [sci, sri] = expr2xy(refs[0]);\n    let [eri, eci] = [sri, sci];\n    if (refs.length > 1) {\n      [eci, eri] = expr2xy(refs[1]);\n    }\n    return new CellRange(sri, sci, eri, eci);\n  }\n}\n\nexport default CellRange;\n\nexport { CellRange };\n","import { CellRange } from \"./cell_range\";\n\nexport default class Selector {\n  constructor() {\n    this.range = new CellRange(0, 0, 0, 0);\n    this.ri = 0;\n    this.ci = 0;\n  }\n\n  multiple() {\n    return this.range.multiple();\n  }\n\n  setIndexes(ri, ci) {\n    this.ri = ri;\n    this.ci = ci;\n  }\n\n  size() {\n    return this.range.size();\n  }\n}\n","export default class Scroll {\n  constructor() {\n    this.x = 0; // left\n    this.y = 0; // top\n    this.ri = 0; // cell row-index\n    this.ci = 0; // cell col-index\n  }\n}\n","// import helper from '../helper';\n\nexport default class History {\n  constructor() {\n    this.undoItems = [];\n    this.redoItems = [];\n  }\n\n  add(data) {\n    this.undoItems.push(JSON.stringify(data));\n    this.redoItems = [];\n  }\n\n  canUndo() {\n    return this.undoItems.length > 0;\n  }\n\n  canRedo() {\n    return this.redoItems.length > 0;\n  }\n\n  undo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canUndo()) {\n      redoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(undoItems.pop()));\n    }\n  }\n\n  redo(currentd, cb) {\n    const { undoItems, redoItems } = this;\n    if (this.canRedo()) {\n      undoItems.push(JSON.stringify(currentd));\n      cb(JSON.parse(redoItems.pop()));\n    }\n  }\n}\n","export default class Clipboard {\n  constructor() {\n    this.range = null; // CellRange\n    this.state = \"clear\";\n  }\n\n  copy(cellRange) {\n    this.range = cellRange;\n    this.state = \"copy\";\n    return this;\n  }\n\n  cut(cellRange) {\n    this.range = cellRange;\n    this.state = \"cut\";\n    return this;\n  }\n\n  isCopy() {\n    return this.state === \"copy\";\n  }\n\n  isCut() {\n    return this.state === \"cut\";\n  }\n\n  isClear() {\n    return this.state === \"clear\";\n  }\n\n  clear() {\n    this.range = null;\n    this.state = \"clear\";\n  }\n}\n","import { CellRange } from \"./cell_range\";\n// operator: all|eq|neq|gt|gte|lt|lte|in|be\n// value:\n//   in => []\n//   be => [min, max]\nclass Filter {\n  constructor(ci, operator, value) {\n    this.ci = ci;\n    this.operator = operator;\n    this.value = value;\n  }\n\n  set(operator, value) {\n    this.operator = operator;\n    this.value = value;\n  }\n\n  includes(v) {\n    const { operator, value } = this;\n    if (operator === \"all\") {\n      return true;\n    }\n    if (operator === \"in\") {\n      return value.includes(v);\n    }\n    return false;\n  }\n\n  vlength() {\n    const { operator, value } = this;\n    if (operator === \"in\") {\n      return value.length;\n    }\n    return 0;\n  }\n\n  getData() {\n    const { ci, operator, value } = this;\n    return { ci, operator, value };\n  }\n}\n\nclass Sort {\n  constructor(ci, order) {\n    this.ci = ci;\n    this.order = order;\n  }\n\n  asc() {\n    return this.order === \"asc\";\n  }\n\n  desc() {\n    return this.order === \"desc\";\n  }\n}\n\nexport default class AutoFilter {\n  constructor() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  setData({ ref, filters, sort }) {\n    if (ref != null) {\n      this.ref = ref;\n      this.filters = filters.map(\n        (it) => new Filter(it.ci, it.operator, it.value),\n      );\n      if (sort) {\n        this.sort = new Sort(sort.ci, sort.order);\n      }\n    }\n  }\n\n  getData() {\n    if (this.active()) {\n      const { ref, filters, sort } = this;\n      return { ref, filters: filters.map((it) => it.getData()), sort };\n    }\n    return {};\n  }\n\n  addFilter(ci, operator, value) {\n    const filter = this.getFilter(ci);\n    if (filter == null) {\n      this.filters.push(new Filter(ci, operator, value));\n    } else {\n      filter.set(operator, value);\n    }\n  }\n\n  setSort(ci, order) {\n    this.sort = order ? new Sort(ci, order) : null;\n  }\n\n  includes(ri, ci) {\n    if (this.active()) {\n      return this.hrange().includes(ri, ci);\n    }\n    return false;\n  }\n\n  getSort(ci) {\n    const { sort } = this;\n    if (sort && sort.ci === ci) {\n      return sort;\n    }\n    return null;\n  }\n\n  getFilter(ci) {\n    const { filters } = this;\n    for (let i = 0; i < filters.length; i += 1) {\n      if (filters[i].ci === ci) {\n        return filters[i];\n      }\n    }\n    return null;\n  }\n\n  filteredRows(getCell) {\n    // const ary = [];\n    // let lastri = 0;\n    const rset = new Set();\n    const fset = new Set();\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      const { filters } = this;\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        for (let i = 0; i < filters.length; i += 1) {\n          const filter = filters[i];\n          const cell = getCell(ri, filter.ci);\n          const ctext = cell ? cell.text : \"\";\n          if (!filter.includes(ctext)) {\n            rset.add(ri);\n            break;\n          } else {\n            fset.add(ri);\n          }\n        }\n      }\n    }\n    return { rset, fset };\n  }\n\n  items(ci, getCell) {\n    const m = {};\n    if (this.active()) {\n      const { sri, eri } = this.range();\n      for (let ri = sri + 1; ri <= eri; ri += 1) {\n        const cell = getCell(ri, ci);\n        if (cell !== null && !/^\\s*$/.test(cell.text)) {\n          const key = cell.text;\n          const cnt = (m[key] || 0) + 1;\n          m[key] = cnt;\n        } else {\n          m[\"\"] = (m[\"\"] || 0) + 1;\n        }\n      }\n    }\n    return m;\n  }\n\n  range() {\n    return CellRange.valueOf(this.ref);\n  }\n\n  hrange() {\n    const r = this.range();\n    r.eri = r.sri;\n    return r;\n  }\n\n  clear() {\n    this.ref = null;\n    this.filters = [];\n    this.sort = null;\n  }\n\n  active() {\n    return this.ref !== null;\n  }\n}\n","import { CellRange } from \"./cell_range\";\n\nclass Merges {\n  constructor(d = []) {\n    this._ = d;\n  }\n\n  forEach(cb) {\n    this._.forEach(cb);\n  }\n\n  deleteWithin(cr) {\n    this._ = this._.filter((it) => !it.within(cr));\n  }\n\n  getFirstIncludes(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.includes(ri, ci)) {\n        return it;\n      }\n    }\n    return null;\n  }\n\n  filterIntersects(cellRange) {\n    return new Merges(this._.filter((it) => it.intersects(cellRange)));\n  }\n\n  intersects(cellRange) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const it = this._[i];\n      if (it.intersects(cellRange)) {\n        // console.log('intersects');\n        return true;\n      }\n    }\n    return false;\n  }\n\n  union(cellRange) {\n    let cr = cellRange;\n    this._.forEach((it) => {\n      if (it.intersects(cr)) {\n        cr = it.union(cr);\n      }\n    });\n    return cr;\n  }\n\n  add(cr) {\n    this.deleteWithin(cr);\n    this._.push(cr);\n  }\n\n  // type: row | column\n  shift(type, index, n, cbWithin) {\n    this._.forEach((cellRange) => {\n      const { sri, sci, eri, eci } = cellRange;\n      const range = cellRange;\n      if (type === \"row\") {\n        if (sri >= index) {\n          range.sri += n;\n          range.eri += n;\n        } else if (sri < index && index <= eri) {\n          range.eri += n;\n          cbWithin(sri, sci, n, 0);\n        }\n      } else if (type === \"column\") {\n        if (sci >= index) {\n          range.sci += n;\n          range.eci += n;\n        } else if (sci < index && index <= eci) {\n          range.eci += n;\n          cbWithin(sri, sci, 0, n);\n        }\n      }\n    });\n  }\n\n  move(cellRange, rn, cn) {\n    this._.forEach((it1) => {\n      const it = it1;\n      if (it.within(cellRange)) {\n        it.eri += rn;\n        it.sri += rn;\n        it.sci += cn;\n        it.eci += cn;\n      }\n    });\n  }\n\n  setData(merges) {\n    this._ = merges.map((merge) => CellRange.valueOf(merge));\n    return this;\n  }\n\n  getData() {\n    return this._.map((merge) => merge.toString());\n  }\n}\n\nexport default {};\nexport { Merges };\n","/* eslint-disable no-param-reassign */\nfunction cloneDeep(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nconst mergeDeep = (object = {}, ...sources) => {\n  sources.forEach((source) => {\n    Object.keys(source).forEach((key) => {\n      const v = source[key];\n      // console.log('k:', key, ', v:', source[key], typeof v, v instanceof Object);\n      if (\n        typeof v === \"string\" ||\n        typeof v === \"number\" ||\n        typeof v === \"boolean\"\n      ) {\n        object[key] = v;\n      } else if (\n        typeof v !== \"function\" &&\n        !Array.isArray(v) &&\n        v instanceof Object\n      ) {\n        object[key] = object[key] || {};\n        mergeDeep(object[key], v);\n      } else {\n        object[key] = v;\n      }\n    });\n  });\n  // console.log('::', object);\n  return object;\n};\n\nfunction equals(obj1, obj2) {\n  const keys = Object.keys(obj1);\n  if (keys.length !== Object.keys(obj2).length) return false;\n  for (let i = 0; i < keys.length; i += 1) {\n    const k = keys[i];\n    const v1 = obj1[k];\n    const v2 = obj2[k];\n    if (v2 === undefined) return false;\n    if (\n      typeof v1 === \"string\" ||\n      typeof v1 === \"number\" ||\n      typeof v1 === \"boolean\"\n    ) {\n      if (v1 !== v2) return false;\n    } else if (Array.isArray(v1)) {\n      if (v1.length !== v2.length) return false;\n      for (let ai = 0; ai < v1.length; ai += 1) {\n        if (!equals(v1[ai], v2[ai])) return false;\n      }\n    } else if (\n      typeof v1 !== \"function\" &&\n      !Array.isArray(v1) &&\n      v1 instanceof Object\n    ) {\n      if (!equals(v1, v2)) return false;\n    }\n  }\n  return true;\n}\n\n/*\n  objOrAry: obejct or Array\n  cb: (value, index | key) => { return value }\n*/\nconst sum = (objOrAry, cb = (value) => value) => {\n  let total = 0;\n  let size = 0;\n  Object.keys(objOrAry).forEach((key) => {\n    total += cb(objOrAry[key], key);\n    size += 1;\n  });\n  return [total, size];\n};\n\nfunction deleteProperty(obj, property) {\n  const oldv = obj[`${property}`];\n  delete obj[`${property}`];\n  return oldv;\n}\n\nfunction rangeReduceIf(min, max, inits, initv, ifv, getv) {\n  let s = inits;\n  let v = initv;\n  let i = min;\n  for (; i < max; i += 1) {\n    if (s > ifv) break;\n    v = getv(i);\n    s += v;\n  }\n  return [i, s - v, v];\n}\n\nfunction rangeSum(min, max, getv) {\n  let s = 0;\n  for (let i = min; i < max; i += 1) {\n    s += getv(i);\n  }\n  return s;\n}\n\nfunction rangeEach(min, max, cb) {\n  for (let i = min; i < max; i += 1) {\n    cb(i);\n  }\n}\n\nfunction arrayEquals(a1, a2) {\n  if (a1.length === a2.length) {\n    for (let i = 0; i < a1.length; i += 1) {\n      if (a1[i] !== a2[i]) return false;\n    }\n  } else return false;\n  return true;\n}\n\nfunction digits(a) {\n  const v = `${a}`;\n  let ret = 0;\n  let flag = false;\n  for (let i = 0; i < v.length; i += 1) {\n    if (flag === true) ret += 1;\n    if (v.charAt(i) === \".\") flag = true;\n  }\n  return ret;\n}\n\nexport function numberCalc(type, a1, a2) {\n  if (Number.isNaN(a1) || Number.isNaN(a2)) {\n    return a1 + type + a2;\n  }\n  const al1 = digits(a1);\n  const al2 = digits(a2);\n  const num1 = Number(a1);\n  const num2 = Number(a2);\n  let ret = 0;\n  if (type === \"-\") {\n    ret = num1 - num2;\n  } else if (type === \"+\") {\n    ret = num1 + num2;\n  } else if (type === \"*\") {\n    ret = num1 * num2;\n  } else if (type === \"/\") {\n    ret = num1 / num2;\n    if (digits(ret) > 5) return ret.toFixed(2);\n    return ret;\n  } else if (type === \"^\") {\n    return Math.pow(num1, num2);\n  }\n  return ret.toFixed(Math.max(al1, al2));\n}\n\nexport default {\n  cloneDeep,\n  merge: (...sources) => mergeDeep({}, ...sources),\n  equals,\n  arrayEquals,\n  sum,\n  rangeEach,\n  rangeSum,\n  rangeReduceIf,\n  deleteProperty,\n  numberCalc,\n};\n","import helper from \"./helper\";\nimport { expr2expr } from \"./alphabet\";\n\nclass Rows {\n  constructor({ len, height }, options = {}) {\n    this.options = options;\n    this._ = {};\n    this.len = len;\n    // default row height\n    this.height = height;\n  }\n\n  getHeight(ri) {\n    if (this.isHide(ri)) return 0;\n    const row = this.get(ri);\n    if (row && row.height) {\n      return row.height;\n    }\n    return this.height;\n  }\n\n  setHeight(ri, v) {\n    const row = this.getOrNew(ri);\n    row.height = v;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ri) {\n    const row = this.get(ri);\n    return row && row.hide;\n  }\n\n  setHide(ri, v) {\n    const row = this.getOrNew(ri);\n    if (v === true) row.hide = true;\n    else delete row.hide;\n  }\n\n  setStyle(ri, style) {\n    const row = this.getOrNew(ri);\n    row.style = style;\n  }\n\n  sumHeight(min, max, exceptSet) {\n    return helper.rangeSum(min, max, (i) => {\n      if (exceptSet && exceptSet.has(i)) return 0;\n      return this.getHeight(i);\n    });\n  }\n\n  totalHeight() {\n    return this.sumHeight(0, this.len);\n  }\n\n  get(ri) {\n    return this._[ri];\n  }\n\n  getOrNew(ri) {\n    this._[ri] = this._[ri] || { cells: {} };\n    return this._[ri];\n  }\n\n  getCell(ri, ci) {\n    const row = this.get(ri);\n    if (\n      row !== undefined &&\n      row.cells !== undefined &&\n      row.cells[ci] !== undefined\n    ) {\n      return row.cells[ci];\n    }\n    return null;\n  }\n\n  getCellMerge(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.merge) return cell.merge;\n    return [0, 0];\n  }\n\n  getCellOrNew(ri, ci) {\n    const row = this.getOrNew(ri);\n    row.cells[ci] = row.cells[ci] || {};\n    return row.cells[ci];\n  }\n\n  // what: all | text | format\n  setCell(ri, ci, cell, what = \"all\") {\n    const row = this.getOrNew(ri);\n    if (what === \"all\") {\n      row.cells[ci] = cell;\n    } else if (what === \"text\") {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].text = cell.text;\n    } else if (what === \"format\") {\n      row.cells[ci] = row.cells[ci] || {};\n      row.cells[ci].style = cell.style;\n      if (cell.merge) row.cells[ci].merge = cell.merge;\n    }\n  }\n\n  setCellText(ri, ci, text) {\n    const cell = this.getCellOrNew(ri, ci);\n    if (cell.editable !== false) {\n      const valueSetter = this.options.valueSetter;\n      if (valueSetter) {\n        const result = valueSetter({ ...this, text, cell });\n        let retrievedText, formattedText;\n        if (result && typeof result === \"object\" && !Array.isArray(result)) {\n          ({ retrievedText, formattedText } = result);\n        } else if (Array.isArray(result)) {\n          [retrievedText, formattedText] = result;\n        } else {\n          retrievedText = result;\n          formattedText = \"\";\n        }\n        console.log(retrievedText, formattedText, \"console\");\n        cell.text = retrievedText ?? \"\";\n        cell.formattedText = formattedText ?? \"\";\n      } else {\n        cell.text = text;\n      }\n    }\n  }\n\n  // what: all | format | text\n  copyPaste(srcCellRange, dstCellRange, what, autofill = false, cb = () => {}) {\n    const { sri, sci, eri, eci } = srcCellRange;\n    const dsri = dstCellRange.sri;\n    const dsci = dstCellRange.sci;\n    const deri = dstCellRange.eri;\n    const deci = dstCellRange.eci;\n    const [rn, cn] = srcCellRange.size();\n    const [drn, dcn] = dstCellRange.size();\n    // console.log(srcIndexes, dstIndexes);\n    let isAdd = true;\n    let dn = 0;\n    if (deri < sri || deci < sci) {\n      isAdd = false;\n      if (deri < sri) dn = drn;\n      else dn = dcn;\n    }\n    for (let i = sri; i <= eri; i += 1) {\n      if (this._[i]) {\n        for (let j = sci; j <= eci; j += 1) {\n          if (this._[i].cells && this._[i].cells[j]) {\n            for (let ii = dsri; ii <= deri; ii += rn) {\n              for (let jj = dsci; jj <= deci; jj += cn) {\n                const nri = ii + (i - sri);\n                const nci = jj + (j - sci);\n                const ncell = helper.cloneDeep(this._[i].cells[j]);\n                // ncell.text\n                if (autofill && ncell && ncell.text && ncell.text.length > 0) {\n                  const { text } = ncell;\n                  let n = jj - dsci + (ii - dsri) + 2;\n                  if (!isAdd) {\n                    n -= dn + 1;\n                  }\n                  if (text[0] === \"=\") {\n                    ncell.text = text.replace(/[a-zA-Z]{1,3}\\d+/g, (word) => {\n                      let [xn, yn] = [0, 0];\n                      if (sri === dsri) {\n                        xn = n - 1;\n                        // if (isAdd) xn -= 1;\n                      } else {\n                        yn = n - 1;\n                      }\n                      if (/^\\d+$/.test(word)) return word;\n                      return expr2expr(word, xn, yn);\n                    });\n                  } else if (\n                    (rn <= 1 && cn > 1 && (dsri > eri || deri < sri)) ||\n                    (cn <= 1 && rn > 1 && (dsci > eci || deci < sci)) ||\n                    (rn <= 1 && cn <= 1)\n                  ) {\n                    const result = /[\\\\.\\d]+$/.exec(text);\n                    // console.log('result:', result);\n                    if (result !== null) {\n                      const index = Number(result[0]) + n - 1;\n                      ncell.text = text.substring(0, result.index) + index;\n                    }\n                  }\n                }\n                this.setCell(nri, nci, ncell, what);\n                cb(nri, nci, ncell);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  cutPaste(srcCellRange, dstCellRange) {\n    const ncellmm = {};\n    this.each((ri) => {\n      this.eachCells(ri, (ci) => {\n        let nri = parseInt(ri, 10);\n        let nci = parseInt(ci, 10);\n        if (srcCellRange.includes(ri, ci)) {\n          nri = dstCellRange.sri + (nri - srcCellRange.sri);\n          nci = dstCellRange.sci + (nci - srcCellRange.sci);\n        }\n        ncellmm[nri] = ncellmm[nri] || { cells: {} };\n        ncellmm[nri].cells[nci] = this._[ri].cells[ci];\n      });\n    });\n    this._ = ncellmm;\n  }\n\n  // src: Array<Array<String>>\n  paste(src, dstCellRange) {\n    if (src.length <= 0) return;\n    const { sri, sci } = dstCellRange;\n    src.forEach((row, i) => {\n      const ri = sri + i;\n      row.forEach((cell, j) => {\n        const ci = sci + j;\n        this.setCellText(ri, ci, cell);\n      });\n    });\n  }\n\n  insert(sri, n = 1) {\n    const ndata = {};\n    this.each((ri, row) => {\n      let nri = parseInt(ri, 10);\n      if (nri >= sri) {\n        nri += n;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === \"=\") {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, (word) =>\n              expr2expr(word, 0, n, (x, y) => y >= sri),\n            );\n          }\n        });\n      }\n      ndata[nri] = row;\n    });\n    this._ = ndata;\n    this.len += n;\n  }\n\n  delete(sri, eri) {\n    const n = eri - sri + 1;\n    const ndata = {};\n    this.each((ri, row) => {\n      const nri = parseInt(ri, 10);\n      if (nri < sri) {\n        ndata[nri] = row;\n      } else if (ri > eri) {\n        ndata[nri - n] = row;\n        this.eachCells(ri, (ci, cell) => {\n          if (cell.text && cell.text[0] === \"=\") {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, (word) =>\n              expr2expr(word, 0, -n, (x, y) => y > eri),\n            );\n          }\n        });\n      }\n    });\n    this._ = ndata;\n    this.len -= n;\n  }\n\n  insertColumn(sci, n = 1) {\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        let nci = parseInt(ci, 10);\n        if (nci >= sci) {\n          nci += n;\n          if (cell.text && cell.text[0] === \"=\") {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, (word) =>\n              expr2expr(word, n, 0, (x) => x >= sci),\n            );\n          }\n        }\n        rndata[nci] = cell;\n      });\n      row.cells = rndata;\n    });\n  }\n\n  deleteColumn(sci, eci) {\n    const n = eci - sci + 1;\n    this.each((ri, row) => {\n      const rndata = {};\n      this.eachCells(ri, (ci, cell) => {\n        const nci = parseInt(ci, 10);\n        if (nci < sci) {\n          rndata[nci] = cell;\n        } else if (nci > eci) {\n          rndata[nci - n] = cell;\n          if (cell.text && cell.text[0] === \"=\") {\n            cell.text = cell.text.replace(/[a-zA-Z]{1,3}\\d+/g, (word) =>\n              expr2expr(word, -n, 0, (x) => x > eci),\n            );\n          }\n        }\n      });\n      row.cells = rndata;\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCells(cellRange, what = \"all\") {\n    cellRange.each((i, j) => {\n      this.deleteCell(i, j, what);\n    });\n  }\n\n  // what: all | text | format | merge\n  deleteCell(ri, ci, what = \"all\") {\n    const row = this.get(ri);\n    if (row !== null) {\n      const cell = this.getCell(ri, ci);\n      if (cell !== null && cell.editable !== false) {\n        if (what === \"all\") {\n          delete row.cells[ci];\n        } else if (what === \"text\") {\n          if (cell.text) delete cell.text;\n          if (cell.value) delete cell.value;\n        } else if (what === \"format\") {\n          if (cell.style !== undefined) delete cell.style;\n          if (cell.merge) delete cell.merge;\n        } else if (what === \"merge\") {\n          if (cell.merge) delete cell.merge;\n        }\n      }\n    }\n  }\n\n  maxCell() {\n    const keys = Object.keys(this._);\n    const ri = keys[keys.length - 1];\n    const col = this._[ri];\n    if (col) {\n      const { cells } = col;\n      const ks = Object.keys(cells);\n      const ci = ks[ks.length - 1];\n      return [parseInt(ri, 10), parseInt(ci, 10)];\n    }\n    return [0, 0];\n  }\n\n  each(cb) {\n    Object.entries(this._).forEach(([ri, row]) => {\n      cb(ri, row);\n    });\n  }\n\n  eachCells(ri, cb) {\n    if (this._[ri] && this._[ri].cells) {\n      Object.entries(this._[ri].cells).forEach(([ci, cell]) => {\n        cb(ci, cell);\n      });\n    }\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n}\n\nexport default {};\nexport { Rows };\n","import helper from \"./helper\";\n\nclass Cols {\n  constructor({ len, width, indexWidth, minWidth }) {\n    this._ = {};\n    this.len = len;\n    this.width = width;\n    this.indexWidth = indexWidth;\n    this.minWidth = minWidth;\n  }\n\n  setData(d) {\n    if (d.len) {\n      this.len = d.len;\n      delete d.len;\n    }\n    this._ = d;\n  }\n\n  getData() {\n    const { len } = this;\n    return Object.assign({ len }, this._);\n  }\n\n  getWidth(i) {\n    if (this.isHide(i)) return 0;\n    const col = this._[i];\n    if (col && col.width) {\n      return col.width;\n    }\n    return this.width;\n  }\n\n  getOrNew(ci) {\n    this._[ci] = this._[ci] || {};\n    return this._[ci];\n  }\n\n  setWidth(ci, width) {\n    const col = this.getOrNew(ci);\n    col.width = width;\n  }\n\n  unhide(idx) {\n    let index = idx;\n    while (index > 0) {\n      index -= 1;\n      if (this.isHide(index)) {\n        this.setHide(index, false);\n      } else break;\n    }\n  }\n\n  isHide(ci) {\n    const col = this._[ci];\n    return col && col.hide;\n  }\n\n  setHide(ci, v) {\n    const col = this.getOrNew(ci);\n    if (v === true) col.hide = true;\n    else delete col.hide;\n  }\n\n  setStyle(ci, style) {\n    const col = this.getOrNew(ci);\n    col.style = style;\n  }\n\n  sumWidth(min, max) {\n    return helper.rangeSum(min, max, (i) => this.getWidth(i));\n  }\n\n  totalWidth() {\n    return this.sumWidth(0, this.len);\n  }\n}\n\nexport default {};\nexport { Cols };\n","/* global window */\nimport en from \"./en\";\n\n// Defines the fallback language as English\nlet $languages = [\"en\"];\nconst $messages = {\n  en,\n};\n\nfunction translate(key, messages) {\n  if (messages) {\n    // Return the translation from the first language in the languages array\n    // that has a value for the provided key.\n    for (const lang of $languages) {\n      if (!messages[lang]) break;\n\n      let message = messages[lang];\n\n      // Splits the key at '.' except where escaped as '\\.'\n      const keys = key.match(/(?:\\\\.|[^.])+/g);\n\n      for (let i = 0; i < keys.length; i += 1) {\n        const property = keys[i];\n        const value = message[property];\n\n        // If value doesn't exist, try next language\n        if (!value) break;\n\n        if (i === keys.length - 1) return value;\n\n        // Move down to the next level of the messages object\n        message = value;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction t(key) {\n  let v = translate(key, $messages);\n  if (!v && window && window.x_spreadsheet && window.x_spreadsheet.$messages) {\n    v = translate(key, window.x_spreadsheet.$messages);\n  }\n  return v || \"\";\n}\n\nfunction tf(key) {\n  return () => t(key);\n}\n\n// If clearLangList is set to false, lang will be added to the front of the\n// languages array. The languages in the language array are searched in order\n// to find a translation. This allows the use of other languages as a fallback\n// if lang is missing some keys. The language array is preloaded with English.\n// To set the languages array to only include lang, set clearLangList to true.\nfunction locale(lang, message, clearLangList = false) {\n  if (clearLangList) {\n    $languages = [lang];\n  } else {\n    // Append to front of array.\n    // Translation method will use the first language in the list that has a\n    // matching key.\n    $languages.unshift(lang);\n  }\n\n  if (message) {\n    $messages[lang] = message;\n  }\n}\n\nexport default {\n  t,\n};\n\nexport { locale, t, tf };\n","export default {\n  toolbar: {\n    undo: \"Undo\",\n    redo: \"Redo\",\n    print: \"Print\",\n    paintformat: \"Paint format\",\n    clearformat: \"Clear format\",\n    format: \"Format\",\n    fontName: \"Font\",\n    fontSize: \"Font size\",\n    fontBold: \"Font bold\",\n    fontItalic: \"Font italic\",\n    underline: \"Underline\",\n    strike: \"Strike\",\n    color: \"Text color\",\n    bgcolor: \"Fill color\",\n    border: \"Borders\",\n    merge: \"Merge cells\",\n    align: \"Horizontal align\",\n    valign: \"Vertical align\",\n    textwrap: \"Text wrapping\",\n    freeze: \"Freeze cell\",\n    autofilter: \"Filter\",\n    formula: \"Functions\",\n    more: \"More\",\n    grid:\"Grid\",\n  },\n  contextmenu: {\n    copy: \"Copy\",\n    cut: \"Cut\",\n    paste: \"Paste\",\n    pasteValue: \"Paste values only\",\n    pasteFormat: \"Paste format only\",\n    hide: \"Hide\",\n    insertRow: \"Insert row\",\n    insertColumn: \"Insert column\",\n    deleteSheet: \"Delete\",\n    deleteRow: \"Delete row\",\n    deleteColumn: \"Delete column\",\n    deleteCell: \"Delete cell\",\n    deleteCellText: \"Delete cell text\",\n    validation: \"Data validations\",\n    cellprintable: \"Enable export\",\n    cellnonprintable: \"Disable export\",\n    celleditable: \"Enable editing\",\n    cellnoneditable: \"Disable editing\",\n  },\n  print: {\n    size: \"Paper size\",\n    orientation: \"Page orientation\",\n    orientations: [\"Landscape\", \"Portrait\"],\n  },\n  format: {\n    normal: \"Normal\",\n    text: \"Plain Text\",\n    number: \"Number\",\n    percent: \"Percent\",\n    rmb: \"RMB\",\n    usd: \"USD\",\n    eur: \"EUR\",\n    date: \"Date\",\n    time: \"Time\",\n    datetime: \"Date time\",\n    duration: \"Duration\",\n  },\n  formula: {\n    sum: \"Sum\",\n    average: \"Average\",\n    max: \"Max\",\n    min: \"Min\",\n    _if: \"IF\",\n    and: \"AND\",\n    or: \"OR\",\n    concat: \"Concat\",\n  },\n  validation: {\n    required: \"it must be required\",\n    notMatch: \"it not match its validation rule\",\n    between: \"it is between {} and {}\",\n    notBetween: \"it is not between {} and {}\",\n    notIn: \"it is not in list\",\n    equal: \"it equal to {}\",\n    notEqual: \"it not equal to {}\",\n    lessThan: \"it less than {}\",\n    lessThanEqual: \"it less than or equal to {}\",\n    greaterThan: \"it greater than {}\",\n    greaterThanEqual: \"it greater than or equal to {}\",\n  },\n  error: {\n    pasteForMergedCell: \"Unable to do this for merged cells\",\n  },\n  calendar: {\n    weeks: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ],\n  },\n  button: {\n    next: \"Next\",\n    cancel: \"Cancel\",\n    remove: \"Remove\",\n    save: \"Save\",\n    ok: \"OK\",\n  },\n  sort: {\n    desc: \"Sort Z -> A\",\n    asc: \"Sort A -> Z\",\n  },\n  filter: {\n    empty: \"empty\",\n  },\n  dataValidation: {\n    mode: \"Mode\",\n    range: \"Cell Range\",\n    criteria: \"Criteria\",\n    modeType: {\n      cell: \"Cell\",\n      column: \"Colun\",\n      row: \"Row\",\n    },\n    type: {\n      list: \"List\",\n      number: \"Number\",\n      date: \"Date\",\n      phone: \"Phone\",\n      email: \"Email\",\n    },\n    operator: {\n      be: \"between\",\n      nbe: \"not betwwen\",\n      lt: \"less than\",\n      lte: \"less than or equal to\",\n      gt: \"greater than\",\n      gte: \"greater than or equal to\",\n      eq: \"equal to\",\n      neq: \"not equal to\",\n    },\n  },\n};\n","import { t } from \"../locale/locale\";\nimport helper from \"./helper\";\n\nconst rules = {\n  phone: /^[1-9]\\d{10}$/,\n  email: /w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/,\n};\n\nfunction returnMessage(flag, key, ...arg) {\n  let message = \"\";\n  if (!flag) {\n    message = t(`validation.${key}`, ...arg);\n  }\n  return [flag, message];\n}\n\nexport default class Validator {\n  // operator: b|nb|eq|neq|lt|lte|gt|gte\n  // type: date|number|list|phone|email\n  constructor(type, required, value, operator) {\n    this.required = required;\n    this.value = value;\n    this.type = type;\n    this.operator = operator;\n    this.message = \"\";\n  }\n\n  parseValue(v) {\n    const { type } = this;\n    if (type === \"date\") {\n      return new Date(v);\n    }\n    if (type === \"number\") {\n      return Number(v);\n    }\n    return v;\n  }\n\n  equals(other) {\n    let flag =\n      this.type === other.type &&\n      this.required === other.required &&\n      this.operator === other.operator;\n    if (flag) {\n      if (Array.isArray(this.value)) {\n        flag = helper.arrayEquals(this.value, other.value);\n      } else {\n        flag = this.value === other.value;\n      }\n    }\n    return flag;\n  }\n\n  values() {\n    return this.value.split(\",\");\n  }\n\n  validate(v) {\n    const { required, operator, value, type } = this;\n    if (required && /^\\s*$/.test(v)) {\n      return returnMessage(false, \"required\");\n    }\n    if (/^\\s*$/.test(v)) return [true];\n    if (rules[type] && !rules[type].test(v)) {\n      return returnMessage(false, \"notMatch\");\n    }\n    if (type === \"list\") {\n      return returnMessage(this.values().includes(v), \"notIn\");\n    }\n    if (operator) {\n      const v1 = this.parseValue(v);\n      if (operator === \"be\") {\n        const [min, max] = value;\n        return returnMessage(\n          v1 >= this.parseValue(min) && v1 <= this.parseValue(max),\n          \"between\",\n          min,\n          max,\n        );\n      }\n      if (operator === \"nbe\") {\n        const [min, max] = value;\n        return returnMessage(\n          v1 < this.parseValue(min) || v1 > this.parseValue(max),\n          \"notBetween\",\n          min,\n          max,\n        );\n      }\n      if (operator === \"eq\") {\n        return returnMessage(v1 === this.parseValue(value), \"equal\", value);\n      }\n      if (operator === \"neq\") {\n        return returnMessage(v1 !== this.parseValue(value), \"notEqual\", value);\n      }\n      if (operator === \"lt\") {\n        return returnMessage(v1 < this.parseValue(value), \"lessThan\", value);\n      }\n      if (operator === \"lte\") {\n        return returnMessage(\n          v1 <= this.parseValue(value),\n          \"lessThanEqual\",\n          value,\n        );\n      }\n      if (operator === \"gt\") {\n        return returnMessage(v1 > this.parseValue(value), \"greaterThan\", value);\n      }\n      if (operator === \"gte\") {\n        return returnMessage(\n          v1 >= this.parseValue(value),\n          \"greaterThanEqual\",\n          value,\n        );\n      }\n    }\n    return [true];\n  }\n}\n","import Validator from \"./validator\";\nimport { CellRange } from \"./cell_range\";\n\nclass Validation {\n  constructor(mode, refs, validator) {\n    this.refs = refs;\n    this.mode = mode; // cell\n    this.validator = validator;\n  }\n\n  includes(ri, ci) {\n    const { refs } = this;\n    for (let i = 0; i < refs.length; i += 1) {\n      const cr = CellRange.valueOf(refs[i]);\n      if (cr.includes(ri, ci)) return true;\n    }\n    return false;\n  }\n\n  addRef(ref) {\n    this.remove(CellRange.valueOf(ref));\n    this.refs.push(ref);\n  }\n\n  remove(cellRange) {\n    const nrefs = [];\n    this.refs.forEach((it) => {\n      const cr = CellRange.valueOf(it);\n      if (cr.intersects(cellRange)) {\n        const crs = cr.difference(cellRange);\n        crs.forEach((it1) => nrefs.push(it1.toString()));\n      } else {\n        nrefs.push(it);\n      }\n    });\n    this.refs = nrefs;\n  }\n\n  getData() {\n    const { refs, mode, validator } = this;\n    const { type, required, operator, value } = validator;\n    return {\n      refs,\n      mode,\n      type,\n      required,\n      operator,\n      value,\n    };\n  }\n\n  static valueOf({ refs, mode, type, required, operator, value }) {\n    return new Validation(\n      mode,\n      refs,\n      new Validator(type, required, value, operator),\n    );\n  }\n}\nclass Validations {\n  constructor() {\n    this._ = [];\n    // ri_ci: errMessage\n    this.errors = new Map();\n  }\n\n  getError(ri, ci) {\n    return this.errors.get(`${ri}_${ci}`);\n  }\n\n  validate(ri, ci, text) {\n    const v = this.get(ri, ci);\n    const key = `${ri}_${ci}`;\n    const { errors } = this;\n    if (v !== null) {\n      const [flag, message] = v.validator.validate(text);\n      if (!flag) {\n        errors.set(key, message);\n      } else {\n        errors.delete(key);\n      }\n    } else {\n      errors.delete(key);\n    }\n    return true;\n  }\n\n  // type: date|number|phone|email|list\n  // validator: { required, value, operator }\n  add(mode, ref, { type, required, value, operator }) {\n    const validator = new Validator(type, required, value, operator);\n    const v = this.getByValidator(validator);\n    if (v !== null) {\n      v.addRef(ref);\n    } else {\n      this._.push(new Validation(mode, [ref], validator));\n    }\n  }\n\n  getByValidator(validator) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.validator.equals(validator)) {\n        return v;\n      }\n    }\n    return null;\n  }\n\n  get(ri, ci) {\n    for (let i = 0; i < this._.length; i += 1) {\n      const v = this._[i];\n      if (v.includes(ri, ci)) return v;\n    }\n    return null;\n  }\n\n  remove(cellRange) {\n    this.each((it) => {\n      it.remove(cellRange);\n    });\n  }\n\n  each(cb) {\n    this._.forEach((it) => cb(it));\n  }\n\n  getData() {\n    return this._.filter((it) => it.refs.length > 0).map((it) => it.getData());\n  }\n\n  setData(d) {\n    this._ = d.map((it) => Validation.valueOf(it));\n  }\n}\n\nexport default {};\nexport { Validations };\n","export const getStylingForClass = (styleTag, className) => {\n  const cssRules = styleTag?.sheet?.cssRules || styleTag?.sheet?.rules;\n  for (let i = 0; i < cssRules?.length; i++) {\n    const cssRule = cssRules[i];\n    if (cssRule.selectorText === `.${className}`) {\n      return cssRule.style.cssText;\n    }\n  }\n  return \"\";\n};\n\nexport const parseCssToXDataStyles = (styleString) => {\n  if (styleString) {\n    const parsedStyles = {};\n    const fontStyles = {};\n    let borderStyles = {};\n\n    const styles = styleString.split(\";\");\n    const stylesObject = {};\n    styles.forEach((style) => {\n      const [property, value] = style.split(\":\");\n      if (property && value) stylesObject[property.trim()] = value.trim();\n    });\n\n    const parsedStylesObject = parseBorderProperties(stylesObject);\n    Object.entries(parsedStylesObject).forEach(([property, value]) => {\n      switch (property) {\n        case \"background\":\n        case \"background-color\":\n          parsedStyles[\"bgcolor\"] = value;\n          break;\n        case \"color\":\n          parsedStyles[\"color\"] = value;\n          break;\n        case \"text-decoration\":\n          if (value === \"underline\") parsedStyles[\"underline\"] = true;\n          else if (value === \"line-through\") parsedStyles[\"strike\"] = true;\n          break;\n        case \"text-align\":\n          parsedStyles[\"align\"] = value;\n          break;\n        case \"vertical-align\":\n          parsedStyles[\"valign\"] = value;\n          break;\n        case \"font-weight\":\n          const parsedIntValue = parseInt(value);\n          fontStyles[\"bold\"] =\n            (parsedIntValue !== NaN && parsedIntValue > 400) ||\n            value === \"bold\";\n          break;\n        case \"font-size\":\n          fontStyles[\"size\"] = value.split(\"px\")?.[0] ?? \"\";\n          break;\n        case \"font-style\":\n          fontStyles[\"italic\"] = value === \"italic\";\n          break;\n        case \"font-family\":\n          fontStyles[\"name\"] = value;\n          break;\n        case \"border\":\n        case \"border-top\":\n        case \"border-bottom\":\n        case \"border-left\":\n        case \"border-right\":\n          const regexp = /[^\\s\\(]+(\\(.+\\))?/g;\n          const values = String(value).match(regexp) ?? [];\n          let parsedValues = [];\n          if (values.length > 2) {\n            const intValue = Number(values[0]?.split(\"px\")?.[0]);\n            const lineStyle =\n              values[1] === \"solid\"\n                ? intValue <= 1\n                  ? \"thin\"\n                  : intValue <= 2\n                    ? \"medium\"\n                    : \"thick\"\n                : values[1];\n            const color = [\"black\", \"initial\"].includes(values[2])\n              ? \"#000000\"\n              : values[2];\n            parsedValues = [lineStyle, color];\n          }\n          if (property === \"border\") {\n            borderStyles = {\n              top: parsedValues,\n              bottom: parsedValues,\n              left: parsedValues,\n              right: parsedValues,\n            };\n          } else {\n            const side = property.split(\"-\")[1];\n            borderStyles[side] = parsedValues;\n          }\n          break;\n      }\n    });\n    parsedStyles[\"font\"] = fontStyles;\n    if (Object.keys(borderStyles).length) parsedStyles[\"border\"] = borderStyles;\n    return parsedStyles;\n  }\n  return {};\n};\n\nconst parseBorderProperties = (styles) => {\n  const border = {\n    \"border-top\": {},\n    \"border-right\": {},\n    \"border-bottom\": {},\n    \"border-left\": {},\n  };\n  const others = {};\n  const parsedBorders = {};\n  for (const key in styles) {\n    if (styles.hasOwnProperty(key)) {\n      const parts = key.split(\"-\");\n      if (\n        parts.length === 3 &&\n        parts[0] === \"border\" &&\n        [\"style\", \"width\", \"color\"].includes(parts[2])\n      ) {\n        const side = parts[1];\n        const propertyName = \"border-\" + side;\n        if (!border[propertyName]) {\n          border[propertyName] = {};\n        }\n        border[propertyName][parts[2]] = styles[key];\n      } else if (\n        parts.length === 2 &&\n        parts[0] === \"border\" &&\n        [\"style\", \"width\", \"color\"].includes(parts[1])\n      ) {\n        let value = [];\n        if (parts[1] === \"color\" && styles[key]?.includes(\"rgb\")) {\n          value = styles[key].replaceAll(\" \", \"\").split(\")\");\n          value.pop();\n          value = value.map((val) => `${val})`);\n        } else {\n          value = styles[key]?.split(\" \");\n        }\n        if (value.length === 1) {\n          border[`border-top`][parts[1]] = value[0];\n          border[`border-bottom`][parts[1]] = value[0];\n          border[`border-left`][parts[1]] = value[0];\n          border[`border-right`][parts[1]] = value[0];\n        } else if (value.length === 2) {\n          border[`border-top`][parts[1]] = value[0];\n          border[`border-bottom`][parts[1]] = value[0];\n          border[`border-left`][parts[1]] = value[1];\n          border[`border-right`][parts[1]] = value[1];\n        } else if (value.length === 3) {\n          border[`border-top`][parts[1]] = value[0];\n          border[`border-right`][parts[1]] = value[1];\n          border[`border-left`][parts[1]] = value[1];\n          border[`border-bottom`][parts[1]] = value[2];\n        } else if (value.length === 4) {\n          border[`border-top`][parts[1]] = value[0];\n          border[`border-right`][parts[1]] = value[1];\n          border[`border-bottom`][parts[1]] = value[2];\n          border[`border-left`][parts[1]] = value[3];\n        }\n      } else {\n        others[key] = styles[key];\n      }\n    }\n  }\n\n  Object.keys(border).forEach((key) => {\n    const value = border[key];\n    if (Object.keys(value).length === 3) {\n      const parsedValue =\n        value[\"width\"] === \"0px\"\n          ? \"none\"\n          : `${value[\"width\"]} ${value[\"style\"]} ${value[\"color\"]}`;\n      parsedBorders[key] = parsedValue;\n    }\n  });\n\n  return { ...parsedBorders, ...others };\n};\n","export default class SheetConfig {\n  constructor(name, settings) {\n    this.name = name;\n    this.settings = settings;\n    this.gridLine = settings.showGrid ?? true;\n  }\n\n  setData(data) {\n    this.gridLine = data.gridLine;\n  }\n\n  getData(data) {\n    return this;\n  }\n\n  setGrid(status) {\n    this.gridLine = status;\n  }\n\n  getGrid() {\n    return this.gridLine;\n  }\n}\n","/* global document */\n\nimport Selector from \"./selector\";\nimport Scroll from \"./scroll\";\nimport History from \"./history\";\nimport Clipboard from \"./clipboard\";\nimport AutoFilter from \"./auto_filter\";\nimport { Merges } from \"./merge\";\nimport helper from \"./helper\";\nimport { Rows } from \"./row\";\nimport { Cols } from \"./col\";\nimport { Validations } from \"./validation\";\nimport { CellRange } from \"./cell_range\";\nimport { expr2xy, xy2expr } from \"./alphabet\";\nimport { t } from \"../locale/locale\";\nimport { getStylingForClass, parseCssToXDataStyles } from \"../utils\";\nimport SheetConfig from \"./sheetConfig\";\n\n// private methods\n/*\n * {\n *  name: ''\n *  freeze: [0, 0],\n *  formats: [],\n *  styles: [\n *    {\n *      bgcolor: '',\n *      align: '',\n *      valign: '',\n *      textwrap: false,\n *      strike: false,\n *      underline: false,\n *      color: '',\n *      format: 1,\n *      border: {\n *        left: [style, color],\n *        right: [style, color],\n *        top: [style, color],\n *        bottom: [style, color],\n *      },\n *      font: {\n *        name: 'Helvetica',\n *        size: 10,\n *        bold: false,\n *        italic: false,\n *      }\n *    }\n *  ],\n *  merges: [\n *    'A1:F11',\n *    ...\n *  ],\n *  rows: {\n *    1: {\n *      height: 50,\n *      style: 1,\n *      cells: {\n *        1: {\n *          style: 2,\n *          type: 'string',\n *          text: '',\n *          value: '', // cal result\n *        }\n *      }\n *    },\n *    ...\n *  },\n *  cols: {\n *    2: { width: 100, style: 1 }\n *  }\n * }\n */\nconst defaultSettings = {\n  mode: \"edit\", // edit | read\n  view: {\n    height: () => document.documentElement.clientHeight,\n    width: () => document.documentElement.clientWidth,\n  },\n  showGrid: true,\n  showToolbar: true,\n  showContextmenu: true,\n  showBottomBar: true,\n  row: {\n    len: 100,\n    height: 25,\n  },\n  col: {\n    len: 26,\n    width: 100,\n    indexWidth: 60,\n    minWidth: 60,\n  },\n  style: {\n    bgcolor: \"#ffffff\",\n    align: \"left\",\n    valign: \"middle\",\n    textwrap: false,\n    strike: false,\n    underline: false,\n    color: \"#0a0a0a\",\n    font: {\n      name: \"Arial\",\n      size: 10,\n      bold: false,\n      italic: false,\n    },\n    format: \"normal\",\n  },\n};\n\nconst toolbarHeight = 41;\nconst bottombarHeight = 41;\n\n// src: cellRange\n// dst: cellRange\nfunction canPaste(src, dst, error = () => {}) {\n  const { merges } = this;\n  const cellRange = dst.clone();\n  const [srn, scn] = src.size();\n  const [drn, dcn] = dst.size();\n  if (srn > drn) {\n    cellRange.eri = dst.sri + srn - 1;\n  }\n  if (scn > dcn) {\n    cellRange.eci = dst.sci + scn - 1;\n  }\n  if (merges.intersects(cellRange)) {\n    error(t(\"error.pasteForMergedCell\"));\n    return false;\n  }\n  return true;\n}\nfunction copyPaste(srcCellRange, dstCellRange, what, autofill = false) {\n  const { rows, merges } = this;\n  // delete dest merge\n  if (what === \"all\" || what === \"format\") {\n    rows.deleteCells(dstCellRange, what);\n    merges.deleteWithin(dstCellRange);\n  }\n  rows.copyPaste(srcCellRange, dstCellRange, what, autofill, (ri, ci, cell) => {\n    if (cell && cell.merge) {\n      // console.log('cell:', ri, ci, cell);\n      const [rn, cn] = cell.merge;\n      if (rn <= 0 && cn <= 0) return;\n      merges.add(new CellRange(ri, ci, ri + rn, ci + cn));\n    }\n  });\n}\n\nfunction cutPaste(srcCellRange, dstCellRange) {\n  const { clipboard, rows, merges } = this;\n  rows.cutPaste(srcCellRange, dstCellRange);\n  merges.move(\n    srcCellRange,\n    dstCellRange.sri - srcCellRange.sri,\n    dstCellRange.sci - srcCellRange.sci\n  );\n  clipboard.clear();\n}\n\n// bss: { top, bottom, left, right }\nfunction setStyleBorder(ri, ci, bss) {\n  const { styles, rows } = this;\n  const cell = rows.getCellOrNew(ri, ci);\n  let cstyle = {};\n  if (cell.style !== undefined) {\n    cstyle = helper.cloneDeep(styles[cell.style]);\n  }\n  cstyle = helper.merge(cstyle, { border: bss });\n  cell.style = this.addStyle(cstyle);\n}\n\nfunction setStyleBorders({ mode, style, color }) {\n  const { styles, selector, rows } = this;\n  const { sri, sci, eri, eci } = selector.range;\n  const multiple = !this.isSingleSelected();\n  if (!multiple) {\n    if (mode === \"inside\" || mode === \"horizontal\" || mode === \"vertical\") {\n      return;\n    }\n  }\n  if (mode === \"outside\" && !multiple) {\n    setStyleBorder.call(this, sri, sci, {\n      top: [style, color],\n      bottom: [style, color],\n      left: [style, color],\n      right: [style, color],\n    });\n  } else if (mode === \"none\") {\n    selector.range.each((ri, ci) => {\n      const cell = rows.getCell(ri, ci);\n      if (cell && cell.style !== undefined) {\n        const ns = helper.cloneDeep(styles[cell.style]);\n        delete ns.border;\n        // ['bottom', 'top', 'left', 'right'].forEach((prop) => {\n        //   if (ns[prop]) delete ns[prop];\n        // });\n        cell.style = this.addStyle(ns);\n      }\n    });\n  } else if (\n    mode === \"all\" ||\n    mode === \"inside\" ||\n    mode === \"outside\" ||\n    mode === \"horizontal\" ||\n    mode === \"vertical\"\n  ) {\n    const merges = [];\n    for (let ri = sri; ri <= eri; ri += 1) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        // jump merges -- start\n        const mergeIndexes = [];\n        for (let ii = 0; ii < merges.length; ii += 1) {\n          const [mri, mci, rn, cn] = merges[ii];\n          if (ri === mri + rn + 1) mergeIndexes.push(ii);\n          if (mri <= ri && ri <= mri + rn) {\n            if (ci === mci) {\n              ci += cn + 1;\n              break;\n            }\n          }\n        }\n        mergeIndexes.forEach((it) => merges.splice(it, 1));\n        if (ci > eci) break;\n        // jump merges -- end\n        const cell = rows.getCell(ri, ci);\n        let [rn, cn] = [0, 0];\n        if (cell && cell.merge) {\n          [rn, cn] = cell.merge;\n          merges.push([ri, ci, rn, cn]);\n        }\n        const mrl = rn > 0 && ri + rn === eri;\n        const mcl = cn > 0 && ci + cn === eci;\n        let bss = {};\n        if (mode === \"all\") {\n          bss = {\n            bottom: [style, color],\n            top: [style, color],\n            left: [style, color],\n            right: [style, color],\n          };\n        } else if (mode === \"inside\") {\n          if (!mcl && ci < eci) bss.right = [style, color];\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === \"horizontal\") {\n          if (!mrl && ri < eri) bss.bottom = [style, color];\n        } else if (mode === \"vertical\") {\n          if (!mcl && ci < eci) bss.right = [style, color];\n        } else if (mode === \"outside\" && multiple) {\n          if (sri === ri) bss.top = [style, color];\n          if (mrl || eri === ri) bss.bottom = [style, color];\n          if (sci === ci) bss.left = [style, color];\n          if (mcl || eci === ci) bss.right = [style, color];\n        }\n        if (Object.keys(bss).length > 0) {\n          setStyleBorder.call(this, ri, ci, bss);\n        }\n        ci += cn;\n      }\n    }\n  } else if (mode === \"top\" || mode === \"bottom\") {\n    for (let ci = sci; ci <= eci; ci += 1) {\n      if (mode === \"top\") {\n        setStyleBorder.call(this, sri, ci, { top: [style, color] });\n        ci += rows.getCellMerge(sri, ci)[1];\n      }\n      if (mode === \"bottom\") {\n        setStyleBorder.call(this, eri, ci, { bottom: [style, color] });\n        ci += rows.getCellMerge(eri, ci)[1];\n      }\n    }\n  } else if (mode === \"left\" || mode === \"right\") {\n    for (let ri = sri; ri <= eri; ri += 1) {\n      if (mode === \"left\") {\n        setStyleBorder.call(this, ri, sci, { left: [style, color] });\n        ri += rows.getCellMerge(ri, sci)[0];\n      }\n      if (mode === \"right\") {\n        setStyleBorder.call(this, ri, eci, { right: [style, color] });\n        ri += rows.getCellMerge(ri, eci)[0];\n      }\n    }\n  }\n}\n\nfunction getCellRowByY(y, scrollOffsety) {\n  const { rows } = this;\n  const fsh = this.freezeTotalHeight();\n  // console.log('y:', y, ', fsh:', fsh);\n  let inits = rows.height;\n  if (fsh + rows.height < y) inits -= scrollOffsety;\n\n  // handle ri in autofilter\n  const frset = this.exceptRowSet;\n\n  let ri = 0;\n  let top = inits;\n  let { height } = rows;\n  for (; ri < rows.len; ri += 1) {\n    if (top > y) break;\n    if (!frset.has(ri)) {\n      height = rows.getHeight(ri);\n      top += height;\n    }\n  }\n  top -= height;\n  // console.log('ri:', ri, ', top:', top, ', height:', height);\n\n  if (top <= 0) {\n    return { ri: -1, top: 0, height };\n  }\n\n  return { ri: ri - 1, top, height };\n}\n\nfunction getCellColByX(x, scrollOffsetx) {\n  const { cols } = this;\n  const fsw = this.freezeTotalWidth();\n  let inits = cols.indexWidth;\n  if (fsw + cols.indexWidth < x) inits -= scrollOffsetx;\n  const [ci, left, width] = helper.rangeReduceIf(\n    0,\n    cols.len,\n    inits,\n    cols.indexWidth,\n    x,\n    (i) => cols.getWidth(i)\n  );\n  if (left <= 0) {\n    return { ci: -1, left: 0, width: cols.indexWidth };\n  }\n  return { ci: ci - 1, left, width };\n}\n\nexport default class DataProxy {\n  constructor(name, settings) {\n    this.settings = helper.merge(defaultSettings, settings || {});\n    // save data begin\n    this.name = name || \"sheet\";\n    this.freeze = [0, 0];\n    this.styles = []; // Array<Style>\n    this.merges = new Merges(); // [CellRange, ...]\n    this.rows = new Rows(this.settings.row, this.settings);\n    this.cols = new Cols(this.settings.col);\n    this.sheetConfig = new SheetConfig(this.name, this.settings);\n    this.validations = new Validations();\n    this.hyperlinks = {};\n    this.comments = {};\n    // save data end\n\n    // don't save object\n    this.selector = new Selector();\n    this.scroll = new Scroll();\n    this.history = new History();\n    this.clipboard = new Clipboard();\n    this.autoFilter = new AutoFilter();\n    this.change = () => {};\n    this.exceptRowSet = new Set();\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n  }\n\n  addValidation(mode, ref, validator) {\n    // console.log('mode:', mode, ', ref:', ref, ', validator:', validator);\n    this.changeData(() => {\n      this.validations.add(mode, ref, validator);\n    });\n  }\n\n  removeValidation() {\n    const { range } = this.selector;\n    this.changeData(() => {\n      this.validations.remove(range);\n    });\n  }\n\n  getSelectedValidator() {\n    const { ri, ci } = this.selector;\n    const v = this.validations.get(ri, ci);\n    return v ? v.validator : null;\n  }\n\n  getSelectedValidation() {\n    const { ri, ci, range } = this.selector;\n    const v = this.validations.get(ri, ci);\n    const ret = { ref: range.toString() };\n    if (v !== null) {\n      ret.mode = v.mode;\n      ret.validator = v.validator;\n    }\n    return ret;\n  }\n\n  canUndo() {\n    return this.history.canUndo();\n  }\n\n  canRedo() {\n    return this.history.canRedo();\n  }\n\n  undo() {\n    this.history.undo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  redo() {\n    this.history.redo(this.getData(), (d) => {\n      this.setData(d);\n    });\n  }\n\n  copy() {\n    this.clipboard.copy(this.selector.range);\n  }\n\n  copyToSystemClipboard(evt) {\n    let copyText = [];\n    const { sri, eri, sci, eci } = this.selector.range;\n\n    for (let ri = sri; ri <= eri; ri += 1) {\n      const row = [];\n      for (let ci = sci; ci <= eci; ci += 1) {\n        const cell = this.getCell(ri, ci);\n        row.push((cell && cell.text) || \"\");\n      }\n      copyText.push(row);\n    }\n\n    // Adding \\n and why not adding \\r\\n is to support online office and client MS office and WPS\n    copyText = copyText.map((row) => row.join(\"\\t\")).join(\"\\n\");\n\n    // why used this\n    // cuz http protocol will be blocked request clipboard by browser\n    if (evt) {\n      evt.clipboardData.clearData();\n      evt.clipboardData.setData(\"text/plain\", copyText);\n      evt.preventDefault();\n    }\n\n    // this need https protocol\n    /* global navigator */\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(copyText).then(\n        () => {},\n        (err) => {\n          console.log(\n            \"text copy to the system clipboard error  \",\n            copyText,\n            err\n          );\n        }\n      );\n    }\n  }\n\n  cut() {\n    this.clipboard.cut(this.selector.range);\n  }\n\n  // what: all | text | format\n  paste(what = \"all\", error = () => {}) {\n    // console.log('sIndexes:', sIndexes);\n    const { clipboard, selector } = this;\n    if (clipboard.isClear()) return false;\n    if (!canPaste.call(this, clipboard.range, selector.range, error))\n      return false;\n\n    this.changeData(() => {\n      if (clipboard.isCopy()) {\n        copyPaste.call(this, clipboard.range, selector.range, what);\n      } else if (clipboard.isCut()) {\n        cutPaste.call(this, clipboard.range, selector.range);\n      }\n    });\n    return true;\n  }\n\n  pasteFromSystemClipboard(evt, resetSheet, eventTrigger) {\n    const { selector } = this;\n    const htmlContent = evt?.clipboardData?.getData(\"text/html\");\n\n    navigator.clipboard\n      .read()\n      .then((data) => {\n        data.forEach((item) => {\n          if (item?.types?.includes(\"text/html\")) {\n            const parser = new DOMParser();\n            const htmlDocument = parser.parseFromString(\n              htmlContent,\n              \"text/html\"\n            );\n            const htmlStyles = htmlDocument?.getElementsByTagName(\"style\")?.[0];\n            const htmlBody = htmlDocument?.getElementsByTagName(\"body\")?.[0];\n            const tableContent = htmlBody?.querySelectorAll(\"table\");\n\n            tableContent?.forEach((table) => {\n              const tBody = table?.querySelector(\"tbody\");\n              const trs = tBody?.querySelectorAll(\"tr\");\n              let startRow = selector.ri;\n              trs?.forEach((tr) => {\n                let startColumn = selector.ci;\n                const tds = tr?.querySelectorAll(\"td\");\n                tds?.forEach((td) => {\n                  const cellContent = td?.innerText ?? \"\";\n                  const cellClassName = td?.getAttribute(\"class\");\n                  const cellStyle = parseCssToXDataStyles(\n                    getStylingForClass(htmlStyles, cellClassName)\n                  );\n                  this.setCellText(startRow, startColumn, cellContent, \"input\");\n                  const cell = this.getCell(startRow, startColumn);\n                  if (cell) cell.style = this.addStyle(cellStyle);\n\n                  startColumn += 1;\n                });\n                startRow += 1;\n              });\n            });\n            resetSheet();\n            eventTrigger(this.rows.getData());\n          } else if (item?.types?.includes(\"text/plain\")) {\n            navigator.clipboard.readText().then((content) => {\n              const contentToPaste = this.parseClipboardContent(content);\n              let startRow = selector.ri;\n              contentToPaste.forEach((row) => {\n                let startColumn = selector.ci;\n                row.forEach((cellContent) => {\n                  this.setCellText(startRow, startColumn, cellContent, \"input\");\n                  startColumn += 1;\n                });\n                startRow += 1;\n              });\n              resetSheet();\n              eventTrigger(this.rows.getData());\n            });\n          }\n        });\n      })\n      .catch((err) => {\n        console.error(\"Failed to read clipboard contents: \", err);\n      });\n  }\n\n  parseClipboardContent(clipboardContent) {\n    const parsedData = [];\n\n    // first we need to figure out how many rows we need to paste\n    const rows = clipboardContent.split(\"\\n\");\n\n    // for each row parse cell data\n    let i = 0;\n    rows.forEach((row) => {\n      parsedData[i] = row.split(\"\\t\");\n      i += 1;\n    });\n    return parsedData;\n  }\n\n  pasteFromText(txt) {\n    let lines = [];\n\n    if (/\\r\\n/.test(txt))\n      lines = txt.split(\"\\r\\n\").map((it) => it.replace(/\"/g, \"\").split(\"\\t\"));\n    else lines = txt.split(\"\\n\").map((it) => it.replace(/\"/g, \"\").split(\"\\t\"));\n\n    if (lines.length) {\n      const { rows, selector } = this;\n\n      this.changeData(() => {\n        rows.paste(lines, selector.range);\n      });\n    }\n  }\n\n  autofill(cellRange, what, error = () => {}) {\n    const srcRange = this.selector.range;\n    if (!canPaste.call(this, srcRange, cellRange, error)) return false;\n    this.changeData(() => {\n      copyPaste.call(this, srcRange, cellRange, what, true);\n    });\n    return true;\n  }\n\n  clearClipboard() {\n    this.clipboard.clear();\n  }\n\n  calSelectedRangeByEnd(ri, ci) {\n    const { selector, rows, cols, merges } = this;\n    let { sri, sci, eri, eci } = selector.range;\n    const cri = selector.ri;\n    const cci = selector.ci;\n    let [nri, nci] = [ri, ci];\n    if (ri < 0) nri = rows.len - 1;\n    if (ci < 0) nci = cols.len - 1;\n    if (nri > cri) [sri, eri] = [cri, nri];\n    else [sri, eri] = [nri, cri];\n    if (nci > cci) [sci, eci] = [cci, nci];\n    else [sci, eci] = [nci, cci];\n    selector.range = merges.union(new CellRange(sri, sci, eri, eci));\n    selector.range = merges.union(selector.range);\n    // console.log('selector.range:', selector.range);\n    return selector.range;\n  }\n\n  calSelectedRangeByStart(ri, ci) {\n    const { selector, rows, cols, merges } = this;\n    let cellRange = merges.getFirstIncludes(ri, ci);\n    // console.log('cellRange:', cellRange, ri, ci, merges);\n    if (cellRange === null) {\n      cellRange = new CellRange(ri, ci, ri, ci);\n      if (ri === -1) {\n        cellRange.sri = 0;\n        cellRange.eri = rows.len - 1;\n      }\n      if (ci === -1) {\n        cellRange.sci = 0;\n        cellRange.eci = cols.len - 1;\n      }\n    }\n    selector.range = cellRange;\n    return cellRange;\n  }\n\n  setSelectedCellAttr(property, value) {\n    this.changeData(() => {\n      const { selector, styles, rows } = this;\n      if (property === \"merge\") {\n        if (value) this.merge();\n        else this.unmerge();\n      } else if (property === \"border\") {\n        setStyleBorders.call(this, value);\n      } else if (property === \"formula\") {\n        // console.log('>>>', selector.multiple());\n        const { ri, ci, range } = selector;\n        if (selector.multiple()) {\n          const [rn, cn] = selector.size();\n          const { sri, sci, eri, eci } = range;\n          if (rn > 1) {\n            for (let i = sci; i <= eci; i += 1) {\n              const cell = rows.getCellOrNew(eri + 1, i);\n              cell.text = `=${value}(${xy2expr(i, sri)}:${xy2expr(i, eri)})`;\n            }\n          } else if (cn > 1) {\n            const cell = rows.getCellOrNew(ri, eci + 1);\n            cell.text = `=${value}(${xy2expr(sci, ri)}:${xy2expr(eci, ri)})`;\n          }\n        } else {\n          const cell = rows.getCellOrNew(ri, ci);\n          cell.text = `=${value}()`;\n        }\n      } else {\n        selector.range.each((ri, ci) => {\n          const cell = rows.getCellOrNew(ri, ci);\n          let cstyle = {};\n          if (cell.style !== undefined) {\n            cstyle = helper.cloneDeep(styles[cell.style]);\n          }\n          if (property === \"format\") {\n            cstyle.format = value;\n            cell.style = this.addStyle(cstyle);\n          } else if (\n            property === \"font-bold\" ||\n            property === \"font-italic\" ||\n            property === \"font-name\" ||\n            property === \"font-size\"\n          ) {\n            const nfont = {};\n            nfont[property.split(\"-\")[1]] = value;\n            cstyle.font = Object.assign(cstyle.font || {}, nfont);\n            cell.style = this.addStyle(cstyle);\n          } else if (\n            property === \"strike\" ||\n            property === \"textwrap\" ||\n            property === \"underline\" ||\n            property === \"align\" ||\n            property === \"valign\" ||\n            property === \"color\" ||\n            property === \"bgcolor\"\n          ) {\n            cstyle[property] = value;\n            cell.style = this.addStyle(cstyle);\n          } else {\n            cell[property] = value;\n          }\n        });\n      }\n    });\n  }\n\n  // state: input | finished\n  setSelectedCellText(text, state = \"input\") {\n    const { autoFilter, selector, rows } = this;\n    const { ri, ci } = selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    const oldCell = rows.getCell(nri, ci);\n    const oldText = oldCell ? oldCell.text : \"\";\n    this.setCellText(nri, ci, text, state);\n    // replace filter.value\n    if (autoFilter.active()) {\n      const filter = autoFilter.getFilter(ci);\n      if (filter) {\n        const vIndex = filter.value.findIndex((v) => v === oldText);\n        if (vIndex >= 0) {\n          filter.value.splice(vIndex, 1, text);\n        }\n        // console.log('filter:', filter, oldCell);\n      }\n    }\n    // this.resetAutoFilter();\n  }\n\n  getSelectedCell() {\n    const { ri, ci } = this.selector;\n    let nri = ri;\n    if (this.unsortedRowMap.has(ri)) {\n      nri = this.unsortedRowMap.get(ri);\n    }\n    return this.rows.getCell(nri, ci);\n  }\n\n  xyInSelectedRect(x, y) {\n    const { left, top, width, height } = this.getSelectedRect();\n    const x1 = x - this.cols.indexWidth;\n    const y1 = y - this.rows.height;\n    // console.log('x:', x, ',y:', y, 'left:', left, 'top:', top);\n    return x1 > left && x1 < left + width && y1 > top && y1 < top + height;\n  }\n\n  getSelectedRect() {\n    return this.getRect(this.selector.range);\n  }\n\n  getClipboardRect() {\n    const { clipboard } = this;\n    if (!clipboard.isClear()) {\n      return this.getRect(clipboard.range);\n    }\n    return { left: -100, top: -100 };\n  }\n\n  getRect(cellRange) {\n    const { scroll, rows, cols, exceptRowSet } = this;\n    const { sri, sci, eri, eci } = cellRange;\n    // console.log('sri:', sri, ',sci:', sci, ', eri:', eri, ', eci:', eci);\n    // no selector\n    if (sri < 0 && sci < 0) {\n      return {\n        left: 0,\n        l: 0,\n        top: 0,\n        t: 0,\n        scroll,\n      };\n    }\n    const left = cols.sumWidth(0, sci);\n    const top = rows.sumHeight(0, sri, exceptRowSet);\n    const height = rows.sumHeight(sri, eri + 1, exceptRowSet);\n    const width = cols.sumWidth(sci, eci + 1);\n    // console.log('sri:', sri, ', sci:', sci, ', eri:', eri, ', eci:', eci);\n    let left0 = left - scroll.x;\n    let top0 = top - scroll.y;\n    const fsh = this.freezeTotalHeight();\n    const fsw = this.freezeTotalWidth();\n    if (fsw > 0 && fsw > left) {\n      left0 = left;\n    }\n    if (fsh > 0 && fsh > top) {\n      top0 = top;\n    }\n    return {\n      l: left,\n      t: top,\n      left: left0,\n      top: top0,\n      height,\n      width,\n      scroll,\n    };\n  }\n\n  getCellRectByXY(x, y) {\n    const { scroll, merges, rows, cols } = this;\n    let { ri, top, height } = getCellRowByY.call(this, y, scroll.y);\n    let { ci, left, width } = getCellColByX.call(this, x, scroll.x);\n    if (ci === -1) {\n      width = cols.totalWidth();\n    }\n    if (ri === -1) {\n      height = rows.totalHeight();\n    }\n    if (ri >= 0 || ci >= 0) {\n      const merge = merges.getFirstIncludes(ri, ci);\n      if (merge) {\n        ri = merge.sri;\n        ci = merge.sci;\n        ({ left, top, width, height } = this.cellRect(ri, ci));\n      }\n    }\n    return {\n      ri,\n      ci,\n      left,\n      top,\n      width,\n      height,\n    };\n  }\n\n  isSingleSelected() {\n    const { sri, sci, eri, eci } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return !this.selector.multiple();\n  }\n\n  canUnmerge() {\n    const { sri, sci, eri, eci } = this.selector.range;\n    const cell = this.getCell(sri, sci);\n    if (cell && cell.merge) {\n      const [rn, cn] = cell.merge;\n      if (sri + rn === eri && sci + cn === eci) return true;\n    }\n    return false;\n  }\n\n  merge() {\n    const { selector, rows } = this;\n    if (this.isSingleSelected()) return;\n    const [rn, cn] = selector.size();\n    // console.log('merge:', rn, cn);\n    if (rn > 1 || cn > 1) {\n      const { sri, sci } = selector.range;\n      this.changeData(() => {\n        const cell = rows.getCellOrNew(sri, sci);\n        cell.merge = [rn - 1, cn - 1];\n        this.merges.add(selector.range);\n        // delete merge cells\n        this.rows.deleteCells(selector.range);\n        // console.log('cell:', cell, this.d);\n        this.rows.setCell(sri, sci, cell);\n      });\n    }\n  }\n\n  unmerge() {\n    const { selector } = this;\n    if (!this.isSingleSelected()) return;\n    const { sri, sci } = selector.range;\n    this.changeData(() => {\n      this.rows.deleteCell(sri, sci, \"merge\");\n      this.merges.deleteWithin(selector.range);\n    });\n  }\n\n  canAutofilter() {\n    return !this.autoFilter.active();\n  }\n\n  autofilter() {\n    const { autoFilter, selector } = this;\n    this.changeData(() => {\n      if (autoFilter.active()) {\n        autoFilter.clear();\n        this.exceptRowSet = new Set();\n        this.sortedRowMap = new Map();\n        this.unsortedRowMap = new Map();\n      } else {\n        autoFilter.ref = selector.range.toString();\n      }\n    });\n  }\n\n  setAutoFilter(ci, order, operator, value) {\n    const { autoFilter } = this;\n    autoFilter.addFilter(ci, operator, value);\n    autoFilter.setSort(ci, order);\n    this.resetAutoFilter();\n  }\n\n  resetAutoFilter() {\n    const { autoFilter, rows } = this;\n    if (!autoFilter.active()) return;\n    const { sort } = autoFilter;\n    const { rset, fset } = autoFilter.filteredRows((r, c) =>\n      rows.getCell(r, c)\n    );\n    const fary = Array.from(fset);\n    const oldAry = Array.from(fset);\n    if (sort) {\n      fary.sort((a, b) => {\n        if (sort.order === \"asc\") return a - b;\n        if (sort.order === \"desc\") return b - a;\n        return 0;\n      });\n    }\n    this.exceptRowSet = rset;\n    this.sortedRowMap = new Map();\n    this.unsortedRowMap = new Map();\n    fary.forEach((it, index) => {\n      this.sortedRowMap.set(oldAry[index], it);\n      this.unsortedRowMap.set(it, oldAry[index]);\n    });\n  }\n\n  deleteCell(what = \"all\") {\n    const { selector } = this;\n    this.changeData(() => {\n      this.rows.deleteCells(selector.range, what);\n      if (what === \"all\" || what === \"format\") {\n        this.merges.deleteWithin(selector.range);\n      }\n    });\n  }\n\n  // type: row | column\n  insert(type, n = 1) {\n    this.changeData(() => {\n      const { sri, sci } = this.selector.range;\n      const { rows, merges, cols } = this;\n      let si = sri;\n      if (type === \"row\") {\n        rows.insert(sri, n);\n      } else if (type === \"column\") {\n        rows.insertColumn(sci, n);\n        si = sci;\n        cols.len += n;\n        Object.keys(cols._)\n          .reverse()\n          .forEach((colIndex) => {\n            const col = parseInt(colIndex, 10);\n            if (col >= sci) {\n              cols._[col + n] = cols._[col];\n              delete cols._[col];\n            }\n          });\n      }\n      merges.shift(type, si, n, (ri, ci, rn, cn) => {\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n      });\n    });\n  }\n\n  // type: row | column\n  delete(type) {\n    this.changeData(() => {\n      const { rows, merges, selector, cols } = this;\n      const { range } = selector;\n      const { sri, sci, eri, eci } = selector.range;\n      const [rsize, csize] = selector.range.size();\n      let si = sri;\n      let size = rsize;\n      if (type === \"row\") {\n        rows.delete(sri, eri);\n      } else if (type === \"column\") {\n        rows.deleteColumn(sci, eci);\n        si = range.sci;\n        size = csize;\n        cols.len -= eci - sci + 1;\n        Object.keys(cols._).forEach((colIndex) => {\n          const col = parseInt(colIndex, 10);\n          if (col >= sci) {\n            if (col > eci) cols._[col - (eci - sci + 1)] = cols._[col];\n            delete cols._[col];\n          }\n        });\n      }\n      // console.log('type:', type, ', si:', si, ', size:', size);\n      merges.shift(type, si, -size, (ri, ci, rn, cn) => {\n        // console.log('ri:', ri, ', ci:', ci, ', rn:', rn, ', cn:', cn);\n        const cell = rows.getCell(ri, ci);\n        cell.merge[0] += rn;\n        cell.merge[1] += cn;\n        if (cell.merge[0] === 0 && cell.merge[1] === 0) {\n          delete cell.merge;\n        }\n      });\n    });\n  }\n\n  scrollx(x, cb) {\n    const { scroll, freeze, cols } = this;\n    const [, fci] = freeze;\n    const [ci, left, width] = helper.rangeReduceIf(\n      fci,\n      cols.len,\n      0,\n      0,\n      x,\n      (i) => cols.getWidth(i)\n    );\n    // console.log('fci:', fci, ', ci:', ci);\n    let x1 = left;\n    if (x > 0) x1 += width;\n    if (scroll.x !== x1) {\n      scroll.ci = x > 0 ? ci : 0;\n      scroll.x = x1;\n      cb();\n    }\n  }\n\n  scrolly(y, cb) {\n    const { scroll, freeze, rows } = this;\n    const [fri] = freeze;\n    const [ri, top, height] = helper.rangeReduceIf(\n      fri,\n      rows.len,\n      0,\n      0,\n      y,\n      (i) => rows.getHeight(i)\n    );\n    let y1 = top;\n    if (y > 0) y1 += height;\n    // console.log('ri:', ri, ' ,y:', y1);\n    if (scroll.y !== y1) {\n      scroll.ri = y > 0 ? ri : 0;\n      scroll.y = y1;\n      cb();\n    }\n  }\n\n  cellRect(ri, ci) {\n    const { rows, cols } = this;\n    const left = cols.sumWidth(0, ci);\n    const top = rows.sumHeight(0, ri);\n    const cell = rows.getCell(ri, ci);\n    let width = cols.getWidth(ci);\n    let height = rows.getHeight(ri);\n    if (cell !== null) {\n      if (cell.merge) {\n        const [rn, cn] = cell.merge;\n        // console.log('cell.merge:', cell.merge);\n        if (rn > 0) {\n          for (let i = 1; i <= rn; i += 1) {\n            height += rows.getHeight(ri + i);\n          }\n        }\n        if (cn > 0) {\n          for (let i = 1; i <= cn; i += 1) {\n            width += cols.getWidth(ci + i);\n          }\n        }\n      }\n    }\n    // console.log('data:', this.d);\n    return {\n      left,\n      top,\n      width,\n      height,\n      cell,\n    };\n  }\n\n  getCell(ri, ci) {\n    return this.rows.getCell(ri, ci);\n  }\n\n  getCellTextOrDefault(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    return cell && cell.text ? cell.text : \"\";\n  }\n\n  getCellStyle(ri, ci) {\n    const cell = this.getCell(ri, ci);\n    if (cell && cell.style !== undefined) {\n      return this.styles[cell.style];\n    }\n    return null;\n  }\n\n  getCellStyleOrDefault(ri, ci) {\n    const { styles, rows } = this;\n    const cell = rows.getCell(ri, ci);\n    const cellStyle =\n      cell && cell.style !== undefined ? styles[cell.style] : {};\n    return helper.merge(this.defaultStyle(), cellStyle);\n  }\n\n  getSelectedCellStyle() {\n    const { ri, ci } = this.selector;\n    return this.getCellStyleOrDefault(ri, ci);\n  }\n\n  // state: input | finished\n  setCellText(ri, ci, text, state) {\n    const { rows, history, validations } = this;\n    if (state === \"finished\") {\n      rows.setCellText(ri, ci, \"\");\n      history.add(this.getData());\n      rows.setCellText(ri, ci, text);\n    } else {\n      rows.setCellText(ri, ci, text);\n      this.change(this.getData());\n    }\n    // validator\n    validations.validate(ri, ci, text);\n  }\n\n  freezeIsActive() {\n    const [ri, ci] = this.freeze;\n    return ri > 0 || ci > 0;\n  }\n\n  setFreeze(ri, ci) {\n    this.changeData(() => {\n      this.freeze = [ri, ci];\n    });\n  }\n\n  freezeTotalWidth() {\n    return this.cols.sumWidth(0, this.freeze[1]);\n  }\n\n  freezeTotalHeight() {\n    return this.rows.sumHeight(0, this.freeze[0]);\n  }\n\n  setRowHeight(ri, height) {\n    this.changeData(() => {\n      this.rows.setHeight(ri, height);\n    });\n  }\n\n  setColWidth(ci, width) {\n    this.changeData(() => {\n      this.cols.setWidth(ci, width);\n    });\n  }\n\n  viewHeight() {\n    const { view, showToolbar, showBottomBar } = this.settings;\n    let h = view.height();\n    if (showBottomBar) {\n      h -= bottombarHeight;\n    }\n    if (showToolbar) {\n      h -= toolbarHeight;\n    }\n    return h;\n  }\n\n  viewWidth() {\n    return this.settings.view.width();\n  }\n\n  freezeViewRange() {\n    const [ri, ci] = this.freeze;\n    return new CellRange(\n      0,\n      0,\n      ri - 1,\n      ci - 1,\n      this.freezeTotalWidth(),\n      this.freezeTotalHeight()\n    );\n  }\n\n  contentRange() {\n    const { rows, cols } = this;\n    const [ri, ci] = rows.maxCell();\n    const h = rows.sumHeight(0, ri + 1);\n    const w = cols.sumWidth(0, ci + 1);\n    return new CellRange(0, 0, ri, ci, w, h);\n  }\n\n  exceptRowTotalHeight(sri, eri) {\n    const { exceptRowSet, rows } = this;\n    const exceptRows = Array.from(exceptRowSet);\n    let exceptRowTH = 0;\n    exceptRows.forEach((ri) => {\n      if (ri < sri || ri > eri) {\n        const height = rows.getHeight(ri);\n        exceptRowTH += height;\n      }\n    });\n    return exceptRowTH;\n  }\n\n  viewRange() {\n    const { scroll, rows, cols, freeze, exceptRowSet } = this;\n    // console.log('scroll:', scroll, ', freeze:', freeze)\n    let { ri, ci } = scroll;\n    if (ri <= 0) [ri] = freeze;\n    if (ci <= 0) [, ci] = freeze;\n\n    let [x, y] = [0, 0];\n    let [eri, eci] = [rows.len, cols.len];\n    for (let i = ri; i < rows.len; i += 1) {\n      if (!exceptRowSet.has(i)) {\n        y += rows.getHeight(i);\n        eri = i;\n      }\n      if (y > this.viewHeight()) break;\n    }\n    for (let j = ci; j < cols.len; j += 1) {\n      x += cols.getWidth(j);\n      eci = j;\n      if (x > this.viewWidth()) break;\n    }\n    // console.log(ri, ci, eri, eci, x, y);\n    return new CellRange(ri, ci, eri, eci, x, y);\n  }\n\n  eachMergesInView(viewRange, cb) {\n    this.merges.filterIntersects(viewRange).forEach((it) => cb(it));\n  }\n\n  hideRowsOrCols() {\n    const { rows, cols, selector } = this;\n    const [rlen, clen] = selector.size();\n    const { sri, sci, eri, eci } = selector.range;\n    if (rlen === rows.len) {\n      for (let ci = sci; ci <= eci; ci += 1) {\n        cols.setHide(ci, true);\n      }\n    } else if (clen === cols.len) {\n      for (let ri = sri; ri <= eri; ri += 1) {\n        rows.setHide(ri, true);\n      }\n    }\n  }\n\n  // type: row | col\n  // index row-index | col-index\n  unhideRowsOrCols(type, index) {\n    this[`${type}s`].unhide(index);\n  }\n\n  rowEach(min, max, cb) {\n    let y = 0;\n    const { rows } = this;\n    const frset = this.exceptRowSet;\n    const frary = [...frset];\n    let offset = 0;\n    for (let i = 0; i < frary.length; i += 1) {\n      if (frary[i] < min) {\n        offset += 1;\n      }\n    }\n    // console.log('min:', min, ', max:', max, ', scroll:', scroll);\n    for (let i = min + offset; i <= max + offset; i += 1) {\n      if (frset.has(i)) {\n        offset += 1;\n      } else {\n        const rowHeight = rows.getHeight(i);\n        if (rowHeight > 0) {\n          cb(i, y, rowHeight);\n          y += rowHeight;\n          if (y > this.viewHeight()) break;\n        }\n      }\n    }\n  }\n\n  colEach(min, max, cb) {\n    let x = 0;\n    const { cols } = this;\n    for (let i = min; i <= max; i += 1) {\n      const colWidth = cols.getWidth(i);\n      if (colWidth > 0) {\n        cb(i, x, colWidth);\n        x += colWidth;\n        if (x > this.viewWidth()) break;\n      }\n    }\n  }\n\n  defaultStyle() {\n    return this.settings.style;\n  }\n\n  addStyle(nstyle) {\n    const { styles } = this;\n    // console.log('old.styles:', styles, nstyle);\n    for (let i = 0; i < styles.length; i += 1) {\n      const style = styles[i];\n      if (helper.equals(style, nstyle)) return i;\n    }\n    styles.push(nstyle);\n    return styles.length - 1;\n  }\n\n  changeData(cb) {\n    this.history.add(this.getData());\n    cb();\n    this.change(this.getData());\n  }\n\n  setData(d) {\n    Object.keys(d).forEach((property) => {\n      if (\n        property === \"merges\" ||\n        property === \"rows\" ||\n        property === \"cols\" ||\n        property === \"validations\" ||\n        property === \"sheetConfig\"\n      ) {\n        this[property].setData(d[property]);\n      } else if (property === \"freeze\") {\n        const [x, y] = expr2xy(d[property]);\n        this.freeze = [y, x];\n      } else if (property === \"autofilter\") {\n        this.autoFilter.setData(d[property]);\n      } else if (d[property] !== undefined) {\n        this[property] = d[property];\n      }\n    });\n    return this;\n  }\n\n  getData() {\n    const {\n      name,\n      freeze,\n      styles,\n      merges,\n      rows,\n      cols,\n      validations,\n      autoFilter,\n      sheetConfig,\n    } = this;\n    return {\n      name,\n      freeze: xy2expr(freeze[1], freeze[0]),\n      styles,\n      merges: merges.getData(),\n      rows: rows.getData(),\n      cols: cols.getData(),\n      validations: validations.getData(),\n      autofilter: autoFilter.getData(),\n      sheetConfig: sheetConfig.getData(),\n    };\n  }\n}\n","/* global window */\nexport function bind(target, name, fn) {\n  target.addEventListener(name, fn);\n}\nexport function unbind(target, name, fn) {\n  target.removeEventListener(name, fn);\n}\nexport function unbindClickoutside(el) {\n  if (el.xclickoutside) {\n    unbind(window.document.body, \"click\", el.xclickoutside);\n    delete el.xclickoutside;\n  }\n}\n\n// the left mouse button: mousedown → mouseup → click\n// the right mouse button: mousedown → contenxtmenu → mouseup\n// the right mouse button in firefox(>65.0): mousedown → contenxtmenu → mouseup → click on window\nexport function bindClickoutside(el, cb) {\n  el.xclickoutside = (evt) => {\n    // ignore double click\n    // console.log('evt:', evt);\n    if (evt.detail === 2 || el.contains(evt.target)) return;\n    if (cb) cb(el);\n    else {\n      el.hide();\n      unbindClickoutside(el);\n    }\n  };\n  bind(window.document.body, \"click\", el.xclickoutside);\n}\nexport function mouseMoveUp(target, movefunc, upfunc) {\n  bind(target, \"mousemove\", movefunc);\n  const t = target;\n  t.xEvtUp = (evt) => {\n    // console.log('mouseup>>>');\n    unbind(target, \"mousemove\", movefunc);\n    unbind(target, \"mouseup\", target.xEvtUp);\n    upfunc(evt);\n  };\n  bind(target, \"mouseup\", target.xEvtUp);\n}\n\nfunction calTouchDirection(spanx, spany, evt, cb) {\n  let direction = \"\";\n  // console.log('spanx:', spanx, ', spany:', spany);\n  if (Math.abs(spanx) > Math.abs(spany)) {\n    // horizontal\n    direction = spanx > 0 ? \"right\" : \"left\";\n    cb(direction, spanx, evt);\n  } else {\n    // vertical\n    direction = spany > 0 ? \"down\" : \"up\";\n    cb(direction, spany, evt);\n  }\n}\n// cb = (direction, distance) => {}\nexport function bindTouch(target, { move, end }) {\n  let startx = 0;\n  let starty = 0;\n  bind(target, \"touchstart\", (evt) => {\n    const { pageX, pageY } = evt.touches[0];\n    startx = pageX;\n    starty = pageY;\n  });\n  bind(target, \"touchmove\", (evt) => {\n    if (!move) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    if (Math.abs(spanx) > 10 || Math.abs(spany) > 10) {\n      // console.log('spanx:', spanx, ', spany:', spany);\n      calTouchDirection(spanx, spany, evt, move);\n      startx = pageX;\n      starty = pageY;\n    }\n    evt.preventDefault();\n  });\n  bind(target, \"touchend\", (evt) => {\n    if (!end) return;\n    const { pageX, pageY } = evt.changedTouches[0];\n    const spanx = pageX - startx;\n    const spany = pageY - starty;\n    calTouchDirection(spanx, spany, evt, end);\n  });\n}\n\n// eventemiter\nexport function createEventEmitter() {\n  const listeners = new Map();\n\n  function on(eventName, callback) {\n    const push = () => {\n      const currentListener = listeners.get(eventName);\n      return (\n        (Array.isArray(currentListener) && currentListener.push(callback)) ||\n        false\n      );\n    };\n\n    const create = () => listeners.set(eventName, [].concat(callback));\n\n    return (listeners.has(eventName) && push()) || create();\n  }\n\n  function fire(eventName, args) {\n    const exec = () => {\n      const currentListener = listeners.get(eventName);\n      for (const callback of currentListener) callback.call(null, ...args);\n    };\n\n    return listeners.has(eventName) && exec();\n  }\n\n  function removeListener(eventName, callback) {\n    const remove = () => {\n      const currentListener = listeners.get(eventName);\n      const idx = currentListener.indexOf(callback);\n      return (\n        idx >= 0 &&\n        currentListener.splice(idx, 1) &&\n        listeners.get(eventName).length === 0 &&\n        listeners.delete(eventName)\n      );\n    };\n\n    return listeners.has(eventName) && remove();\n  }\n\n  function once(eventName, callback) {\n    const execCalllback = (...args) => {\n      callback.call(null, ...args);\n      removeListener(eventName, execCalllback);\n    };\n\n    return on(eventName, execCalllback);\n  }\n\n  function removeAllListeners() {\n    listeners.clear();\n  }\n\n  return {\n    get current() {\n      return listeners;\n    },\n    on,\n    once,\n    fire,\n    removeListener,\n    removeAllListeners,\n  };\n}\n","/* global window */\nexport const cssPrefix = \"x-spreadsheet\";\nexport const dpr = window.devicePixelRatio || 1;\nexport default {\n  cssPrefix,\n  dpr,\n};\n","/* global window */\nimport { h } from \"./element\";\nimport { mouseMoveUp } from \"./event\";\nimport { cssPrefix } from \"../config\";\n\nexport default class Resizer {\n  constructor(vertical = false, minDistance) {\n    this.moving = false;\n    this.vertical = vertical;\n    this.el = h(\n      \"div\",\n      `${cssPrefix}-resizer ${vertical ? \"vertical\" : \"horizontal\"}`,\n    )\n      .children(\n        (this.unhideHoverEl = h(\"div\", `${cssPrefix}-resizer-hover`)\n          .on(\"dblclick.stop\", (evt) => this.mousedblclickHandler(evt))\n          .css(\"position\", \"absolute\")\n          .hide()),\n        (this.hoverEl = h(\"div\", `${cssPrefix}-resizer-hover`).on(\n          \"mousedown.stop\",\n          (evt) => this.mousedownHandler(evt),\n        )),\n        (this.lineEl = h(\"div\", `${cssPrefix}-resizer-line`).hide()),\n      )\n      .hide();\n    // cell rect\n    this.cRect = null;\n    this.finishedFn = null;\n    this.minDistance = minDistance;\n    this.unhideFn = () => {};\n  }\n\n  showUnhide(index) {\n    this.unhideIndex = index;\n    this.unhideHoverEl.show();\n  }\n\n  hideUnhide() {\n    this.unhideHoverEl.hide();\n  }\n\n  // rect : {top, left, width, height}\n  // line : {width, height}\n  show(rect, line) {\n    const { moving, vertical, hoverEl, lineEl, el, unhideHoverEl } = this;\n    if (moving) return;\n    this.cRect = rect;\n    const { left, top, width, height } = rect;\n    el.offset({\n      left: vertical ? left + width - 5 : left,\n      top: vertical ? top : top + height - 5,\n    }).show();\n    hoverEl.offset({\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n    lineEl.offset({\n      width: vertical ? 0 : line.width,\n      height: vertical ? line.height : 0,\n    });\n    unhideHoverEl.offset({\n      left: vertical ? 5 - width : left,\n      top: vertical ? top : 5 - height,\n      width: vertical ? 5 : width,\n      height: vertical ? height : 5,\n    });\n  }\n\n  hide() {\n    this.el\n      .offset({\n        left: 0,\n        top: 0,\n      })\n      .hide();\n    this.hideUnhide();\n  }\n\n  mousedblclickHandler() {\n    if (this.unhideIndex) this.unhideFn(this.unhideIndex);\n  }\n\n  mousedownHandler(evt) {\n    let startEvt = evt;\n    const { el, lineEl, cRect, vertical, minDistance } = this;\n    let distance = vertical ? cRect.width : cRect.height;\n    // console.log('distance:', distance);\n    lineEl.show();\n    mouseMoveUp(\n      window,\n      (e) => {\n        this.moving = true;\n        if (startEvt !== null && e.buttons === 1) {\n          // console.log('top:', top, ', left:', top, ', cRect:', cRect);\n          if (vertical) {\n            distance += e.movementX;\n            if (distance > minDistance) {\n              el.css(\"left\", `${cRect.left + distance}px`);\n            }\n          } else {\n            distance += e.movementY;\n            if (distance > minDistance) {\n              el.css(\"top\", `${cRect.top + distance}px`);\n            }\n          }\n          startEvt = e;\n        }\n      },\n      () => {\n        startEvt = null;\n        lineEl.hide();\n        this.moving = false;\n        this.hide();\n        if (this.finishedFn) {\n          if (distance < minDistance) distance = minDistance;\n          this.finishedFn(cRect, distance);\n        }\n      },\n    );\n  }\n}\n","import { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\n\nexport default class Scrollbar {\n  constructor(vertical) {\n    this.vertical = vertical;\n    this.moveFn = null;\n    this.el = h(\n      \"div\",\n      `${cssPrefix}-scrollbar ${vertical ? \"vertical\" : \"horizontal\"}`,\n    )\n      .child((this.contentEl = h(\"div\", \"\")))\n      .on(\"mousemove.stop\", () => {})\n      .on(\"scroll.stop\", (evt) => {\n        const { scrollTop, scrollLeft } = evt.target;\n        // console.log('scrollTop:', scrollTop);\n        if (this.moveFn) {\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\n        }\n        // console.log('evt:::', evt);\n      });\n  }\n\n  move(v) {\n    this.el.scroll(v);\n    return this;\n  }\n\n  scroll() {\n    return this.el.scroll();\n  }\n\n  set(distance, contentDistance) {\n    const d = distance - 1;\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\n    if (contentDistance > d) {\n      const cssKey = this.vertical ? \"height\" : \"width\";\n      // console.log('d:', d);\n      this.el.css(cssKey, `${d - 15}px`).show();\n      this.contentEl\n        .css(this.vertical ? \"width\" : \"height\", \"1px\")\n        .css(cssKey, `${contentDistance}px`);\n    } else {\n      this.el.hide();\n    }\n    return this;\n  }\n}\n","import { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\nimport { CellRange } from \"../core/cell_range\";\n\nconst selectorHeightBorderWidth = 2 * 2 - 1;\nlet startZIndex = 10;\n\nclass SelectorElement {\n  constructor(useHideInput = false, autoFocus = true) {\n    this.useHideInput = useHideInput;\n    this.autoFocus = autoFocus;\n    this.inputChange = () => {};\n    this.cornerEl = h(\"div\", `${cssPrefix}-selector-corner`);\n    this.areaEl = h(\"div\", `${cssPrefix}-selector-area`)\n      .child(this.cornerEl)\n      .hide();\n    this.clipboardEl = h(\"div\", `${cssPrefix}-selector-clipboard`).hide();\n    this.autofillEl = h(\"div\", `${cssPrefix}-selector-autofill`).hide();\n    this.el = h(\"div\", `${cssPrefix}-selector`)\n      .css(\"z-index\", `${startZIndex}`)\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\n      .hide();\n    if (useHideInput) {\n      this.hideInput = h(\"input\", \"\").on(\"compositionend\", (evt) => {\n        this.inputChange(evt.target.value);\n      });\n      this.el.child(\n        (this.hideInputDiv = h(\"div\", \"hide-input\").child(this.hideInput)),\n      );\n      this.el.child(\n        (this.hideInputDiv = h(\"div\", \"hide-input\").child(this.hideInput)),\n      );\n    }\n    startZIndex += 1;\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    return this;\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  setAreaOffset(v) {\n    const { left, top, width, height } = v;\n    const of = {\n      width: width - selectorHeightBorderWidth + 0.8,\n      height: height - selectorHeightBorderWidth + 0.8,\n      left: left - 0.8,\n      top: top - 0.8,\n    };\n    this.areaEl.offset(of).show();\n    if (this.useHideInput) {\n      this.hideInputDiv.offset(of);\n      if (this.autoFocus) {\n        this.hideInput.val(\"\").focus();\n      } else {\n        this.hideInput.val(\"\");\n      }\n    }\n  }\n\n  setClipboardOffset(v) {\n    const { left, top, width, height } = v;\n    this.clipboardEl.offset({\n      left,\n      top,\n      width: width - 5,\n      height: height - 5,\n    });\n  }\n\n  showAutofill(v) {\n    const { left, top, width, height } = v;\n    this.autofillEl\n      .offset({\n        width: width - selectorHeightBorderWidth,\n        height: height - selectorHeightBorderWidth,\n        left,\n        top,\n      })\n      .show();\n  }\n\n  hideAutofill() {\n    this.autofillEl.hide();\n  }\n\n  showClipboard() {\n    this.clipboardEl.show();\n  }\n\n  hideClipboard() {\n    this.clipboardEl.hide();\n  }\n}\n\nfunction calBRAreaOffset(offset) {\n  const { data } = this;\n  const { left, top, width, height, scroll, l, t } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  const ftheight = data.freezeTotalHeight();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  let top0 = top - ftheight;\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: left0,\n    top: top0,\n    width,\n    height,\n  };\n}\n\nfunction calTAreaOffset(offset) {\n  const { data } = this;\n  const { left, width, height, l, t, scroll } = offset;\n  const ftwidth = data.freezeTotalWidth();\n  let left0 = left - ftwidth;\n  if (ftwidth > l) left0 -= scroll.x;\n  return {\n    left: left0,\n    top: t,\n    width,\n    height,\n  };\n}\n\nfunction calLAreaOffset(offset) {\n  const { data } = this;\n  const { top, width, height, l, t, scroll } = offset;\n  const ftheight = data.freezeTotalHeight();\n  let top0 = top - ftheight;\n  // console.log('ftheight:', ftheight, ', t:', t);\n  if (ftheight > t) top0 -= scroll.y;\n  return {\n    left: l,\n    top: top0,\n    width,\n    height,\n  };\n}\n\nfunction setBRAreaOffset(offset) {\n  const { br } = this;\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLAreaOffset(offset) {\n  const { tl } = this;\n  tl.setAreaOffset(offset);\n}\n\nfunction setTAreaOffset(offset) {\n  const { t } = this;\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setLAreaOffset(offset) {\n  const { l } = this;\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setLClipboardOffset(offset) {\n  const { l } = this;\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\n}\n\nfunction setBRClipboardOffset(offset) {\n  const { br } = this;\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\n}\n\nfunction setTLClipboardOffset(offset) {\n  const { tl } = this;\n  tl.setClipboardOffset(offset);\n}\n\nfunction setTClipboardOffset(offset) {\n  const { t } = this;\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\n}\n\nfunction setAllAreaOffset(offset) {\n  setBRAreaOffset.call(this, offset);\n  setTLAreaOffset.call(this, offset);\n  setTAreaOffset.call(this, offset);\n  setLAreaOffset.call(this, offset);\n}\n\nfunction setAllClipboardOffset(offset) {\n  setBRClipboardOffset.call(this, offset);\n  setTLClipboardOffset.call(this, offset);\n  setTClipboardOffset.call(this, offset);\n  setLClipboardOffset.call(this, offset);\n}\n\nexport default class Selector {\n  constructor(data) {\n    const { autoFocus } = data.settings;\n    this.inputChange = () => {};\n    this.data = data;\n    this.br = new SelectorElement(true, autoFocus);\n    this.t = new SelectorElement();\n    this.l = new SelectorElement();\n    this.tl = new SelectorElement();\n    this.br.inputChange = (v) => {\n      this.inputChange(v);\n    };\n    this.br.el.show();\n    this.offset = null;\n    this.areaOffset = null;\n    this.indexes = null;\n    this.range = null;\n    this.arange = null;\n    this.el = h(\"div\", `${cssPrefix}-selectors`)\n      .children(this.tl.el, this.t.el, this.l.el, this.br.el)\n      .hide();\n\n    // for performance\n    this.lastri = -1;\n    this.lastci = -1;\n\n    startZIndex += 1;\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.range = data.selector.range;\n    this.resetAreaOffset();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n\n  resetOffset() {\n    const { data, tl, t, l, br } = this;\n    const freezeHeight = data.freezeTotalHeight();\n    const freezeWidth = data.freezeTotalWidth();\n    if (freezeHeight > 0 || freezeWidth > 0) {\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\n    } else {\n      tl.hide();\n      t.hide();\n      l.hide();\n      br.setOffset({ left: 0, top: 0 });\n    }\n  }\n\n  resetAreaOffset() {\n    // console.log('offset:', offset);\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setAllAreaOffset.call(this, offset);\n    setAllClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRTAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setTAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setTClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  resetBRLAreaOffset() {\n    const offset = this.data.getSelectedRect();\n    const coffset = this.data.getClipboardRect();\n    setBRAreaOffset.call(this, offset);\n    setLAreaOffset.call(this, offset);\n    setBRClipboardOffset.call(this, coffset);\n    setLClipboardOffset.call(this, coffset);\n    this.resetOffset();\n  }\n\n  set(ri, ci, indexesUpdated = true) {\n    const { data } = this;\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\n    const { sri, sci } = cellRange;\n    if (indexesUpdated) {\n      let [cri, cci] = [ri, ci];\n      if (ri < 0) cri = 0;\n      if (ci < 0) cci = 0;\n      data.selector.setIndexes(cri, cci);\n      this.indexes = [cri, cci];\n    }\n\n    this.moveIndexes = [sri, sci];\n    // this.sIndexes = sIndexes;\n    // this.eIndexes = eIndexes;\n    this.range = cellRange;\n    this.resetAreaOffset();\n    this.el.show();\n  }\n\n  setEnd(ri, ci, moving = true) {\n    const { data, lastri, lastci } = this;\n    if (moving) {\n      if (ri === lastri && ci === lastci) return;\n      this.lastri = ri;\n      this.lastci = ci;\n    }\n    this.range = data.calSelectedRangeByEnd(ri, ci);\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\n  }\n\n  reset() {\n    // console.log('::::', this.data);\n    const { eri, eci } = this.data.selector.range;\n    this.setEnd(eri, eci);\n  }\n\n  showAutofill(ri, ci) {\n    if (ri === -1 && ci === -1) return;\n    // console.log('ri:', ri, ', ci:', ci);\n    // const [sri, sci] = this.sIndexes;\n    // const [eri, eci] = this.eIndexes;\n    const { sri, sci, eri, eci } = this.range;\n    const [nri, nci] = [ri, ci];\n    // const rn = eri - sri;\n    // const cn = eci - sci;\n    const srn = sri - ri;\n    const scn = sci - ci;\n    const ern = eri - ri;\n    const ecn = eci - ci;\n    if (scn > 0) {\n      // left\n      // console.log('left');\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\n      // this.saIndexes = [sri, nci];\n      // this.eaIndexes = [eri, sci - 1];\n      // data.calRangeIndexes2(\n    } else if (srn > 0) {\n      // top\n      // console.log('top');\n      // nri = sri;\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\n      // this.saIndexes = [nri, sci];\n      // this.eaIndexes = [sri - 1, eci];\n    } else if (ecn < 0) {\n      // right\n      // console.log('right');\n      // nci = eci;\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\n      // this.saIndexes = [sri, eci + 1];\n      // this.eaIndexes = [eri, nci];\n    } else if (ern < 0) {\n      // bottom\n      // console.log('bottom');\n      // nri = eri;\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\n      // this.saIndexes = [eri + 1, sci];\n      // this.eaIndexes = [nri, eci];\n    } else {\n      // console.log('else:');\n      this.arange = null;\n      // this.saIndexes = null;\n      // this.eaIndexes = null;\n      return;\n    }\n    if (this.arange !== null) {\n      // console.log(this.saIndexes, ':', this.eaIndexes);\n      const offset = this.data.getRect(this.arange);\n      offset.width += 2;\n      offset.height += 2;\n      const { br, l, t, tl } = this;\n      br.showAutofill(calBRAreaOffset.call(this, offset));\n      l.showAutofill(calLAreaOffset.call(this, offset));\n      t.showAutofill(calTAreaOffset.call(this, offset));\n      tl.showAutofill(offset);\n    }\n  }\n\n  hideAutofill() {\n    [\"br\", \"l\", \"t\", \"tl\"].forEach((property) => {\n      this[property].hideAutofill();\n    });\n  }\n\n  showClipboard() {\n    const coffset = this.data.getClipboardRect();\n    setAllClipboardOffset.call(this, coffset);\n    [\"br\", \"l\", \"t\", \"tl\"].forEach((property) => {\n      this[property].showClipboard();\n    });\n  }\n\n  hideClipboard() {\n    [\"br\", \"l\", \"t\", \"tl\"].forEach((property) => {\n      this[property].hideClipboard();\n    });\n  }\n}\n","import { h } from \"./element\";\nimport { bindClickoutside, unbindClickoutside } from \"./event\";\nimport { cssPrefix } from \"../config\";\n\nfunction inputMovePrev(evt) {\n  evt.preventDefault();\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex -= 1;\n  if (this.itemIndex < 0) {\n    this.itemIndex = filterItems.length - 1;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputMoveNext(evt) {\n  evt.stopPropagation();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  if (this.itemIndex >= 0) filterItems[this.itemIndex].toggle();\n  this.itemIndex += 1;\n  if (this.itemIndex > filterItems.length - 1) {\n    this.itemIndex = 0;\n  }\n  filterItems[this.itemIndex].toggle();\n}\n\nfunction inputEnter(evt) {\n  evt.preventDefault();\n  const { filterItems } = this;\n  if (filterItems.length <= 0) return;\n  evt.stopPropagation();\n  if (this.itemIndex < 0) this.itemIndex = 0;\n  filterItems[this.itemIndex].el.click();\n  this.hide();\n}\n\nfunction inputKeydownHandler(evt) {\n  const { keyCode } = evt;\n  if (evt.ctrlKey) {\n    evt.stopPropagation();\n  }\n  switch (keyCode) {\n    case 37: // left\n      evt.stopPropagation();\n      break;\n    case 38: // up\n      inputMovePrev.call(this, evt);\n      break;\n    case 39: // right\n      evt.stopPropagation();\n      break;\n    case 40: // down\n      inputMoveNext.call(this, evt);\n      break;\n    case 13: // enter\n      inputEnter.call(this, evt);\n      break;\n    case 9:\n      inputEnter.call(this, evt);\n      break;\n    default:\n      evt.stopPropagation();\n      break;\n  }\n}\n\nexport default class Suggest {\n  constructor(items, itemClick, width = \"200px\") {\n    this.filterItems = [];\n    this.items = items;\n    this.el = h(\"div\", `${cssPrefix}-suggest`).css(\"width\", width).hide();\n    this.itemClick = itemClick;\n    this.itemIndex = -1;\n  }\n\n  setOffset(v) {\n    this.el.cssRemoveKeys(\"top\", \"bottom\").offset(v);\n  }\n\n  hide() {\n    const { el } = this;\n    this.filterItems = [];\n    this.itemIndex = -1;\n    el.hide();\n    unbindClickoutside(this.el.parent());\n  }\n\n  setItems(items) {\n    this.items = items;\n    // this.search('');\n  }\n\n  search(word) {\n    let { items } = this;\n    if (!/^\\s*$/.test(word)) {\n      items = items.filter((it) =>\n        (it.key || it).startsWith(word.toUpperCase()),\n      );\n    }\n    items = items.map((it) => {\n      let { title } = it;\n      if (title) {\n        if (typeof title === \"function\") {\n          title = title();\n        }\n      } else {\n        title = it;\n      }\n      const item = h(\"div\", `${cssPrefix}-item`)\n        .child(title)\n        .on(\"click.stop\", () => {\n          this.itemClick(it);\n          this.hide();\n        });\n      if (it.label) {\n        item.child(h(\"div\", \"label\").html(it.label));\n      }\n      return item;\n    });\n    this.filterItems = items;\n    if (items.length <= 0) {\n      return;\n    }\n    const { el } = this;\n    // items[0].toggle();\n    el.html(\"\")\n      .children(...items)\n      .show();\n    bindClickoutside(el.parent(), () => {\n      this.hide();\n    });\n  }\n\n  bindInputEvents(input) {\n    input.on(\"keydown\", (evt) => inputKeydownHandler.call(this, evt));\n  }\n}\n","import { Element, h } from \"./element\";\nimport { cssPrefix } from \"../config\";\n\nexport default class Icon extends Element {\n  constructor(name) {\n    super(\"div\", `${cssPrefix}-icon`);\n    this.iconNameEl = h(\"div\", `${cssPrefix}-icon-img ${name}`);\n    this.child(this.iconNameEl);\n  }\n\n  setName(name) {\n    this.iconNameEl.className(`${cssPrefix}-icon-img ${name}`);\n  }\n}\n","import { h } from \"./element\";\nimport Icon from \"./icon\";\nimport { t } from \"../locale/locale\";\n\nfunction addMonth(date, step) {\n  date.setMonth(date.getMonth() + step);\n}\n\nfunction weekday(date, index) {\n  const d = new Date(date);\n  d.setDate(index - date.getDay() + 1);\n  return d;\n}\n\nfunction monthDays(year, month, cdate) {\n  // the first day of month\n  const startDate = new Date(year, month, 1, 23, 59, 59);\n  const datess = [[], [], [], [], [], []];\n  for (let i = 0; i < 6; i += 1) {\n    for (let j = 0; j < 7; j += 1) {\n      const index = i * 7 + j;\n      const d = weekday(startDate, index);\n      const disabled = d.getMonth() !== month;\n      // console.log('d:', d, ', cdate:', cdate);\n      const active =\n        d.getMonth() === cdate.getMonth() && d.getDate() === cdate.getDate();\n      datess[i][j] = { d, disabled, active };\n    }\n  }\n  return datess;\n}\n\nexport default class Calendar {\n  constructor(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n\n    this.headerLeftEl = h(\"div\", \"calendar-header-left\");\n    this.bodyEl = h(\"tbody\", \"\");\n    this.buildAll();\n    this.el = h(\"div\", \"x-spreadsheet-calendar\").children(\n      h(\"div\", \"calendar-header\").children(\n        this.headerLeftEl,\n        h(\"div\", \"calendar-header-right\").children(\n          h(\"a\", \"calendar-prev\")\n            .on(\"click.stop\", () => this.prev())\n            .child(new Icon(\"chevron-left\")),\n          h(\"a\", \"calendar-next\")\n            .on(\"click.stop\", () => this.next())\n            .child(new Icon(\"chevron-right\")),\n        ),\n      ),\n      h(\"table\", \"calendar-body\").children(\n        h(\"thead\", \"\").child(\n          h(\"tr\", \"\").children(\n            ...t(\"calendar.weeks\").map((week) => h(\"th\", \"cell\").child(week)),\n          ),\n        ),\n        this.bodyEl,\n      ),\n    );\n    this.selectChange = () => {};\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.cvalue = new Date(value);\n    this.buildAll();\n  }\n\n  prev() {\n    const { value } = this;\n    addMonth(value, -1);\n    this.buildAll();\n  }\n\n  next() {\n    const { value } = this;\n    addMonth(value, 1);\n    this.buildAll();\n  }\n\n  buildAll() {\n    this.buildHeaderLeft();\n    this.buildBody();\n  }\n\n  buildHeaderLeft() {\n    const { value } = this;\n    this.headerLeftEl.html(\n      `${t(\"calendar.months\")[value.getMonth()]} ${value.getFullYear()}`,\n    );\n  }\n\n  buildBody() {\n    const { value, cvalue, bodyEl } = this;\n    const mDays = monthDays(value.getFullYear(), value.getMonth(), cvalue);\n    const trs = mDays.map((it) => {\n      const tds = it.map((it1) => {\n        let cls = \"cell\";\n        if (it1.disabled) cls += \" disabled\";\n        if (it1.active) cls += \" active\";\n        return h(\"td\", \"\").child(\n          h(\"div\", cls)\n            .on(\"click.stop\", () => {\n              this.selectChange(it1.d);\n            })\n            .child(it1.d.getDate().toString()),\n        );\n      });\n      return h(\"tr\", \"\").children(...tds);\n    });\n    bodyEl.html(\"\").children(...trs);\n  }\n}\n","import Calendar from \"./calendar\";\nimport { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\n\nexport default class Datepicker {\n  constructor() {\n    this.calendar = new Calendar(new Date());\n    this.el = h(\"div\", `${cssPrefix}-datepicker`)\n      .child(this.calendar.el)\n      .hide();\n  }\n\n  setValue(date) {\n    // console.log(':::::::', date, typeof date, date instanceof string);\n    const { calendar } = this;\n    if (typeof date === \"string\") {\n      // console.log(/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date));\n      if (/^\\d{4}-\\d{1,2}-\\d{1,2}$/.test(date)) {\n        calendar.setValue(new Date(date.replace(new RegExp(\"-\", \"g\"), \"/\")));\n      }\n    } else if (date instanceof Date) {\n      calendar.setValue(date);\n    }\n    return this;\n  }\n\n  change(cb) {\n    this.calendar.selectChange = (d) => {\n      cb(d);\n      this.hide();\n    };\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","//* global window */\nimport { h } from \"./element\";\nimport Suggest from \"./suggest\";\nimport Datepicker from \"./datepicker\";\nimport { cssPrefix } from \"../config\";\n// import { mouseMoveUp } from '../event';\n\nfunction resetTextareaSize() {\n  const { inputText } = this;\n  if (!/^\\s*$/.test(inputText)) {\n    const { textlineEl, textEl, areaOffset } = this;\n    const txts = inputText.split(\"\\n\");\n    const maxTxtSize = Math.max(...txts.map((it) => it.length));\n    const tlOffset = textlineEl.offset();\n    const fontWidth = tlOffset.width / inputText.length;\n    const tlineWidth = (maxTxtSize + 1) * fontWidth + 5;\n    const maxWidth = this.viewFn().width - areaOffset.left - fontWidth;\n    let h1 = txts.length;\n    if (tlineWidth > areaOffset.width) {\n      let twidth = tlineWidth;\n      if (tlineWidth > maxWidth) {\n        twidth = maxWidth;\n        h1 += parseInt(tlineWidth / maxWidth, 10);\n        h1 += tlineWidth % maxWidth > 0 ? 1 : 0;\n      }\n      textEl.css(\"width\", `${twidth}px`);\n    }\n    h1 *= this.rowHeight;\n    if (h1 > areaOffset.height) {\n      textEl.css(\"height\", `${h1}px`);\n    }\n  }\n}\n\nfunction insertText({ target }, itxt) {\n  const { value, selectionEnd } = target;\n  const ntxt = `${value.slice(0, selectionEnd)}${itxt}${value.slice(selectionEnd)}`;\n  target.value = ntxt;\n  target.setSelectionRange(selectionEnd + 1, selectionEnd + 1);\n\n  this.inputText = ntxt;\n  this.textlineEl.html(ntxt);\n  resetTextareaSize.call(this);\n}\n\nfunction keydownEventHandler(evt) {\n  const { keyCode, altKey } = evt;\n  if (keyCode !== 13 && keyCode !== 9) evt.stopPropagation();\n  if (keyCode === 13 && altKey) {\n    insertText.call(this, evt, \"\\n\");\n    evt.stopPropagation();\n  }\n  if (keyCode === 13 && !altKey) evt.preventDefault();\n}\n\nfunction inputEventHandler(evt) {\n  const v = evt.target.value;\n  // console.log(evt, 'v:', v);\n  const { suggest, textlineEl, validator } = this;\n  const { cell } = this;\n  if (cell !== null) {\n    if (\n      (\"editable\" in cell && cell.editable === true) ||\n      cell.editable === undefined\n    ) {\n      this.inputText = v;\n      if (validator) {\n        if (validator.type === \"list\") {\n          suggest.search(v);\n        } else {\n          suggest.hide();\n        }\n      } else {\n        const start = v.lastIndexOf(\"=\");\n        if (start !== -1) {\n          suggest.search(v.substring(start + 1));\n        } else {\n          suggest.hide();\n        }\n      }\n      textlineEl.html(v);\n      resetTextareaSize.call(this);\n      this.change(\"input\", v);\n    } else {\n      evt.target.value = cell.text || \"\";\n    }\n  } else {\n    this.inputText = v;\n    if (validator) {\n      if (validator.type === \"list\") {\n        suggest.search(v);\n      } else {\n        suggest.hide();\n      }\n    } else {\n      const start = v.lastIndexOf(\"=\");\n      if (start !== -1) {\n        suggest.search(v.substring(start + 1));\n      } else {\n        suggest.hide();\n      }\n    }\n    textlineEl.html(v);\n    resetTextareaSize.call(this);\n    this.change(\"input\", v);\n  }\n}\n\nfunction setTextareaRange(position) {\n  const { el } = this.textEl;\n  setTimeout(() => {\n    el.focus();\n    el.setSelectionRange(position, position);\n  }, 0);\n}\n\nfunction setText(text, position) {\n  const { textEl, textlineEl } = this;\n  // firefox bug\n  textEl.el.blur();\n\n  textEl.val(text);\n  textlineEl.html(text);\n  setTextareaRange.call(this, position);\n}\n\nfunction suggestItemClick(it) {\n  const { inputText, validator } = this;\n  let position = 0;\n  if (validator && validator.type === \"list\") {\n    this.inputText = it;\n    position = this.inputText.length;\n  } else {\n    const start = inputText.lastIndexOf(\"=\");\n    const sit = inputText.substring(0, start + 1);\n    let eit = inputText.substring(start + 1);\n    if (eit.indexOf(\")\") !== -1) {\n      eit = eit.substring(eit.indexOf(\")\"));\n    } else {\n      eit = \"\";\n    }\n    this.inputText = `${sit + it.key}(`;\n    // console.log('inputText:', this.inputText);\n    position = this.inputText.length;\n    this.inputText += `)${eit}`;\n  }\n  setText.call(this, this.inputText, position);\n}\n\nfunction resetSuggestItems() {\n  this.suggest.setItems(this.formulas);\n}\n\nfunction dateFormat(d) {\n  let month = d.getMonth() + 1;\n  let date = d.getDate();\n  if (month < 10) month = `0${month}`;\n  if (date < 10) date = `0${date}`;\n  return `${d.getFullYear()}-${month}-${date}`;\n}\n\nexport default class Editor {\n  constructor(formulas, viewFn, rowHeight, options = {}) {\n    this.options = options;\n    this.viewFn = viewFn;\n    this.rowHeight = rowHeight;\n    this.formulas = formulas;\n    this.suggest = new Suggest(formulas, (it) => {\n      suggestItemClick.call(this, it);\n    });\n    this.datepicker = new Datepicker();\n    this.datepicker.change((d) => {\n      // console.log('d:', d);\n      this.setText(dateFormat(d));\n      this.clear();\n    });\n    this.areaEl = h(\"div\", `${cssPrefix}-editor-area`)\n      .children(\n        (this.textEl = h(\"textarea\", \"\")\n          .on(\"input\", (evt) => inputEventHandler.call(this, evt))\n          .on(\"paste.stop\", () => {})\n          .on(\"keydown\", (evt) => keydownEventHandler.call(this, evt))),\n        (this.textlineEl = h(\"div\", \"textline\")),\n        this.suggest.el,\n        this.datepicker.el,\n      )\n      .on(\"mousemove.stop\", () => {})\n      .on(\"mousedown.stop\", () => {});\n    this.el = h(\"div\", `${cssPrefix}-editor`).child(this.areaEl).hide();\n    this.suggest.bindInputEvents(this.textEl);\n\n    this.areaOffset = null;\n    this.freeze = { w: 0, h: 0 };\n    this.cell = null;\n    this.inputText = \"\";\n    this.change = () => {};\n  }\n\n  setFreezeLengths(width, height) {\n    this.freeze.w = width;\n    this.freeze.h = height;\n  }\n\n  clear() {\n    // const { cell } = this;\n    // const cellText = (cell && cell.text) || '';\n    if (this.inputText !== \"\") {\n      this.change(\"finished\", this.inputText);\n    }\n    this.cell = null;\n    this.areaOffset = null;\n    this.inputText = \"\";\n    this.el.hide();\n    this.textEl.val(\"\");\n    this.textlineEl.html(\"\");\n    resetSuggestItems.call(this);\n    this.datepicker.hide();\n  }\n\n  setOffset(offset, suggestPosition = \"top\") {\n    const { textEl, areaEl, suggest, freeze, el } = this;\n    if (offset) {\n      this.areaOffset = offset;\n      const { left, top, width, height, l, t } = offset;\n      // console.log('left:', left, ',top:', top, ', freeze:', freeze);\n      const elOffset = { left: 0, top: 0 };\n      // top left\n      if (freeze.w > l && freeze.h > t) {\n        //\n      } else if (freeze.w < l && freeze.h < t) {\n        elOffset.left = freeze.w;\n        elOffset.top = freeze.h;\n      } else if (freeze.w > l) {\n        elOffset.top = freeze.h;\n      } else if (freeze.h > t) {\n        elOffset.left = freeze.w;\n      }\n      el.offset(elOffset);\n      areaEl.offset({\n        left: left - elOffset.left - 0.8,\n        top: top - elOffset.top - 0.8,\n      });\n      textEl.offset({ width: width - 9 + 0.8, height: height - 3 + 0.8 });\n      const sOffset = { left: 0 };\n      sOffset[suggestPosition] = height;\n      suggest.setOffset(sOffset);\n      suggest.hide();\n    }\n  }\n\n  setCell(cell, validator) {\n    if (cell && cell.editable === false) return;\n    const editValueFormatter = this.options.editValueFormatter;\n    // console.log('::', validator);\n    const { el, datepicker, suggest } = this;\n    el.show();\n    this.cell = cell;\n    let text = \"\";\n    if (editValueFormatter) {\n      text =\n        editValueFormatter({ ...this, cell }) ?? ((cell && cell.text) || \"\");\n    } else {\n      text = (cell && cell.text) || \"\";\n    }\n    this.setText(text);\n\n    this.validator = validator;\n    if (validator) {\n      const { type } = validator;\n      if (type === \"date\") {\n        datepicker.show();\n        if (!/^\\s*$/.test(text)) {\n          datepicker.setValue(text);\n        }\n      }\n      if (type === \"list\") {\n        suggest.setItems(validator.values());\n        suggest.search(\"\");\n      }\n    }\n  }\n\n  setText(text) {\n    this.inputText = text;\n    // console.log('text>>:', text);\n    setText.call(this, text, text.length);\n    resetTextareaSize.call(this);\n  }\n}\n","import { Element } from \"./element\";\nimport { cssPrefix } from \"../config\";\nimport { t } from \"../locale/locale\";\n\nexport default class Button extends Element {\n  // type: primary\n  constructor(title, type = \"\") {\n    super(\"div\", `${cssPrefix}-button ${type}`);\n    this.child(t(`button.${title}`));\n  }\n}\n","/* global window */\nfunction dpr() {\n  return window.devicePixelRatio || 1;\n}\n\nfunction thinLineWidth() {\n  return dpr() - 0.5;\n}\n\nfunction npx(px) {\n  return parseInt(px * dpr(), 10);\n}\n\nfunction npxLine(px) {\n  const n = npx(px);\n  return n > 0 ? n - 0.5 : 0.5;\n}\n\nclass DrawBox {\n  constructor(x, y, w, h, padding = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n    this.padding = padding;\n    this.bgcolor = \"#ffffff\";\n    // border: [width, style, color]\n    this.borderTop = null;\n    this.borderRight = null;\n    this.borderBottom = null;\n    this.borderLeft = null;\n  }\n\n  setBorders({ top, bottom, left, right }) {\n    if (top) this.borderTop = top;\n    if (right) this.borderRight = right;\n    if (bottom) this.borderBottom = bottom;\n    if (left) this.borderLeft = left;\n  }\n\n  innerWidth() {\n    return this.width - this.padding * 2 - 2;\n  }\n\n  innerHeight() {\n    return this.height - this.padding * 2 - 2;\n  }\n\n  textx(align) {\n    const { width, padding } = this;\n    let { x } = this;\n    if (align === \"left\") {\n      x += padding;\n    } else if (align === \"center\") {\n      x += width / 2;\n    } else if (align === \"right\") {\n      x += width - padding;\n    }\n    return x;\n  }\n\n  texty(align, h) {\n    const { height, padding } = this;\n    let { y } = this;\n    if (align === \"top\") {\n      y += padding;\n    } else if (align === \"middle\") {\n      y += height / 2 - h / 2;\n    } else if (align === \"bottom\") {\n      y += height - padding - h;\n    }\n    return y;\n  }\n\n  topxys() {\n    const { x, y, width } = this;\n    return [\n      [x, y],\n      [x + width, y],\n    ];\n  }\n\n  rightxys() {\n    const { x, y, width, height } = this;\n    return [\n      [x + width, y],\n      [x + width, y + height],\n    ];\n  }\n\n  bottomxys() {\n    const { x, y, width, height } = this;\n    return [\n      [x, y + height],\n      [x + width, y + height],\n    ];\n  }\n\n  leftxys() {\n    const { x, y, height } = this;\n    return [\n      [x, y],\n      [x, y + height],\n    ];\n  }\n}\n\nfunction drawFontLine(type, tx, ty, align, valign, blheight, blwidth) {\n  const floffset = { x: 0, y: 0 };\n  if (type === \"underline\") {\n    if (valign === \"bottom\") {\n      floffset.y = 0;\n    } else if (valign === \"top\") {\n      floffset.y = -(blheight + 2);\n    } else {\n      floffset.y = -blheight / 2;\n    }\n  } else if (type === \"strike\") {\n    if (valign === \"bottom\") {\n      floffset.y = blheight / 2;\n    } else if (valign === \"top\") {\n      floffset.y = -(blheight / 2 + 2);\n    }\n  }\n\n  if (align === \"center\") {\n    floffset.x = blwidth / 2;\n  } else if (align === \"right\") {\n    floffset.x = blwidth;\n  }\n  this.line(\n    [tx - floffset.x, ty - floffset.y],\n    [tx - floffset.x + blwidth, ty - floffset.y]\n  );\n}\n\nclass Draw {\n  constructor(el, width, height, options = {}) {\n    this.options = options;\n    this.el = el;\n    this.ctx = el.getContext(\"2d\");\n    this.resize(width, height);\n    this.ctx.scale(dpr(), dpr());\n    this.numberRegexObject = {\n      \",\": /^[+-]?[0-9,]*(\\.[0-9,]*)?$/,\n      \".\": /^[+-]?[0-9.]*(\\,[0-9.]*)?$/,\n      \"'\": /^[+-]?[0-9']*(\\.[0-9']*)?$/,\n    };\n  }\n\n  resize(width, height) {\n    // console.log('dpr:', dpr);\n    this.el.style.width = `${width}px`;\n    this.el.style.height = `${height}px`;\n    this.el.width = npx(width);\n    this.el.height = npx(height);\n  }\n\n  clear() {\n    const { width, height } = this.el;\n    this.ctx.clearRect(0, 0, width, height);\n    return this;\n  }\n\n  attr(options) {\n    Object.assign(this.ctx, options);\n    return this;\n  }\n\n  save() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    return this;\n  }\n\n  restore() {\n    this.ctx.restore();\n    return this;\n  }\n\n  beginPath() {\n    this.ctx.beginPath();\n    return this;\n  }\n\n  translate(x, y) {\n    this.ctx.translate(npx(x), npx(y));\n    return this;\n  }\n\n  scale(x, y) {\n    this.ctx.scale(x, y);\n    return this;\n  }\n\n  clearRect(x, y, w, h) {\n    this.ctx.clearRect(x, y, w, h);\n    return this;\n  }\n\n  fillRect(x, y, w, h) {\n    this.ctx.fillRect(npx(x) - 0.5, npx(y) - 0.5, npx(w), npx(h));\n    return this;\n  }\n\n  fillText(text, x, y) {\n    this.ctx.fillText(text, npx(x), npx(y));\n    return this;\n  }\n\n  /*\n    txt: render text\n    box: DrawBox\n    attr: {\n      align: left | center | right\n      valign: top | middle | bottom\n      color: '#333333',\n      strike: false,\n      font: {\n        name: 'Arial',\n        size: 14,\n        bold: false,\n        italic: false,\n      }\n    }\n    textWrap: text wrapping\n  */\n  textConfigOperation(text, cellMeta) {\n    if (text) {\n      const valueFormatter = this.options.valueFormatter;\n      const numberConfig = this.options.numberConfig ?? {};\n      if (valueFormatter) {\n        text = valueFormatter({ ...this, value: text, cellMeta }) ?? text;\n      }\n      const { zeroReplacer, groupingSymbol } = numberConfig;\n      if (zeroReplacer) {\n        const regEx = this.numberRegexObject[groupingSymbol ?? \",\"];\n        if (regEx.test(text)) {\n          const izZero = !parseFloat(text);\n          if (izZero) {\n            text = zeroReplacer;\n          }\n        }\n      }\n    }\n    return text;\n  }\n\n  text(mtxt, box, attr = {}, textWrap = true, cellMeta = {}) {\n    mtxt = this.textConfigOperation(mtxt, cellMeta);\n    const { ctx } = this;\n    const { align, valign, font, color, strike, underline } = attr;\n    const tx = box.textx(align);\n    ctx.save();\n    ctx.beginPath();\n    this.attr({\n      textAlign: align,\n      textBaseline: valign,\n      font: `${font.italic ? \"italic\" : \"\"} ${font.bold ? \"bold\" : \"\"} ${npx(font.size)}px ${font.name}`,\n      fillStyle: color,\n      strokeStyle: color,\n    });\n    const txts = `${mtxt}`.split(\"\\n\");\n    const biw = box.innerWidth();\n    const ntxts = [];\n    txts.forEach((it) => {\n      const txtWidth = ctx.measureText(it).width;\n      if (textWrap && txtWidth > npx(biw)) {\n        let textLine = { w: 0, len: 0, start: 0 };\n        for (let i = 0; i < it.length; i += 1) {\n          if (textLine.w >= npx(biw)) {\n            ntxts.push(it.substr(textLine.start, textLine.len));\n            textLine = { w: 0, len: 0, start: i };\n          }\n          textLine.len += 1;\n          textLine.w += ctx.measureText(it[i]).width + 1;\n        }\n        if (textLine.len > 0) {\n          ntxts.push(it.substr(textLine.start, textLine.len));\n        }\n      } else {\n        ntxts.push(it);\n      }\n    });\n    const txtHeight = (ntxts.length - 1) * (font.size + 2);\n    let ty = box.texty(valign, txtHeight);\n    ntxts.forEach((txt) => {\n      const txtWidth = ctx.measureText(txt).width;\n      this.fillText(txt, tx, ty);\n      if (strike) {\n        drawFontLine.call(\n          this,\n          \"strike\",\n          tx,\n          ty,\n          align,\n          valign,\n          font.size,\n          txtWidth\n        );\n      }\n      if (underline) {\n        drawFontLine.call(\n          this,\n          \"underline\",\n          tx,\n          ty,\n          align,\n          valign,\n          font.size,\n          txtWidth\n        );\n      }\n      ty += font.size + 2;\n    });\n    ctx.restore();\n    return this;\n  }\n\n  border(style, color) {\n    const { ctx } = this;\n    ctx.lineWidth = thinLineWidth;\n    ctx.strokeStyle = color;\n    // console.log('style:', style);\n    if (style === \"medium\") {\n      ctx.lineWidth = npx(2) - 0.5;\n    } else if (style === \"thick\") {\n      ctx.lineWidth = npx(3);\n    } else if (style === \"dashed\") {\n      ctx.setLineDash([npx(3), npx(2)]);\n    } else if (style === \"dotted\") {\n      ctx.setLineDash([npx(1), npx(1)]);\n    } else if (style === \"double\") {\n      ctx.setLineDash([npx(2), 0]);\n    }\n    return this;\n  }\n\n  line(...xys) {\n    const { ctx } = this;\n    if (xys.length > 1) {\n      ctx.beginPath();\n      const [x, y] = xys[0];\n      ctx.moveTo(npxLine(x), npxLine(y));\n      for (let i = 1; i < xys.length; i += 1) {\n        const [x1, y1] = xys[i];\n        ctx.lineTo(npxLine(x1), npxLine(y1));\n      }\n      ctx.stroke();\n    }\n    return this;\n  }\n\n  strokeBorders(box) {\n    const { ctx } = this;\n    ctx.save();\n    // border\n    const { borderTop, borderRight, borderBottom, borderLeft } = box;\n    if (borderTop) {\n      this.border(...borderTop);\n      // console.log('box.topxys:', box.topxys());\n      this.line(...box.topxys());\n    }\n    if (borderRight) {\n      this.border(...borderRight);\n      this.line(...box.rightxys());\n    }\n    if (borderBottom) {\n      this.border(...borderBottom);\n      this.line(...box.bottomxys());\n    }\n    if (borderLeft) {\n      this.border(...borderLeft);\n      this.line(...box.leftxys());\n    }\n    ctx.restore();\n  }\n\n  dropdown(box) {\n    const { ctx } = this;\n    const { x, y, width, height } = box;\n    const sx = x + width - 15;\n    const sy = y + height - 15;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx), npx(sy));\n    ctx.lineTo(npx(sx + 8), npx(sy));\n    ctx.lineTo(npx(sx + 4), npx(sy + 6));\n    ctx.closePath();\n    ctx.fillStyle = \"rgba(0, 0, 0, .45)\";\n    ctx.fill();\n    ctx.restore();\n  }\n\n  error(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = \"rgba(255, 0, 0, .65)\";\n    ctx.fill();\n    ctx.restore();\n  }\n\n  frozen(box) {\n    const { ctx } = this;\n    const { x, y, width } = box;\n    const sx = x + width - 1;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y - 1));\n    ctx.lineTo(npx(sx), npx(y + 8));\n    ctx.closePath();\n    ctx.fillStyle = \"rgba(0, 255, 0, .85)\";\n    ctx.fill();\n    ctx.restore();\n  }\n\n  rect(box, dtextcb) {\n    const { ctx } = this;\n    const { x, y, width, height, bgcolor } = box;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = bgcolor || \"#fff\";\n    ctx.rect(npxLine(x + 1), npxLine(y + 1), npx(width - 2), npx(height - 2));\n    ctx.clip();\n    ctx.fill();\n    dtextcb();\n    ctx.restore();\n  }\n}\n\nexport default {};\nexport { Draw, DrawBox, thinLineWidth, npx };\n","// docs\nimport \"./_.prototypes\";\n\n/** default font list\n * @type {BaseFont[]}\n */\nconst baseFonts = [\n  { key: \"Arial\", title: \"Arial\" },\n  { key: \"Helvetica\", title: \"Helvetica\" },\n  { key: \"Source Sans Pro\", title: \"Source Sans Pro\" },\n  { key: \"Comic Sans MS\", title: \"Comic Sans MS\" },\n  { key: \"Courier New\", title: \"Courier New\" },\n  { key: \"Verdana\", title: \"Verdana\" },\n  { key: \"Lato\", title: \"Lato\" },\n];\n\n/** default fontSize list\n * @type {FontSize[]}\n */\nconst fontSizes = [\n  { pt: 7.5, px: 10 },\n  { pt: 8, px: 11 },\n  { pt: 9, px: 12 },\n  { pt: 10, px: 13 },\n  { pt: 10.5, px: 14 },\n  { pt: 11, px: 15 },\n  { pt: 12, px: 16 },\n  { pt: 14, px: 18.7 },\n  { pt: 15, px: 20 },\n  { pt: 16, px: 21.3 },\n  { pt: 18, px: 24 },\n  { pt: 22, px: 29.3 },\n  { pt: 24, px: 32 },\n  { pt: 26, px: 34.7 },\n  { pt: 36, px: 48 },\n  { pt: 42, px: 56 },\n  // { pt: 54, px: 71.7 },\n  // { pt: 63, px: 83.7 },\n  // { pt: 72, px: 95.6 },\n];\n\n/** map pt to px\n * @date 2019-10-10\n * @param {fontsizePT} pt\n * @returns {fontsizePX}\n */\nfunction getFontSizePxByPt(pt) {\n  for (let i = 0; i < fontSizes.length; i += 1) {\n    const fontSize = fontSizes[i];\n    if (fontSize.pt === pt) {\n      return fontSize.px;\n    }\n  }\n  return pt;\n}\n\n/** transform baseFonts to map\n * @date 2019-10-10\n * @param {BaseFont[]} [ary=[]]\n * @returns {object}\n */\nfunction fonts(ary = []) {\n  const map = {};\n  baseFonts.concat(ary).forEach((f) => {\n    map[f.key] = f;\n  });\n  return map;\n}\n\nexport default {};\nexport { fontSizes, fonts, baseFonts, getFontSizePxByPt };\n","var _errors;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var ERROR = 'ERROR';\nexport var ERROR_DIV_ZERO = 'DIV/0';\nexport var ERROR_NAME = 'NAME';\nexport var ERROR_NOT_AVAILABLE = 'N/A';\nexport var ERROR_NULL = 'NULL';\nexport var ERROR_NUM = 'NUM';\nexport var ERROR_REF = 'REF';\nexport var ERROR_VALUE = 'VALUE';\nvar errors = (_errors = {}, _defineProperty(_errors, ERROR, '#ERROR!'), _defineProperty(_errors, ERROR_DIV_ZERO, '#DIV/0!'), _defineProperty(_errors, ERROR_NAME, '#NAME?'), _defineProperty(_errors, ERROR_NOT_AVAILABLE, '#N/A'), _defineProperty(_errors, ERROR_NULL, '#NULL!'), _defineProperty(_errors, ERROR_NUM, '#NUM!'), _defineProperty(_errors, ERROR_REF, '#REF!'), _defineProperty(_errors, ERROR_VALUE, '#VALUE!'), _errors);\n/**\n * Return error type based on provided error id.\n *\n * @param {String} type Error type.\n * @returns {String|null} Returns error id.\n */\n\nexport default function error(type) {\n  var result;\n  type = (type + '').replace(/#|!|\\?/g, '');\n\n  if (errors[type]) {\n    result = errors[type];\n  }\n\n  return result ? result : null;\n}\n/**\n * Check if error type is strict valid with knows errors.\n *\n * @param {String} Error type.\n * @return {Boolean}\n */\n\nexport function isValidStrict(type) {\n  var valid = false;\n\n  for (var i in errors) {\n    if (Object.prototype.hasOwnProperty.call(errors, i) && errors[i] === type) {\n      valid = true;\n      break;\n    }\n  }\n\n  return valid;\n}","/**\n * Convert value into number.\n *\n * @param {String|Number} number\n * @returns {*}\n */\nexport function toNumber(number) {\n  var result;\n\n  if (typeof number === 'number') {\n    result = number;\n  } else if (typeof number === 'string') {\n    result = number.indexOf('.') > -1 ? parseFloat(number) : parseInt(number, 10);\n  }\n\n  return result;\n}\n/**\n * Invert provided number.\n *\n * @param {Number} number\n * @returns {Number} Returns inverted number.\n */\n\nexport function invertNumber(number) {\n  return -1 * toNumber(number);\n}","import { toNumber } from \"./../../helper/number.mjs\";\nimport { ERROR_VALUE } from \"./../../error.mjs\";\nexport var SYMBOL = '+';\nexport default function func(first) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc + toNumber(value);\n  }, toNumber(first));\n\n  if (isNaN(result)) {\n    throw Error(ERROR_VALUE);\n  }\n\n  return result;\n}\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '&';\nexport default function func() {\n  for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n    params[_key] = arguments[_key];\n  }\n\n  return params.reduce(function (acc, value) {\n    return acc + value.toString();\n  }, '');\n}\nfunc.SYMBOL = SYMBOL;","import { toNumber } from \"./../../helper/number.mjs\";\nimport { ERROR_DIV_ZERO, ERROR_VALUE } from \"./../../error.mjs\";\nexport var SYMBOL = '/';\nexport default function func(first) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc / toNumber(value);\n  }, toNumber(first));\n\n  if (result === Infinity) {\n    throw Error(ERROR_DIV_ZERO);\n  }\n\n  if (isNaN(result)) {\n    throw Error(ERROR_VALUE);\n  }\n\n  return result;\n}\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '=';\nexport default function func(exp1, exp2) {\n  return exp1 === exp2;\n}\nfunc.SYMBOL = SYMBOL;","var SUPPORTED_FORMULAS = ['ABS', 'ACCRINT', 'ACOS', 'ACOSH', 'ACOT', 'ACOTH', 'ADD', 'AGGREGATE', 'AND', 'ARABIC', 'ARGS2ARRAY', 'ASIN', 'ASINH', 'ATAN', 'ATAN2', 'ATANH', 'AVEDEV', 'AVERAGE', 'AVERAGEA', 'AVERAGEIF', 'AVERAGEIFS', 'BASE', 'BESSELI', 'BESSELJ', 'BESSELK', 'BESSELY', 'BETA.DIST', 'BETA.INV', 'BETADIST', 'BETAINV', 'BIN2DEC', 'BIN2HEX', 'BIN2OCT', 'BINOM.DIST', 'BINOM.DIST.RANGE', 'BINOM.INV', 'BINOMDIST', 'BITAND', 'BITLSHIFT', 'BITOR', 'BITRSHIFT', 'BITXOR', 'CEILING', 'CEILINGMATH', 'CEILINGPRECISE', 'CHAR', 'CHISQ.DIST', 'CHISQ.DIST.RT', 'CHISQ.INV', 'CHISQ.INV.RT', 'CHOOSE', 'CHOOSE', 'CLEAN', 'CODE', 'COLUMN', 'COLUMNS', 'COMBIN', 'COMBINA', 'COMPLEX', 'CONCATENATE', 'CONFIDENCE', 'CONFIDENCE.NORM', 'CONFIDENCE.T', 'CONVERT', 'CORREL', 'COS', 'COSH', 'COT', 'COTH', 'COUNT', 'COUNTA', 'COUNTBLANK', 'COUNTIF', 'COUNTIFS', 'COUNTIN', 'COUNTUNIQUE', 'COVARIANCE.P', 'COVARIANCE.S', 'CSC', 'CSCH', 'CUMIPMT', 'CUMPRINC', 'DATE', 'DATEVALUE', 'DAY', 'DAYS', 'DAYS360', 'DB', 'DDB', 'DEC2BIN', 'DEC2HEX', 'DEC2OCT', 'DECIMAL', 'DEGREES', 'DELTA', 'DEVSQ', 'DIVIDE', 'DOLLARDE', 'DOLLARFR', 'E', 'EDATE', 'EFFECT', 'EOMONTH', 'EQ', 'ERF', 'ERFC', 'EVEN', 'EXACT', 'EXP', 'EXPON.DIST', 'EXPONDIST', 'F.DIST', 'F.DIST.RT', 'F.INV', 'F.INV.RT', 'FACT', 'FACTDOUBLE', 'FALSE', 'FDIST', 'FDISTRT', 'FIND', 'FINV', 'FINVRT', 'FISHER', 'FISHERINV', 'FLATTEN', 'FLOOR', 'FORECAST', 'FREQUENCY', 'FV', 'FVSCHEDULE', 'GAMMA', 'GAMMA.DIST', 'GAMMA.INV', 'GAMMADIST', 'GAMMAINV', 'GAMMALN', 'GAMMALN.PRECISE', 'GAUSS', 'GCD', 'GEOMEAN', 'GESTEP', 'GROWTH', 'GTE', 'HARMEAN', 'HEX2BIN', 'HEX2DEC', 'HEX2OCT', 'HOUR', 'HTML2TEXT', 'HYPGEOM.DIST', 'HYPGEOMDIST', 'IF', 'IMABS', 'IMAGINARY', 'IMARGUMENT', 'IMCONJUGATE', 'IMCOS', 'IMCOSH', 'IMCOT', 'IMCSC', 'IMCSCH', 'IMDIV', 'IMEXP', 'IMLN', 'IMLOG10', 'IMLOG2', 'IMPOWER', 'IMPRODUCT', 'IMREAL', 'IMSEC', 'IMSECH', 'IMSIN', 'IMSINH', 'IMSQRT', 'IMSUB', 'IMSUM', 'IMTAN', 'INT', 'INTERCEPT', 'INTERVAL', 'IPMT', 'IRR', 'ISBINARY', 'ISBLANK', 'ISEVEN', 'ISLOGICAL', 'ISNONTEXT', 'ISNUMBER', 'ISODD', 'ISODD', 'ISOWEEKNUM', 'ISPMT', 'ISTEXT', 'JOIN', 'KURT', 'LARGE', 'LCM', 'LEFT', 'LEN', 'LINEST', 'LN', 'LOG', 'LOG10', 'LOGEST', 'LOGNORM.DIST', 'LOGNORM.INV', 'LOGNORMDIST', 'LOGNORMINV', 'LOWER', 'LT', 'LTE', 'MATCH', 'MAX', 'MAXA', 'MEDIAN', 'MID', 'MIN', 'MINA', 'MINUS', 'MINUTE', 'MIRR', 'MOD', 'MODE.MULT', 'MODE.SNGL', 'MODEMULT', 'MODESNGL', 'MONTH', 'MROUND', 'MULTINOMIAL', 'MULTIPLY', 'NE', 'NEGBINOM.DIST', 'NEGBINOMDIST', 'NETWORKDAYS', 'NOMINAL', 'NORM.DIST', 'NORM.INV', 'NORM.S.DIST', 'NORM.S.INV', 'NORMDIST', 'NORMINV', 'NORMSDIST', 'NORMSINV', 'NOT', 'NOW', 'NPER', 'NPV', 'NUMBERS', 'OCT2BIN', 'OCT2DEC', 'OCT2HEX', 'ODD', 'OR', 'PDURATION', 'PEARSON', 'PERCENTILEEXC', 'PERCENTILEINC', 'PERCENTRANKEXC', 'PERCENTRANKINC', 'PERMUT', 'PERMUTATIONA', 'PHI', 'PI', 'PMT', 'POISSON.DIST', 'POISSONDIST', 'POW', 'POWER', 'PPMT', 'PROB', 'PRODUCT', 'PROPER', 'PV', 'QUARTILE.EXC', 'QUARTILE.INC', 'QUARTILEEXC', 'QUARTILEINC', 'QUOTIENT', 'RADIANS', 'RAND', 'RANDBETWEEN', 'RANK.AVG', 'RANK.EQ', 'RANKAVG', 'RANKEQ', 'RATE', 'REFERENCE', 'REGEXEXTRACT', 'REGEXMATCH', 'REGEXREPLACE', 'REPLACE', 'REPT', 'RIGHT', 'ROMAN', 'ROUND', 'ROUNDDOWN', 'ROUNDUP', 'ROW', 'ROWS', 'RRI', 'RSQ', 'SEARCH', 'SEC', 'SECH', 'SECOND', 'SERIESSUM', 'SIGN', 'SIN', 'SINH', 'SKEW', 'SKEW.P', 'SKEWP', 'SLN', 'SLOPE', 'SMALL', 'SPLIT', 'SPLIT', 'SQRT', 'SQRTPI', 'STANDARDIZE', 'STDEV.P', 'STDEV.S', 'STDEVA', 'STDEVP', 'STDEVPA', 'STDEVS', 'STEYX', 'SUBSTITUTE', 'SUBTOTAL', 'SUM', 'SUMIF', 'SUMIFS', 'SUMPRODUCT', 'SUMSQ', 'SUMX2MY2', 'SUMX2PY2', 'SUMXMY2', 'SWITCH', 'SYD', 'T', 'T.DIST', 'T.DIST.2T', 'T.DIST.RT', 'T.INV', 'T.INV.2T', 'TAN', 'TANH', 'TBILLEQ', 'TBILLPRICE', 'TBILLYIELD', 'TDIST', 'TDIST2T', 'TDISTRT', 'TIME', 'TIMEVALUE', 'TINV', 'TINV2T', 'TODAY', 'TRANSPOSE', 'TREND', 'TRIM', 'TRIMMEAN', 'TRUE', 'TRUNC', 'UNICHAR', 'UNICODE', 'UNIQUE', 'UPPER', 'VAR.P', 'VAR.S', 'VARA', 'VARP', 'VARPA', 'VARS', 'WEEKDAY', 'WEEKNUM', 'WEIBULL.DIST', 'WEIBULLDIST', 'WORKDAY', 'XIRR', 'XNPV', 'XOR', 'YEAR', 'YEARFRAC'];\nexport default SUPPORTED_FORMULAS;","import formulajs from '@handsontable/formulajs';\nimport SUPPORTED_FORMULAS from \"./../../supported-formulas.mjs\";\nimport { ERROR_NAME } from \"./../../error.mjs\";\nexport var SYMBOL = SUPPORTED_FORMULAS;\nexport default function func(symbol) {\n  return function __formulaFunction() {\n    symbol = symbol.toUpperCase();\n    var symbolParts = symbol.split('.');\n    var foundFormula = false;\n    var result;\n\n    if (symbolParts.length === 1) {\n      if (formulajs[symbolParts[0]]) {\n        foundFormula = true;\n        result = formulajs[symbolParts[0]].apply(formulajs, arguments);\n      }\n    } else {\n      var length = symbolParts.length;\n      var index = 0;\n      var nestedFormula = formulajs;\n\n      while (index < length) {\n        nestedFormula = nestedFormula[symbolParts[index]];\n        index++;\n\n        if (!nestedFormula) {\n          nestedFormula = null;\n          break;\n        }\n      }\n\n      if (nestedFormula) {\n        foundFormula = true;\n        result = nestedFormula.apply(void 0, arguments);\n      }\n    }\n\n    if (!foundFormula) {\n      throw Error(ERROR_NAME);\n    }\n\n    return result;\n  };\n}\nfunc.isFactory = true;\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '>';\nexport default function func(exp1, exp2) {\n  return exp1 > exp2;\n}\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '>=';\nexport default function func(exp1, exp2) {\n  return exp1 >= exp2;\n}\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '<';\nexport default function func(exp1, exp2) {\n  return exp1 < exp2;\n}\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '<=';\nexport default function func(exp1, exp2) {\n  return exp1 <= exp2;\n}\nfunc.SYMBOL = SYMBOL;","import { toNumber } from \"./../../helper/number.mjs\";\nimport { ERROR_VALUE } from \"./../../error.mjs\";\nexport var SYMBOL = '-';\nexport default function func(first) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc - toNumber(value);\n  }, toNumber(first));\n\n  if (isNaN(result)) {\n    throw Error(ERROR_VALUE);\n  }\n\n  return result;\n}\nfunc.SYMBOL = SYMBOL;","import { toNumber } from \"./../../helper/number.mjs\";\nimport { ERROR_VALUE } from \"./../../error.mjs\";\nexport var SYMBOL = '*';\nexport default function func(first) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  var result = rest.reduce(function (acc, value) {\n    return acc * toNumber(value);\n  }, toNumber(first));\n\n  if (isNaN(result)) {\n    throw Error(ERROR_VALUE);\n  }\n\n  return result;\n}\nfunc.SYMBOL = SYMBOL;","export var SYMBOL = '<>';\nexport default function func(exp1, exp2) {\n  return exp1 !== exp2;\n}\nfunc.SYMBOL = SYMBOL;","import { toNumber } from \"./../../helper/number.mjs\";\nimport { ERROR_VALUE } from \"./../../error.mjs\";\nexport var SYMBOL = '^';\nexport default function func(exp1, exp2) {\n  var result = Math.pow(toNumber(exp1), toNumber(exp2));\n\n  if (isNaN(result)) {\n    throw Error(ERROR_VALUE);\n  }\n\n  return result;\n}\nfunc.SYMBOL = SYMBOL;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* eslint-disable import/no-named-as-default-member */\nimport add from \"./operator/add.mjs\";\nimport ampersand from \"./operator/ampersand.mjs\";\nimport divide from \"./operator/divide.mjs\";\nimport equal from \"./operator/equal.mjs\";\nimport formulaFunction from \"./operator/formula-function.mjs\";\nimport greaterThan from \"./operator/greater-than.mjs\";\nimport greaterThanOrEqual from \"./operator/greater-than-or-equal.mjs\";\nimport lessThan from \"./operator/less-than.mjs\";\nimport lessThanOrEqual from \"./operator/less-than-or-equal.mjs\";\nimport minus from \"./operator/minus.mjs\";\nimport multiply from \"./operator/multiply.mjs\";\nimport notEqual from \"./operator/not-equal.mjs\";\nimport power from \"./operator/power.mjs\";\nimport { ERROR_NAME } from \"./../error.mjs\";\nvar availableOperators = Object.create(null);\n/**\n * Evaluate values by operator id.git\n *\n * @param {String} operator Operator id.\n * @param {Array} [params=[]] Arguments to evaluate.\n * @returns {*}\n */\n\nexport default function evaluateByOperator(operator) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  operator = operator.toUpperCase();\n\n  if (!availableOperators[operator]) {\n    throw Error(ERROR_NAME);\n  }\n\n  return availableOperators[operator].apply(availableOperators, _toConsumableArray(params));\n}\n/**\n * Register operator.\n *\n * @param {String|Array} symbol Symbol to register.\n * @param {Function} func Logic to register for this symbol.\n */\n\nexport function registerOperation(symbol, func) {\n  if (!Array.isArray(symbol)) {\n    symbol = [symbol.toUpperCase()];\n  }\n\n  symbol.forEach(function (s) {\n    if (func.isFactory) {\n      availableOperators[s] = func(s);\n    } else {\n      availableOperators[s] = func;\n    }\n  });\n}\nregisterOperation(add.SYMBOL, add);\nregisterOperation(ampersand.SYMBOL, ampersand);\nregisterOperation(divide.SYMBOL, divide);\nregisterOperation(equal.SYMBOL, equal);\nregisterOperation(power.SYMBOL, power);\nregisterOperation(formulaFunction.SYMBOL, formulaFunction);\nregisterOperation(greaterThan.SYMBOL, greaterThan);\nregisterOperation(greaterThanOrEqual.SYMBOL, greaterThanOrEqual);\nregisterOperation(lessThan.SYMBOL, lessThan);\nregisterOperation(lessThanOrEqual.SYMBOL, lessThanOrEqual);\nregisterOperation(multiply.SYMBOL, multiply);\nregisterOperation(notEqual.SYMBOL, notEqual);\nregisterOperation(minus.SYMBOL, minus);","/* parser generated by jison 0.4.18 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar o = function o(k, v, _o, l) {\n  for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n    ;\n  }\n\n  return _o;\n},\n    $V0 = [1, 5],\n    $V1 = [1, 8],\n    $V2 = [1, 6],\n    $V3 = [1, 7],\n    $V4 = [1, 9],\n    $V5 = [1, 14],\n    $V6 = [1, 15],\n    $V7 = [1, 16],\n    $V8 = [1, 12],\n    $V9 = [1, 13],\n    $Va = [1, 17],\n    $Vb = [1, 19],\n    $Vc = [1, 20],\n    $Vd = [1, 21],\n    $Ve = [1, 22],\n    $Vf = [1, 23],\n    $Vg = [1, 24],\n    $Vh = [1, 25],\n    $Vi = [1, 26],\n    $Vj = [1, 27],\n    $Vk = [1, 28],\n    $Vl = [5, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 29, 30],\n    $Vm = [5, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 29, 30, 32],\n    $Vn = [5, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 29, 30, 34],\n    $Vo = [5, 10, 11, 13, 14, 15, 16, 17, 29, 30],\n    $Vp = [5, 10, 13, 14, 15, 16, 29, 30],\n    $Vq = [5, 10, 11, 13, 14, 15, 16, 17, 18, 19, 29, 30],\n    $Vr = [13, 29, 30];\n\nvar parser = {\n  trace: function trace() {},\n  yy: {},\n  symbols_: {\n    \"error\": 2,\n    \"expressions\": 3,\n    \"expression\": 4,\n    \"EOF\": 5,\n    \"variableSequence\": 6,\n    \"number\": 7,\n    \"STRING\": 8,\n    \"&\": 9,\n    \"=\": 10,\n    \"+\": 11,\n    \"(\": 12,\n    \")\": 13,\n    \"<\": 14,\n    \">\": 15,\n    \"NOT\": 16,\n    \"-\": 17,\n    \"*\": 18,\n    \"/\": 19,\n    \"^\": 20,\n    \"FUNCTION\": 21,\n    \"expseq\": 22,\n    \"cell\": 23,\n    \"ABSOLUTE_CELL\": 24,\n    \"RELATIVE_CELL\": 25,\n    \"MIXED_CELL\": 26,\n    \":\": 27,\n    \"ARRAY\": 28,\n    \";\": 29,\n    \",\": 30,\n    \"VARIABLE\": 31,\n    \"DECIMAL\": 32,\n    \"NUMBER\": 33,\n    \"%\": 34,\n    \"ERROR\": 35,\n    \"$accept\": 0,\n    \"$end\": 1\n  },\n  terminals_: {\n    5: \"EOF\",\n    8: \"STRING\",\n    9: \"&\",\n    10: \"=\",\n    11: \"+\",\n    12: \"(\",\n    13: \")\",\n    14: \"<\",\n    15: \">\",\n    16: \"NOT\",\n    17: \"-\",\n    18: \"*\",\n    19: \"/\",\n    20: \"^\",\n    21: \"FUNCTION\",\n    24: \"ABSOLUTE_CELL\",\n    25: \"RELATIVE_CELL\",\n    26: \"MIXED_CELL\",\n    27: \":\",\n    28: \"ARRAY\",\n    29: \";\",\n    30: \",\",\n    31: \"VARIABLE\",\n    32: \"DECIMAL\",\n    33: \"NUMBER\",\n    34: \"%\",\n    35: \"ERROR\"\n  },\n  productions_: [0, [3, 2], [4, 1], [4, 1], [4, 1], [4, 3], [4, 3], [4, 3], [4, 3], [4, 4], [4, 4], [4, 4], [4, 3], [4, 3], [4, 3], [4, 3], [4, 3], [4, 3], [4, 3], [4, 2], [4, 2], [4, 3], [4, 4], [4, 1], [4, 1], [4, 2], [23, 1], [23, 1], [23, 1], [23, 3], [23, 3], [23, 3], [23, 3], [23, 3], [23, 3], [23, 3], [23, 3], [23, 3], [22, 1], [22, 1], [22, 3], [22, 3], [6, 1], [6, 3], [7, 1], [7, 3], [7, 2], [2, 1]],\n  performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n  /* action[1] */\n  , $$\n  /* vstack */\n  , _$\n  /* lstack */\n  ) {\n    /* this == yyval */\n    var $0 = $$.length - 1;\n\n    switch (yystate) {\n      case 1:\n        return $$[$0 - 1];\n        break;\n\n      case 2:\n        this.$ = yy.callVariable($$[$0][0]);\n        break;\n\n      case 3:\n        this.$ = yy.toNumber($$[$0]);\n        break;\n\n      case 4:\n        this.$ = yy.trimEdges($$[$0]);\n        break;\n\n      case 5:\n        this.$ = yy.evaluateByOperator('&', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 6:\n        this.$ = yy.evaluateByOperator('=', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 7:\n        this.$ = yy.evaluateByOperator('+', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 8:\n        this.$ = $$[$0 - 1];\n        break;\n\n      case 9:\n        this.$ = yy.evaluateByOperator('<=', [$$[$0 - 3], $$[$0]]);\n        break;\n\n      case 10:\n        this.$ = yy.evaluateByOperator('>=', [$$[$0 - 3], $$[$0]]);\n        break;\n\n      case 11:\n        this.$ = yy.evaluateByOperator('<>', [$$[$0 - 3], $$[$0]]);\n        break;\n\n      case 12:\n        this.$ = yy.evaluateByOperator('NOT', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 13:\n        this.$ = yy.evaluateByOperator('>', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 14:\n        this.$ = yy.evaluateByOperator('<', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 15:\n        this.$ = yy.evaluateByOperator('-', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 16:\n        this.$ = yy.evaluateByOperator('*', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 17:\n        this.$ = yy.evaluateByOperator('/', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 18:\n        this.$ = yy.evaluateByOperator('^', [$$[$0 - 2], $$[$0]]);\n        break;\n\n      case 19:\n        var n1 = yy.invertNumber($$[$0]);\n        this.$ = n1;\n\n        if (isNaN(this.$)) {\n          this.$ = 0;\n        }\n\n        break;\n\n      case 20:\n        var n1 = yy.toNumber($$[$0]);\n        this.$ = n1;\n\n        if (isNaN(this.$)) {\n          this.$ = 0;\n        }\n\n        break;\n\n      case 21:\n        this.$ = yy.callFunction($$[$0 - 2]);\n        break;\n\n      case 22:\n        this.$ = yy.callFunction($$[$0 - 3], $$[$0 - 1]);\n        break;\n\n      case 26:\n      case 27:\n      case 28:\n        this.$ = yy.cellValue($$[$0]);\n        break;\n\n      case 29:\n      case 30:\n      case 31:\n      case 32:\n      case 33:\n      case 34:\n      case 35:\n      case 36:\n      case 37:\n        this.$ = yy.rangeValue($$[$0 - 2], $$[$0]);\n        break;\n\n      case 38:\n      case 42:\n        this.$ = [$$[$0]];\n        break;\n\n      case 39:\n        this.$ = yy.trimEdges(yytext).split(',');\n        break;\n\n      case 40:\n      case 41:\n        $$[$0 - 2].push($$[$0]);\n        this.$ = $$[$0 - 2];\n        break;\n\n      case 43:\n        this.$ = Array.isArray($$[$0 - 2]) ? $$[$0 - 2] : [$$[$0 - 2]];\n        this.$.push($$[$0]);\n        break;\n\n      case 44:\n        this.$ = $$[$0];\n        break;\n\n      case 45:\n        this.$ = ($$[$0 - 2] + '.' + $$[$0]) * 1;\n        break;\n\n      case 46:\n        this.$ = $$[$0 - 1] * 0.01;\n        break;\n\n      case 47:\n        this.$ = yy.throwError($$[$0]);\n        break;\n    }\n  },\n  table: [{\n    2: 11,\n    3: 1,\n    4: 2,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    1: [3]\n  }, {\n    5: [1, 18],\n    9: $Vb,\n    10: $Vc,\n    11: $Vd,\n    14: $Ve,\n    15: $Vf,\n    16: $Vg,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }, o($Vl, [2, 2], {\n    32: [1, 29]\n  }), o($Vl, [2, 3], {\n    34: [1, 30]\n  }), o($Vl, [2, 4]), {\n    2: 11,\n    4: 31,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 32,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 33,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    12: [1, 34]\n  }, o($Vl, [2, 23]), o($Vl, [2, 24], {\n    2: 35,\n    35: $Va\n  }), o($Vm, [2, 42]), o($Vn, [2, 44], {\n    32: [1, 36]\n  }), o($Vl, [2, 26], {\n    27: [1, 37]\n  }), o($Vl, [2, 27], {\n    27: [1, 38]\n  }), o($Vl, [2, 28], {\n    27: [1, 39]\n  }), o([5, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 29, 30, 35], [2, 47]), {\n    1: [2, 1]\n  }, {\n    2: 11,\n    4: 40,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 41,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 42,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 45,\n    6: 3,\n    7: 4,\n    8: $V0,\n    10: [1, 43],\n    11: $V1,\n    12: $V2,\n    15: [1, 44],\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 47,\n    6: 3,\n    7: 4,\n    8: $V0,\n    10: [1, 46],\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 48,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 49,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 50,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 51,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 52,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    31: [1, 53]\n  }, o($Vn, [2, 46]), {\n    9: $Vb,\n    10: $Vc,\n    11: $Vd,\n    13: [1, 54],\n    14: $Ve,\n    15: $Vf,\n    16: $Vg,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }, o($Vo, [2, 19], {\n    9: $Vb,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vo, [2, 20], {\n    9: $Vb,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), {\n    2: 11,\n    4: 57,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    13: [1, 55],\n    17: $V3,\n    21: $V4,\n    22: 56,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    28: [1, 58],\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, o($Vl, [2, 25]), {\n    33: [1, 59]\n  }, {\n    24: [1, 60],\n    25: [1, 61],\n    26: [1, 62]\n  }, {\n    24: [1, 63],\n    25: [1, 64],\n    26: [1, 65]\n  }, {\n    24: [1, 66],\n    25: [1, 67],\n    26: [1, 68]\n  }, o($Vl, [2, 5]), o([5, 10, 13, 29, 30], [2, 6], {\n    9: $Vb,\n    11: $Vd,\n    14: $Ve,\n    15: $Vf,\n    16: $Vg,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vo, [2, 7], {\n    9: $Vb,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), {\n    2: 11,\n    4: 69,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 70,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, o($Vp, [2, 14], {\n    9: $Vb,\n    11: $Vd,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), {\n    2: 11,\n    4: 71,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, o($Vp, [2, 13], {\n    9: $Vb,\n    11: $Vd,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o([5, 10, 13, 16, 29, 30], [2, 12], {\n    9: $Vb,\n    11: $Vd,\n    14: $Ve,\n    15: $Vf,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vo, [2, 15], {\n    9: $Vb,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vq, [2, 16], {\n    9: $Vb,\n    20: $Vk\n  }), o($Vq, [2, 17], {\n    9: $Vb,\n    20: $Vk\n  }), o([5, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 29, 30], [2, 18], {\n    9: $Vb\n  }), o($Vm, [2, 43]), o($Vl, [2, 8]), o($Vl, [2, 21]), {\n    13: [1, 72],\n    29: [1, 73],\n    30: [1, 74]\n  }, o($Vr, [2, 38], {\n    9: $Vb,\n    10: $Vc,\n    11: $Vd,\n    14: $Ve,\n    15: $Vf,\n    16: $Vg,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vr, [2, 39]), o($Vn, [2, 45]), o($Vl, [2, 29]), o($Vl, [2, 30]), o($Vl, [2, 31]), o($Vl, [2, 32]), o($Vl, [2, 33]), o($Vl, [2, 34]), o($Vl, [2, 35]), o($Vl, [2, 36]), o($Vl, [2, 37]), o($Vp, [2, 9], {\n    9: $Vb,\n    11: $Vd,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vp, [2, 11], {\n    9: $Vb,\n    11: $Vd,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vp, [2, 10], {\n    9: $Vb,\n    11: $Vd,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vl, [2, 22]), {\n    2: 11,\n    4: 75,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, {\n    2: 11,\n    4: 76,\n    6: 3,\n    7: 4,\n    8: $V0,\n    11: $V1,\n    12: $V2,\n    17: $V3,\n    21: $V4,\n    23: 10,\n    24: $V5,\n    25: $V6,\n    26: $V7,\n    31: $V8,\n    33: $V9,\n    35: $Va\n  }, o($Vr, [2, 40], {\n    9: $Vb,\n    10: $Vc,\n    11: $Vd,\n    14: $Ve,\n    15: $Vf,\n    16: $Vg,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  }), o($Vr, [2, 41], {\n    9: $Vb,\n    10: $Vc,\n    11: $Vd,\n    14: $Ve,\n    15: $Vf,\n    16: $Vg,\n    17: $Vh,\n    18: $Vi,\n    19: $Vj,\n    20: $Vk\n  })],\n  defaultActions: {\n    18: [2, 1]\n  },\n  parseError: function parseError(str, hash) {\n    if (hash.recoverable) {\n      this.trace(str);\n    } else {\n      var error = new Error(str);\n      error.hash = hash;\n      throw error;\n    }\n  },\n  parse: function parse(input) {\n    var self = this,\n        stack = [0],\n        tstack = [],\n        // token stack\n    vstack = [null],\n        // semantic value stack\n    lstack = [],\n        // location stack\n    table = this.table,\n        yytext = '',\n        yylineno = 0,\n        yyleng = 0,\n        recovering = 0,\n        TERROR = 2,\n        EOF = 1;\n    var args = lstack.slice.call(arguments, 1); //this.reductionCount = this.shiftCount = 0;\n\n    var lexer = Object.create(this.lexer);\n    var sharedState = {\n      yy: {}\n    }; // copy state\n\n    for (var k in this.yy) {\n      if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n        sharedState.yy[k] = this.yy[k];\n      }\n    }\n\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n\n    if (typeof lexer.yylloc == 'undefined') {\n      lexer.yylloc = {};\n    }\n\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n\n    if (typeof sharedState.yy.parseError === 'function') {\n      this.parseError = sharedState.yy.parseError;\n    } else {\n      this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n\n    function popStack(n) {\n      stack.length = stack.length - 2 * n;\n      vstack.length = vstack.length - n;\n      lstack.length = lstack.length - n;\n    }\n\n    var lex = function lex() {\n      var token;\n      token = lexer.lex() || EOF; // if token isn't its numeric value, convert\n\n      if (typeof token !== 'number') {\n        token = self.symbols_[token] || token;\n      }\n\n      return token;\n    };\n\n    var symbol,\n        preErrorSymbol,\n        state,\n        action,\n        a,\n        r,\n        yyval = {},\n        p,\n        len,\n        newState,\n        expected;\n\n    while (true) {\n      // retreive state number from top of stack\n      state = stack[stack.length - 1]; // use default actions if available\n\n      if (this.defaultActions[state]) {\n        action = this.defaultActions[state];\n      } else {\n        if (symbol === null || typeof symbol == 'undefined') {\n          symbol = lex();\n        } // read action for current state and first input\n\n\n        action = table[state] && table[state][symbol];\n      } // handle parse error\n\n\n      if (typeof action === 'undefined' || !action.length || !action[0]) {\n        // Return the rule stack depth where the nearest error rule can be found.\n        // Return FALSE when no error recovery rule was found.\n        var locateNearestErrorRecoveryRule = function locateNearestErrorRecoveryRule(state) {\n          var stack_probe = stack.length - 1;\n          var depth = 0; // try to recover from error\n\n          for (;;) {\n            // check for error recovery rule in this state\n            if (TERROR.toString() in table[state]) {\n              return depth;\n            }\n\n            if (state === 0 || stack_probe < 2) {\n              return false; // No suitable error recovery rule available.\n            }\n\n            stack_probe -= 2; // popStack(1): [symbol, action]\n\n            state = stack[stack_probe];\n            ++depth;\n          }\n        };\n\n        var error_rule_depth;\n        var errStr = '';\n\n        if (!recovering) {\n          // first see if there's any chance at hitting an error recovery rule:\n          error_rule_depth = locateNearestErrorRecoveryRule(state); // Report error\n\n          expected = [];\n\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + \":\\n\" + lexer.showPosition() + \"\\nExpecting \" + expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected,\n            recoverable: error_rule_depth !== false\n          });\n        } else if (preErrorSymbol !== EOF) {\n          error_rule_depth = locateNearestErrorRecoveryRule(state);\n        } // just recovered from another error\n\n\n        if (recovering == 3) {\n          if (symbol === EOF || preErrorSymbol === EOF) {\n            throw new Error(errStr || 'Parsing halted while starting to recover from another error.');\n          } // discard current lookahead and grab another\n\n\n          yyleng = lexer.yyleng;\n          yytext = lexer.yytext;\n          yylineno = lexer.yylineno;\n          yyloc = lexer.yylloc;\n          symbol = lex();\n        } // try to recover from error\n\n\n        if (error_rule_depth === false) {\n          throw new Error(errStr || 'Parsing halted. No suitable error recovery rule available.');\n        }\n\n        popStack(error_rule_depth);\n        preErrorSymbol = symbol == TERROR ? null : symbol; // save the lookahead token\n\n        symbol = TERROR; // insert generic error symbol as new lookahead\n\n        state = stack[stack.length - 1];\n        action = table[state] && table[state][TERROR];\n        recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n      } // this shouldn't happen, unless resolve defaults are off\n\n\n      if (action[0] instanceof Array && action.length > 1) {\n        throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n      }\n\n      switch (action[0]) {\n        case 1:\n          // shift\n          //this.shiftCount++;\n          stack.push(symbol);\n          vstack.push(lexer.yytext);\n          lstack.push(lexer.yylloc);\n          stack.push(action[1]); // push state\n\n          symbol = null;\n\n          if (!preErrorSymbol) {\n            // normal execution/no error\n            yyleng = lexer.yyleng;\n            yytext = lexer.yytext;\n            yylineno = lexer.yylineno;\n            yyloc = lexer.yylloc;\n\n            if (recovering > 0) {\n              recovering--;\n            }\n          } else {\n            // error just occurred, resume old lookahead f/ before error\n            symbol = preErrorSymbol;\n            preErrorSymbol = null;\n          }\n\n          break;\n\n        case 2:\n          // reduce\n          //this.reductionCount++;\n          len = this.productions_[action[1]][1]; // perform semantic action\n\n          yyval.$ = vstack[vstack.length - len]; // default to $$ = $1\n          // default location, uses first token for firsts, last for lasts\n\n          yyval._$ = {\n            first_line: lstack[lstack.length - (len || 1)].first_line,\n            last_line: lstack[lstack.length - 1].last_line,\n            first_column: lstack[lstack.length - (len || 1)].first_column,\n            last_column: lstack[lstack.length - 1].last_column\n          };\n\n          if (ranges) {\n            yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n          }\n\n          r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n          if (typeof r !== 'undefined') {\n            return r;\n          } // pop off stack\n\n\n          if (len) {\n            stack = stack.slice(0, -1 * len * 2);\n            vstack = vstack.slice(0, -1 * len);\n            lstack = lstack.slice(0, -1 * len);\n          }\n\n          stack.push(this.productions_[action[1]][0]); // push nonterminal (reduce)\n\n          vstack.push(yyval.$);\n          lstack.push(yyval._$); // goto new state = table[STATE][NONTERMINAL]\n\n          newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n          stack.push(newState);\n          break;\n\n        case 3:\n          // accept\n          return true;\n      }\n    }\n\n    return true;\n  }\n};\n/* generated by jison-lex 0.3.4 */\n\nvar lexer = function () {\n  var lexer = {\n    EOF: 1,\n    parseError: function parseError(str, hash) {\n      if (this.yy.parser) {\n        this.yy.parser.parseError(str, hash);\n      } else {\n        throw new Error(str);\n      }\n    },\n    // resets the lexer, sets new input\n    setInput: function setInput(input, yy) {\n      this.yy = yy || this.yy || {};\n      this._input = input;\n      this._more = this._backtrack = this.done = false;\n      this.yylineno = this.yyleng = 0;\n      this.yytext = this.matched = this.match = '';\n      this.conditionStack = ['INITIAL'];\n      this.yylloc = {\n        first_line: 1,\n        first_column: 0,\n        last_line: 1,\n        last_column: 0\n      };\n\n      if (this.options.ranges) {\n        this.yylloc.range = [0, 0];\n      }\n\n      this.offset = 0;\n      return this;\n    },\n    // consumes and returns one char from the input\n    input: function input() {\n      var ch = this._input[0];\n      this.yytext += ch;\n      this.yyleng++;\n      this.offset++;\n      this.match += ch;\n      this.matched += ch;\n      var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n      if (lines) {\n        this.yylineno++;\n        this.yylloc.last_line++;\n      } else {\n        this.yylloc.last_column++;\n      }\n\n      if (this.options.ranges) {\n        this.yylloc.range[1]++;\n      }\n\n      this._input = this._input.slice(1);\n      return ch;\n    },\n    // unshifts one char (or a string) into the input\n    unput: function unput(ch) {\n      var len = ch.length;\n      var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n      this._input = ch + this._input;\n      this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n      this.offset -= len;\n      var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n      this.match = this.match.substr(0, this.match.length - 1);\n      this.matched = this.matched.substr(0, this.matched.length - 1);\n\n      if (lines.length - 1) {\n        this.yylineno -= lines.length - 1;\n      }\n\n      var r = this.yylloc.range;\n      this.yylloc = {\n        first_line: this.yylloc.first_line,\n        last_line: this.yylineno + 1,\n        first_column: this.yylloc.first_column,\n        last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n      };\n\n      if (this.options.ranges) {\n        this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n      }\n\n      this.yyleng = this.yytext.length;\n      return this;\n    },\n    // When called from action, caches matched text and appends it on next action\n    more: function more() {\n      this._more = true;\n      return this;\n    },\n    // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n    reject: function reject() {\n      if (this.options.backtrack_lexer) {\n        this._backtrack = true;\n      } else {\n        return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n          text: \"\",\n          token: null,\n          line: this.yylineno\n        });\n      }\n\n      return this;\n    },\n    // retain first n characters of the match\n    less: function less(n) {\n      this.unput(this.match.slice(n));\n    },\n    // displays already matched input, i.e. for error messages\n    pastInput: function pastInput() {\n      var past = this.matched.substr(0, this.matched.length - this.match.length);\n      return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n    // displays upcoming input, i.e. for error messages\n    upcomingInput: function upcomingInput() {\n      var next = this.match;\n\n      if (next.length < 20) {\n        next += this._input.substr(0, 20 - next.length);\n      }\n\n      return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n    // displays the character position where the lexing error occurred, i.e. for error messages\n    showPosition: function showPosition() {\n      var pre = this.pastInput();\n      var c = new Array(pre.length + 1).join(\"-\");\n      return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n    // test the lexed token: return FALSE when not a match, otherwise return token\n    test_match: function test_match(match, indexed_rule) {\n      var token, lines, backup;\n\n      if (this.options.backtrack_lexer) {\n        // save context\n        backup = {\n          yylineno: this.yylineno,\n          yylloc: {\n            first_line: this.yylloc.first_line,\n            last_line: this.last_line,\n            first_column: this.yylloc.first_column,\n            last_column: this.yylloc.last_column\n          },\n          yytext: this.yytext,\n          match: this.match,\n          matches: this.matches,\n          matched: this.matched,\n          yyleng: this.yyleng,\n          offset: this.offset,\n          _more: this._more,\n          _input: this._input,\n          yy: this.yy,\n          conditionStack: this.conditionStack.slice(0),\n          done: this.done\n        };\n\n        if (this.options.ranges) {\n          backup.yylloc.range = this.yylloc.range.slice(0);\n        }\n      }\n\n      lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n      if (lines) {\n        this.yylineno += lines.length;\n      }\n\n      this.yylloc = {\n        first_line: this.yylloc.last_line,\n        last_line: this.yylineno + 1,\n        first_column: this.yylloc.last_column,\n        last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n      };\n      this.yytext += match[0];\n      this.match += match[0];\n      this.matches = match;\n      this.yyleng = this.yytext.length;\n\n      if (this.options.ranges) {\n        this.yylloc.range = [this.offset, this.offset += this.yyleng];\n      }\n\n      this._more = false;\n      this._backtrack = false;\n      this._input = this._input.slice(match[0].length);\n      this.matched += match[0];\n      token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n      if (this.done && this._input) {\n        this.done = false;\n      }\n\n      if (token) {\n        return token;\n      } else if (this._backtrack) {\n        // recover context\n        for (var k in backup) {\n          this[k] = backup[k];\n        }\n\n        return false; // rule action called reject() implying the next rule should be tested instead.\n      }\n\n      return false;\n    },\n    // return next match in input\n    next: function next() {\n      if (this.done) {\n        return this.EOF;\n      }\n\n      if (!this._input) {\n        this.done = true;\n      }\n\n      var token, match, tempMatch, index;\n\n      if (!this._more) {\n        this.yytext = '';\n        this.match = '';\n      }\n\n      var rules = this._currentRules();\n\n      for (var i = 0; i < rules.length; i++) {\n        tempMatch = this._input.match(this.rules[rules[i]]);\n\n        if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n          match = tempMatch;\n          index = i;\n\n          if (this.options.backtrack_lexer) {\n            token = this.test_match(tempMatch, rules[i]);\n\n            if (token !== false) {\n              return token;\n            } else if (this._backtrack) {\n              match = false;\n              continue; // rule action called reject() implying a rule MISmatch.\n            } else {\n              // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n              return false;\n            }\n          } else if (!this.options.flex) {\n            break;\n          }\n        }\n      }\n\n      if (match) {\n        token = this.test_match(match, rules[index]);\n\n        if (token !== false) {\n          return token;\n        } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n        return false;\n      }\n\n      if (this._input === \"\") {\n        return this.EOF;\n      } else {\n        return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n          text: \"\",\n          token: null,\n          line: this.yylineno\n        });\n      }\n    },\n    // return next match that has a token\n    lex: function lex() {\n      var r = this.next();\n\n      if (r) {\n        return r;\n      } else {\n        return this.lex();\n      }\n    },\n    // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n    begin: function begin(condition) {\n      this.conditionStack.push(condition);\n    },\n    // pop the previously active lexer condition state off the condition stack\n    popState: function popState() {\n      var n = this.conditionStack.length - 1;\n\n      if (n > 0) {\n        return this.conditionStack.pop();\n      } else {\n        return this.conditionStack[0];\n      }\n    },\n    // produce the lexer rule set which is active for the currently active lexer condition state\n    _currentRules: function _currentRules() {\n      if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n        return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n      } else {\n        return this.conditions[\"INITIAL\"].rules;\n      }\n    },\n    // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n    topState: function topState(n) {\n      n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n      if (n >= 0) {\n        return this.conditionStack[n];\n      } else {\n        return \"INITIAL\";\n      }\n    },\n    // alias for begin(condition)\n    pushState: function pushState(condition) {\n      this.begin(condition);\n    },\n    // return the number of states currently on the stack\n    stateStackSize: function stateStackSize() {\n      return this.conditionStack.length;\n    },\n    options: {},\n    performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n      var YYSTATE = YY_START;\n\n      switch ($avoiding_name_collisions) {\n        case 0:\n          /* skip whitespace */\n          break;\n\n        case 1:\n          return 8;\n          break;\n\n        case 2:\n          return 8;\n          break;\n\n        case 3:\n          return 21;\n          break;\n\n        case 4:\n          return 35;\n          break;\n\n        case 5:\n          return 24;\n          break;\n\n        case 6:\n          return 26;\n          break;\n\n        case 7:\n          return 26;\n          break;\n\n        case 8:\n          return 25;\n          break;\n\n        case 9:\n          return 21;\n          break;\n\n        case 10:\n          return 31;\n          break;\n\n        case 11:\n          return 31;\n          break;\n\n        case 12:\n          return 33;\n          break;\n\n        case 13:\n          return 28;\n          break;\n\n        case 14:\n          return 9;\n          break;\n\n        case 15:\n          return ' ';\n          break;\n\n        case 16:\n          return 32;\n          break;\n\n        case 17:\n          return 27;\n          break;\n\n        case 18:\n          return 29;\n          break;\n\n        case 19:\n          return 30;\n          break;\n\n        case 20:\n          return 18;\n          break;\n\n        case 21:\n          return 19;\n          break;\n\n        case 22:\n          return 17;\n          break;\n\n        case 23:\n          return 11;\n          break;\n\n        case 24:\n          return 20;\n          break;\n\n        case 25:\n          return 12;\n          break;\n\n        case 26:\n          return 13;\n          break;\n\n        case 27:\n          return 15;\n          break;\n\n        case 28:\n          return 14;\n          break;\n\n        case 29:\n          return 16;\n          break;\n\n        case 30:\n          return '\"';\n          break;\n\n        case 31:\n          return \"'\";\n          break;\n\n        case 32:\n          return \"!\";\n          break;\n\n        case 33:\n          return 10;\n          break;\n\n        case 34:\n          return 34;\n          break;\n\n        case 35:\n          return '#';\n          break;\n\n        case 36:\n          return 5;\n          break;\n      }\n    },\n    rules: [/^(?:\\s+)/, /^(?:\"(\\\\[\"]|[^\"])*\")/, /^(?:'(\\\\[']|[^'])*')/, /^(?:[A-Za-z]{1,}[A-Za-z_0-9\\.]+(?=[(]))/, /^(?:#[A-Z0-9\\/]+(!|\\?)?)/, /^(?:\\$[A-Za-z]+\\$[0-9]+)/, /^(?:\\$[A-Za-z]+[0-9]+)/, /^(?:[A-Za-z]+\\$[0-9]+)/, /^(?:[A-Za-z]+[0-9]+)/, /^(?:[A-Za-z\\.]+(?=[(]))/, /^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/, /^(?:[A-Za-z_]+)/, /^(?:[0-9]+)/, /^(?:\\[(.*)?\\])/, /^(?:&)/, /^(?: )/, /^(?:[.])/, /^(?::)/, /^(?:;)/, /^(?:,)/, /^(?:\\*)/, /^(?:\\/)/, /^(?:-)/, /^(?:\\+)/, /^(?:\\^)/, /^(?:\\()/, /^(?:\\))/, /^(?:>)/, /^(?:<)/, /^(?:NOT\\b)/, /^(?:\")/, /^(?:')/, /^(?:!)/, /^(?:=)/, /^(?:%)/, /^(?:[#])/, /^(?:$)/],\n    conditions: {\n      \"INITIAL\": {\n        \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36],\n        \"inclusive\": true\n      }\n    }\n  };\n  return lexer;\n}();\n\nparser.lexer = lexer;\nexport function Parser() {\n  this.yy = {};\n}\nParser.prototype = parser;\nparser.Parser = Parser;","/* eslint-disable import/prefer-default-export */\n\n/**\n * Trim value by cutting character starting from the beginning and ending at the same time.\n *\n * @param {String} string String to trimming.\n * @param {Number} [margin=1] Number of character to cut.\n * @returns {String}\n */\nexport function trimEdges(string) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  string = string.substring(margin, string.length - margin);\n  return string;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/**\n * Convert row label to index.\n *\n * @param {String} label Row label (eq. '1', '5')\n * @returns {Number} Returns -1 if label is not recognized otherwise proper row index.\n */\nexport function rowLabelToIndex(label) {\n  var result = parseInt(label, 10);\n\n  if (isNaN(result)) {\n    result = -1;\n  } else {\n    result = Math.max(result - 1, -1);\n  }\n\n  return result;\n}\n/**\n * Convert row index to label.\n *\n * @param {Number} row Row index.\n * @returns {String} Returns row label (eq. '1', '7').\n */\n\nexport function rowIndexToLabel(row) {\n  var result = '';\n\n  if (row >= 0) {\n    result = \"\".concat(row + 1);\n  }\n\n  return result;\n}\nvar COLUMN_LABEL_BASE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\nvar COLUMN_LABEL_BASE_LENGTH = COLUMN_LABEL_BASE.length;\n/**\n * Convert column label to index.\n *\n * @param {String} label Column label (eq. 'ABB', 'CNQ')\n * @returns {Number} Returns -1 if label is not recognized otherwise proper column index.\n */\n\nexport function columnLabelToIndex(label) {\n  var result = 0;\n\n  if (typeof label === 'string') {\n    label = label.toUpperCase();\n\n    for (var i = 0, j = label.length - 1; i < label.length; i += 1, j -= 1) {\n      result += Math.pow(COLUMN_LABEL_BASE_LENGTH, j) * (COLUMN_LABEL_BASE.indexOf(label[i]) + 1);\n    }\n  }\n\n  --result;\n  return result;\n}\n/**\n * Convert column index to label.\n *\n * @param {Number} column Column index.\n * @returns {String} Returns column label (eq. 'ABB', 'CNQ').\n */\n\nexport function columnIndexToLabel(column) {\n  var result = '';\n\n  while (column >= 0) {\n    result = String.fromCharCode(column % COLUMN_LABEL_BASE_LENGTH + 97) + result;\n    column = Math.floor(column / COLUMN_LABEL_BASE_LENGTH) - 1;\n  }\n\n  return result.toUpperCase();\n}\nvar LABEL_EXTRACT_REGEXP = /^([$])?([A-Za-z]+)([$])?([0-9]+)$/;\n/**\n * Extract cell coordinates.\n *\n * @param {String} label Cell coordinates (eq. 'A1', '$B6', '$N$98').\n * @returns {Array} Returns an array of objects.\n */\n\nexport function extractLabel(label) {\n  if (typeof label !== 'string' || !LABEL_EXTRACT_REGEXP.test(label)) {\n    return [];\n  }\n\n  var _label$toUpperCase$ma = label.toUpperCase().match(LABEL_EXTRACT_REGEXP),\n      _label$toUpperCase$ma2 = _slicedToArray(_label$toUpperCase$ma, 5),\n      columnAbs = _label$toUpperCase$ma2[1],\n      column = _label$toUpperCase$ma2[2],\n      rowAbs = _label$toUpperCase$ma2[3],\n      row = _label$toUpperCase$ma2[4];\n\n  return [{\n    index: rowLabelToIndex(row),\n    label: row,\n    isAbsolute: rowAbs === '$'\n  }, {\n    index: columnLabelToIndex(column),\n    label: column,\n    isAbsolute: columnAbs === '$'\n  }];\n}\n/**\n * Convert row and column indexes into cell label.\n *\n * @param {Object} row Object with `index` and `isAbsolute` properties.\n * @param {Object} column Object with `index` and `isAbsolute` properties.\n * @returns {String} Returns cell label.\n */\n\nexport function toLabel(row, column) {\n  var rowLabel = (row.isAbsolute ? '$' : '') + rowIndexToLabel(row.index);\n  var columnLabel = (column.isAbsolute ? '$' : '') + columnIndexToLabel(column.index);\n  return columnLabel + rowLabel;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport Emitter from 'tiny-emitter';\nimport evaluateByOperator from \"./evaluate-by-operator/evaluate-by-operator.mjs\";\nimport { Parser as GrammarParser } from \"./grammar-parser/grammar-parser.mjs\";\nimport { trimEdges } from \"./helper/string.mjs\";\nimport { toNumber, invertNumber } from \"./helper/number.mjs\";\nimport errorParser, { isValidStrict as isErrorValid, ERROR, ERROR_NAME } from \"./error.mjs\";\nimport { extractLabel, toLabel } from \"./helper/cell.mjs\";\n/**\n * @class Parser\n */\n\nvar Parser = /*#__PURE__*/function (_Emitter) {\n  _inherits(Parser, _Emitter);\n\n  var _super = _createSuper(Parser);\n\n  function Parser() {\n    var _this;\n\n    _classCallCheck(this, Parser);\n\n    _this = _super.call(this);\n    _this.parser = new GrammarParser();\n    _this.parser.yy = {\n      toNumber: toNumber,\n      trimEdges: trimEdges,\n      invertNumber: invertNumber,\n      throwError: function throwError(errorName) {\n        return _this._throwError(errorName);\n      },\n      callVariable: function callVariable(variable) {\n        return _this._callVariable(variable);\n      },\n      evaluateByOperator: evaluateByOperator,\n      callFunction: function callFunction(name, params) {\n        return _this._callFunction(name, params);\n      },\n      cellValue: function cellValue(value) {\n        return _this._callCellValue(value);\n      },\n      rangeValue: function rangeValue(start, end) {\n        return _this._callRangeValue(start, end);\n      }\n    };\n    _this.variables = Object.create(null);\n    _this.functions = Object.create(null);\n\n    _this.setVariable('TRUE', true).setVariable('FALSE', false).setVariable('NULL', null);\n\n    return _this;\n  }\n  /**\n   * Parse formula expression.\n   *\n   * @param {String} expression to parse.\n   * @return {*} Returns an object with tow properties `error` and `result`.\n   */\n\n\n  _createClass(Parser, [{\n    key: \"parse\",\n    value: function parse(expression) {\n      var result = null;\n      var error = null;\n\n      try {\n        if (expression === '') {\n          result = '';\n        } else {\n          result = this.parser.parse(expression);\n        }\n      } catch (ex) {\n        var message = errorParser(ex.message);\n\n        if (message) {\n          error = message;\n        } else {\n          error = errorParser(ERROR);\n        }\n      }\n\n      if (result instanceof Error) {\n        error = errorParser(result.message) || errorParser(ERROR);\n        result = null;\n      }\n\n      return {\n        error: error,\n        result: result\n      };\n    }\n    /**\n     * Set predefined variable name which can be visible while parsing formula expression.\n     *\n     * @param {String} name Variable name.\n     * @param {*} value Variable value.\n     * @returns {Parser}\n     */\n\n  }, {\n    key: \"setVariable\",\n    value: function setVariable(name, value) {\n      this.variables[name] = value;\n      return this;\n    }\n    /**\n     * Get variable name.\n     *\n     * @param {String} name Variable name.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"getVariable\",\n    value: function getVariable(name) {\n      return this.variables[name];\n    }\n    /**\n     * Retrieve variable value by its name.\n     *\n     * @param name Variable name.\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_callVariable\",\n    value: function _callVariable(name) {\n      var value = this.getVariable(name);\n      this.emit('callVariable', name, function (newValue) {\n        if (newValue !== void 0) {\n          value = newValue;\n        }\n      });\n\n      if (value === void 0) {\n        throw Error(ERROR_NAME);\n      }\n\n      return value;\n    }\n    /**\n     * Set custom function which can be visible while parsing formula expression.\n     *\n     * @param {String} name Custom function name.\n     * @param {Function} fn Custom function.\n     * @returns {Parser}\n     */\n\n  }, {\n    key: \"setFunction\",\n    value: function setFunction(name, fn) {\n      this.functions[name] = fn;\n      return this;\n    }\n    /**\n     * Get custom function.\n     *\n     * @param {String} name Custom function name.\n     * @returns {*}\n     */\n\n  }, {\n    key: \"getFunction\",\n    value: function getFunction(name) {\n      return this.functions[name];\n    }\n    /**\n     * Call function with provided params.\n     *\n     * @param name Function name.\n     * @param params Function params.\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_callFunction\",\n    value: function _callFunction(name) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var fn = this.getFunction(name);\n      var value;\n\n      if (fn) {\n        value = fn(params);\n      }\n\n      this.emit('callFunction', name, params, function (newValue) {\n        if (newValue !== void 0) {\n          value = newValue;\n        }\n      });\n      return value === void 0 ? evaluateByOperator(name, params) : value;\n    }\n    /**\n     * Retrieve value by its label (`B3`, `B$3`, `B$3`, `$B$3`).\n     *\n     * @param {String} label Coordinates.\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"_callCellValue\",\n    value: function _callCellValue(label) {\n      label = label.toUpperCase();\n\n      var _extractLabel = extractLabel(label),\n          _extractLabel2 = _slicedToArray(_extractLabel, 2),\n          row = _extractLabel2[0],\n          column = _extractLabel2[1];\n\n      var value = void 0;\n      this.emit('callCellValue', {\n        label: label,\n        row: row,\n        column: column\n      }, function (_value) {\n        value = _value;\n      });\n      return value;\n    }\n    /**\n     * Retrieve value by its label (`B3:A1`, `B$3:A1`, `B$3:$A1`, `$B$3:A$1`).\n     *\n     * @param {String} startLabel Coordinates of the first cell.\n     * @param {String} endLabel Coordinates of the last cell.\n     * @returns {Array} Returns an array of mixed values.\n     * @private\n     */\n\n  }, {\n    key: \"_callRangeValue\",\n    value: function _callRangeValue(startLabel, endLabel) {\n      startLabel = startLabel.toUpperCase();\n      endLabel = endLabel.toUpperCase();\n\n      var _extractLabel3 = extractLabel(startLabel),\n          _extractLabel4 = _slicedToArray(_extractLabel3, 2),\n          startRow = _extractLabel4[0],\n          startColumn = _extractLabel4[1];\n\n      var _extractLabel5 = extractLabel(endLabel),\n          _extractLabel6 = _slicedToArray(_extractLabel5, 2),\n          endRow = _extractLabel6[0],\n          endColumn = _extractLabel6[1];\n\n      var startCell = {};\n      var endCell = {};\n\n      if (startRow.index <= endRow.index) {\n        startCell.row = startRow;\n        endCell.row = endRow;\n      } else {\n        startCell.row = endRow;\n        endCell.row = startRow;\n      }\n\n      if (startColumn.index <= endColumn.index) {\n        startCell.column = startColumn;\n        endCell.column = endColumn;\n      } else {\n        startCell.column = endColumn;\n        endCell.column = startColumn;\n      }\n\n      startCell.label = toLabel(startCell.row, startCell.column);\n      endCell.label = toLabel(endCell.row, endCell.column);\n      var value = [];\n      this.emit('callRangeValue', startCell, endCell, function () {\n        var _value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        value = _value;\n      });\n      return value;\n    }\n    /**\n     * Try to throw error by its name.\n     *\n     * @param {String} errorName Error name.\n     * @returns {String}\n     * @private\n     */\n\n  }, {\n    key: \"_throwError\",\n    value: function _throwError(errorName) {\n      if (isErrorValid(errorName)) {\n        throw Error(errorName);\n      }\n\n      throw Error(ERROR);\n    }\n  }]);\n\n  return Parser;\n}(Emitter);\n\nexport default Parser;","import { expr2xy, xy2expr } from \"./alphabet\";\nimport { numberCalc } from \"./helper\";\nimport { Parser } from \"hot-formula-parser\";\n\n// Converting infix expression to a suffix expression\n// src: AVERAGE(SUM(A1,A2), B1) + 50 + B20\n// return: [A1, A2], SUM[, B1],AVERAGE,50,+,B20,+\nconst infixExprToSuffixExpr = (src) => {\n  const operatorStack = [];\n  const stack = [];\n  let subStrs = []; // SUM, A1, B2, 50 ...\n  let fnArgType = 0; // 1 => , 2 => :\n  let fnArgOperator = \"\";\n  let fnArgsLen = 1; // A1,A2,A3...\n  let oldc = \"\";\n  for (let i = 0; i < src.length; i += 1) {\n    const c = src.charAt(i);\n    if (c !== \" \") {\n      if (c >= \"a\" && c <= \"z\") {\n        subStrs.push(c.toUpperCase());\n      } else if (\n        (c >= \"0\" && c <= \"9\") ||\n        (c >= \"A\" && c <= \"Z\") ||\n        c === \".\"\n      ) {\n        subStrs.push(c);\n      } else if (c === '\"') {\n        i += 1;\n        while (src.charAt(i) !== '\"') {\n          subStrs.push(src.charAt(i));\n          i += 1;\n        }\n        stack.push(`\"${subStrs.join(\"\")}`);\n        subStrs = [];\n      } else if (c === \"-\" && /[+\\-*/,(]/.test(oldc)) {\n        subStrs.push(c);\n      } else {\n        // console.log('subStrs:', subStrs.join(''), stack);\n        if (c !== \"(\" && subStrs.length > 0) {\n          stack.push(subStrs.join(\"\"));\n        }\n        if (c === \")\") {\n          let c1 = operatorStack.pop();\n          if (fnArgType === 2) {\n            // fn argument range => A1:B5\n            try {\n              const [ex, ey] = expr2xy(stack.pop());\n              const [sx, sy] = expr2xy(stack.pop());\n              // console.log('::', sx, sy, ex, ey);\n              let rangelen = 0;\n              for (let x = sx; x <= ex; x += 1) {\n                for (let y = sy; y <= ey; y += 1) {\n                  stack.push(xy2expr(x, y));\n                  rangelen += 1;\n                }\n              }\n              stack.push([c1, rangelen]);\n            } catch (e) {\n              // console.log(e);\n            }\n          } else if (fnArgType === 1 || fnArgType === 3) {\n            if (fnArgType === 3) stack.push(fnArgOperator);\n            // fn argument => A1,A2,B5\n            stack.push([c1, fnArgsLen]);\n            fnArgsLen = 1;\n          } else {\n            // console.log('c1:', c1, fnArgType, stack, operatorStack);\n            while (c1 !== \"(\") {\n              stack.push(c1);\n              if (operatorStack.length <= 0) break;\n              c1 = operatorStack.pop();\n            }\n          }\n          fnArgType = 0;\n        } else if (c === \"=\" || c === \">\" || c === \"<\") {\n          const nc = src.charAt(i + 1);\n          fnArgOperator = c;\n          if (nc === \"=\" || nc === \"-\") {\n            fnArgOperator += nc;\n            i += 1;\n          }\n          fnArgType = 3;\n        } else if (c === \":\") {\n          fnArgType = 2;\n        } else if (c === \",\") {\n          if (fnArgType === 3) {\n            stack.push(fnArgOperator);\n          }\n          fnArgType = 1;\n          fnArgsLen += 1;\n        } else if (c === \"(\" && subStrs.length > 0) {\n          // function\n          operatorStack.push(subStrs.join(\"\"));\n        } else {\n          // priority: */ > +-\n          // console.log('xxxx:', operatorStack, c, stack);\n          if (operatorStack.length > 0 && (c === \"+\" || c === \"-\")) {\n            let top = operatorStack[operatorStack.length - 1];\n            if (top !== \"(\") stack.push(operatorStack.pop());\n            if (top === \"*\" || top === \"/\") {\n              while (operatorStack.length > 0) {\n                top = operatorStack[operatorStack.length - 1];\n                if (top !== \"(\") stack.push(operatorStack.pop());\n                else break;\n              }\n            }\n          } else if (operatorStack.length > 0) {\n            const top = operatorStack[operatorStack.length - 1];\n            if (top === \"*\" || top === \"/\") stack.push(operatorStack.pop());\n          }\n          operatorStack.push(c);\n        }\n        subStrs = [];\n      }\n      oldc = c;\n    }\n  }\n  if (subStrs.length > 0) {\n    stack.push(subStrs.join(\"\"));\n  }\n  while (operatorStack.length > 0) {\n    stack.push(operatorStack.pop());\n  }\n  return stack;\n};\n\n//This function returns value by converting into number and resolve cell value\nconst evalSubExpr = (subExpr, cellRender) => {\n  const [fl] = subExpr;\n  let expr = subExpr;\n  if (fl === '\"') {\n    return subExpr.substring(1);\n  }\n  let ret = 1;\n  if (fl === \"-\") {\n    expr = subExpr.substring(1);\n    ret = -1;\n  }\n  if (expr[0] >= \"0\" && expr[0] <= \"9\") {\n    return ret * Number(expr);\n  }\n  const [x, y] = expr2xy(expr);\n  return ret * cellRender(x, y);\n};\n\n// evaluate the suffix expression\n// srcStack: <= infixExprToSufixExpr\n// formulaMap: {'SUM': {}, ...}\n// cellRender: (x, y) => {}\nconst evalSuffixExpr = (srcStack, formulaMap, cellRender, cellList) => {\n  const stack = [];\n  // console.log(':::::formulaMap:', formulaMap);\n  for (let i = 0; i < srcStack.length; i += 1) {\n    // console.log(':::>>>', srcStack[i]);\n    const expr = srcStack[i];\n    const fc = expr[0];\n    if (expr === \"+\") {\n      const top = stack.pop();\n      stack.push(numberCalc(\"+\", stack.pop(), top));\n    } else if (expr === \"-\") {\n      if (stack.length === 1) {\n        const top = stack.pop();\n        stack.push(numberCalc(\"*\", top, -1));\n      } else {\n        const top = stack.pop();\n        stack.push(numberCalc(\"-\", stack.pop(), top));\n      }\n    } else if (expr === \"*\") {\n      stack.push(numberCalc(\"*\", stack.pop(), stack.pop()));\n    } else if (expr === \"/\") {\n      const top = stack.pop();\n      stack.push(numberCalc(\"/\", stack.pop(), top));\n    } else if (expr === \"^\") {\n      const top = stack.pop();\n      stack.push(numberCalc(\"^\", stack.pop(), top));\n    } else if (fc === \"=\" || fc === \">\" || fc === \"<\") {\n      let top = stack.pop();\n      if (!Number.isNaN(top)) top = Number(top);\n      let left = stack.pop();\n      if (!Number.isNaN(left)) left = Number(left);\n      let ret = false;\n      if (fc === \"=\") {\n        ret = left === top;\n      } else if (expr === \">\") {\n        ret = left > top;\n      } else if (expr === \">=\") {\n        ret = left >= top;\n      } else if (expr === \"<\") {\n        ret = left < top;\n      } else if (expr === \"<=\") {\n        ret = left <= top;\n      }\n      stack.push(ret);\n    } else if (Array.isArray(expr)) {\n      const [formula, len] = expr;\n      const params = [];\n      for (let j = 0; j < len; j += 1) {\n        params.push(stack.pop());\n      }\n      if (formulaMap[formula]) {\n        stack.push(formulaMap[formula].render(params.reverse()));\n      }\n    } else {\n      if (cellList.includes(expr)) {\n        return 0;\n      }\n      if ((fc >= \"a\" && fc <= \"z\") || (fc >= \"A\" && fc <= \"Z\")) {\n        cellList.push(expr);\n      }\n      stack.push(evalSubExpr(expr, cellRender));\n      cellList.pop();\n    }\n    // console.log('stack:', stack);\n  }\n  return stack[0];\n};\n\nconst rangeToCellConversion = (range) => {\n  let cells = \"\";\n  if (range.length) {\n    const cellInfo = range?.toUpperCase()?.split(\":\");\n    if (cellInfo.length === 2) {\n      const [ex, ey] = expr2xy(cellInfo[1]);\n      const [sx, sy] = expr2xy(cellInfo[0]);\n      const cellArray = [];\n      for (let x = sx; x <= ex; x += 1) {\n        for (let y = sy; y <= ey; y += 1) {\n          cellArray.push(xy2expr(x, y));\n        }\n      }\n      return cellArray?.join(\",\");\n    }\n  }\n  return cells;\n};\n\nconst parserFormulaString = (string, getCellText, cellRender) => {\n  if (string?.length) {\n    const cellRefRegex = /\\b[A-Za-z]+[1-9][0-9]*\\b/g;\n    const cellRangeRegex =\n      /\\$?[A-Za-z]+\\$?[1-9][0-9]*:\\$?[A-Za-z]+\\$?[1-9][0-9]*/gi;\n    try {\n      let newFormulaString = \"\";\n      newFormulaString = string.replaceAll(\" \", \"\");\n      newFormulaString = newFormulaString.replace(cellRangeRegex, (match) => {\n        const cells = rangeToCellConversion(match);\n        if (cells?.length) {\n          return cells;\n        }\n      });\n      newFormulaString = newFormulaString.replace(cellRefRegex, (match) => {\n        const [x, y] = expr2xy(match);\n        const text = getCellText(x, y);\n        if (text) {\n          if (text.startsWith(\"=\")) {\n            return cellRender(text, [], getCellText);\n          } else {\n            return text;\n          }\n        } else {\n          return 0;\n        }\n      });\n      return newFormulaString;\n    } catch (e) {\n      return string;\n    }\n  }\n  return string;\n};\n\nconst cellRender = (src, formulaMap, getCellText, cellList = []) => {\n  if (src[0] === \"=\") {\n    const a = src.substring(1);\n    try {\n      var parser = new Parser();\n      const parsedFormula = parserFormulaString(a, getCellText, cellRender);\n      const data = parser.parse(parsedFormula);\n      return data?.error ?? data?.result;\n    } catch (e) {\n      return \"#Error\";\n    }\n\n    //Commented This functionality of formula calculation on X-Spread sheet and doing it by our own way\n\n    // const stack = infixExprToSuffixExpr(src.substring(1));\n    // console.log(stack, \"stack\");\n    // if (stack.length <= 0) return src;\n    // return evalSuffixExpr(\n    //   stack,\n    //   formulaMap,\n    //   (x, y) =>\n    //     cellRender(getCellText(x, y), formulaMap, getCellText, cellList),\n    //   cellList\n    // );\n  }\n  return src;\n};\n\nexport default {\n  render: cellRender,\n};\nexport { infixExprToSuffixExpr };\n","/**\n  formula:\n    key\n    title\n    render\n*/\n/**\n * @typedef {object} Formula\n * @property {string} key\n * @property {function} title\n * @property {function} render\n */\nimport { tf } from \"../locale/locale\";\nimport { numberCalc } from \"./helper\";\nimport { SUPPORTED_FORMULAS } from \"hot-formula-parser\";\n\n/** @type {Formula[]} */\nconst baseFormulas = SUPPORTED_FORMULAS.map((formula) => {\n  return {\n    key: formula,\n    title: formula,\n    render: () => {\n      return \"\";\n    },\n  };\n});\n// [\n//   {\n//     key: \"SUM\",\n//     title: tf(\"formula.sum\"),\n//     render: (ary) => ary.reduce((a, b) => numberCalc(\"+\", a, b), 0),\n//   },\n//   {\n//     key: \"AVERAGE\",\n//     title: tf(\"formula.average\"),\n//     render: (ary) =>\n//       ary.reduce((a, b) => Number(a) + Number(b), 0) / ary.length,\n//   },\n//   {\n//     key: \"MAX\",\n//     title: tf(\"formula.max\"),\n//     render: (ary) => Math.max(...ary.map((v) => Number(v))),\n//   },\n//   {\n//     key: \"MIN\",\n//     title: tf(\"formula.min\"),\n//     render: (ary) => Math.min(...ary.map((v) => Number(v))),\n//   },\n//   {\n//     key: \"IF\",\n//     title: tf(\"formula._if\"),\n//     render: ([b, t, f]) => (b ? t : f),\n//   },\n//   {\n//     key: \"AND\",\n//     title: tf(\"formula.and\"),\n//     render: (ary) => ary.every((it) => it),\n//   },\n//   {\n//     key: \"OR\",\n//     title: tf(\"formula.or\"),\n//     render: (ary) => ary.some((it) => it),\n//   },\n//   {\n//     key: \"CONCAT\",\n//     title: tf(\"formula.concat\"),\n//     render: (ary) => ary.join(\"\"),\n//   },\n//   /* support:  1 + A1 + B2 * 3\n//   {\n//     key: 'DIVIDE',\n//     title: tf('formula.divide'),\n//     render: ary => ary.reduce((a, b) => Number(a) / Number(b)),\n//   },\n//   {\n//     key: 'PRODUCT',\n//     title: tf('formula.product'),\n//     render: ary => ary.reduce((a, b) => Number(a) * Number(b),1),\n//   },\n//   {\n//     key: 'SUBTRACT',\n//     title: tf('formula.subtract'),\n//     render: ary => ary.reduce((a, b) => Number(a) - Number(b)),\n//   },\n//   */\n// ];\n\nconst formulas = baseFormulas;\n\n// const formulas = (formulaAry = []) => {\n//   const formulaMap = {};\n//   baseFormulas.concat(formulaAry).forEach((f) => {\n//     formulaMap[f.key] = f;\n//   });\n//   return formulaMap;\n// };\nconst formulam = {};\nbaseFormulas.forEach((f) => {\n  formulam[f.key] = f;\n});\n\nexport default {};\n\nexport { formulam, formulas, baseFormulas };\n","import { tf } from \"../locale/locale\";\n\nconst formatStringRender = (v) => v;\n\nconst formatNumberRender = (v) => {\n  // match \"-12.1\" or \"12\" or \"12.1\"\n  if (/^(-?\\d*.?\\d*)$/.test(v)) {\n    const v1 = Number(v).toFixed(2).toString();\n    const [first, ...parts] = v1.split(\"\\\\.\");\n    return [first.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\"), ...parts];\n  }\n  return v;\n};\n\nconst baseFormats = [\n  {\n    key: \"normal\",\n    title: tf(\"format.normal\"),\n    type: \"string\",\n    render: formatStringRender,\n  },\n  {\n    key: \"text\",\n    title: tf(\"format.text\"),\n    type: \"string\",\n    render: formatStringRender,\n  },\n  {\n    key: \"number\",\n    title: tf(\"format.number\"),\n    type: \"number\",\n    label: \"1,000.12\",\n    render: formatNumberRender,\n  },\n  {\n    key: \"percent\",\n    title: tf(\"format.percent\"),\n    type: \"number\",\n    label: \"10.12%\",\n    render: (v) => `${v}%`,\n  },\n  {\n    key: \"rmb\",\n    title: tf(\"format.rmb\"),\n    type: \"number\",\n    label: \"￥10.00\",\n    render: (v) => `￥${formatNumberRender(v)}`,\n  },\n  {\n    key: \"usd\",\n    title: tf(\"format.usd\"),\n    type: \"number\",\n    label: \"$10.00\",\n    render: (v) => `$${formatNumberRender(v)}`,\n  },\n  {\n    key: \"eur\",\n    title: tf(\"format.eur\"),\n    type: \"number\",\n    label: \"€10.00\",\n    render: (v) => `€${formatNumberRender(v)}`,\n  },\n  {\n    key: \"date\",\n    title: tf(\"format.date\"),\n    type: \"date\",\n    label: \"26/09/2008\",\n    render: formatStringRender,\n  },\n  {\n    key: \"time\",\n    title: tf(\"format.time\"),\n    type: \"date\",\n    label: \"15:59:00\",\n    render: formatStringRender,\n  },\n  {\n    key: \"datetime\",\n    title: tf(\"format.datetime\"),\n    type: \"date\",\n    label: \"26/09/2008 15:59:00\",\n    render: formatStringRender,\n  },\n  {\n    key: \"duration\",\n    title: tf(\"format.duration\"),\n    type: \"date\",\n    label: \"24:01:00\",\n    render: formatStringRender,\n  },\n];\n\n// const formats = (ary = []) => {\n//   const map = {};\n//   baseFormats.concat(ary).forEach((f) => {\n//     map[f.key] = f;\n//   });\n//   return map;\n// };\nconst formatm = {};\nbaseFormats.forEach((f) => {\n  formatm[f.key] = f;\n});\n\nexport default {};\nexport { formatm, baseFormats };\n","import { stringAt } from \"../core/alphabet\";\nimport { getFontSizePxByPt } from \"../core/font\";\nimport _cell from \"../core/cell\";\nimport { formulam } from \"../core/formula\";\nimport { formatm } from \"../core/format\";\n\nimport { Draw, DrawBox, thinLineWidth, npx } from \"../canvas/draw\";\n// gobal var\nconst cellPaddingWidth = 5;\nconst tableFixedHeaderCleanStyle = { fillStyle: \"#f4f5f8\" };\nconst tableGridStyle = {\n  fillStyle: \"#fff\",\n  lineWidth: thinLineWidth,\n  strokeStyle: \"#e6e6e6\",\n};\nfunction tableFixedHeaderStyle() {\n  return {\n    textAlign: \"center\",\n    textBaseline: \"middle\",\n    font: `500 ${npx(12)}px Source Sans Pro`,\n    fillStyle: \"#585757\",\n    lineWidth: thinLineWidth(),\n    strokeStyle: \"#e6e6e6\",\n  };\n}\n\nfunction getDrawBox(data, rindex, cindex, yoffset = 0) {\n  const { left, top, width, height } = data.cellRect(rindex, cindex);\n  return new DrawBox(left, top + yoffset, width, height, cellPaddingWidth);\n}\n/*\nfunction renderCellBorders(bboxes, translateFunc) {\n  const { draw } = this;\n  if (bboxes) {\n    const rset = new Set();\n    // console.log('bboxes:', bboxes);\n    bboxes.forEach(({ ri, ci, box }) => {\n      if (!rset.has(ri)) {\n        rset.add(ri);\n        translateFunc(ri);\n      }\n      draw.strokeBorders(box);\n    });\n  }\n}\n*/\n\nexport function renderCell(draw, data, rindex, cindex, yoffset = 0) {\n  const { sortedRowMap, rows, cols } = data;\n  if (rows.isHide(rindex) || cols.isHide(cindex)) return;\n  let nrindex = rindex;\n  if (sortedRowMap.has(rindex)) {\n    nrindex = sortedRowMap.get(rindex);\n  }\n\n  const cell = data.getCell(nrindex, cindex);\n  if (cell === null) return;\n  let frozen = false;\n  if (\"editable\" in cell && cell.editable === false) {\n    frozen = true;\n  }\n\n  const style = data.getCellStyleOrDefault(nrindex, cindex);\n  const dbox = getDrawBox(data, rindex, cindex, yoffset);\n  dbox.bgcolor = style.bgcolor;\n  if (style.border !== undefined) {\n    dbox.setBorders(style.border);\n    // bboxes.push({ ri: rindex, ci: cindex, box: dbox });\n    draw.strokeBorders(dbox);\n  }\n  draw.rect(dbox, () => {\n    // render text\n    let cellText = \"\";\n    if (!data.settings.evalPaused) {\n      cellText = _cell.render(cell.text || \"\", formulam, (y, x) =>\n        data.getCellTextOrDefault(x, y)\n      );\n    } else {\n      cellText = cell.text || \"\";\n    }\n    if (style.format) {\n      // console.log(data.formatm, '>>', cell.format);\n      cellText = formatm[style.format].render(cellText);\n    }\n    const font = Object.assign({}, style.font);\n    font.size = getFontSizePxByPt(font.size);\n    // console.log('style:', style);\n    draw.text(\n      cellText,\n      dbox,\n      {\n        align: style.align,\n        valign: style.valign,\n        font,\n        color: style.color,\n        strike: style.strike,\n        underline: style.underline,\n      },\n      style.textwrap,\n      { data, rindex, cindex }\n    );\n    // error\n    const error = data.validations.getError(rindex, cindex);\n    if (error) {\n      // console.log('error:', rindex, cindex, error);\n      draw.error(dbox);\n    }\n    if (frozen) {\n      draw.frozen(dbox);\n    }\n  });\n}\n\nfunction renderAutofilter(viewRange) {\n  const { data, draw } = this;\n  if (viewRange) {\n    const { autoFilter } = data;\n    if (!autoFilter.active()) return;\n    const afRange = autoFilter.hrange();\n    if (viewRange.intersects(afRange)) {\n      afRange.each((ri, ci) => {\n        const dbox = getDrawBox(data, ri, ci);\n        draw.dropdown(dbox);\n      });\n    }\n  }\n}\n\nfunction renderContent(viewRange, fw, fh, tx, ty) {\n  const { draw, data } = this;\n  draw.save();\n  draw.translate(fw, fh).translate(tx, ty);\n\n  const { exceptRowSet } = data;\n  // const exceptRows = Array.from(exceptRowSet);\n  const filteredTranslateFunc = (ri) => {\n    const ret = exceptRowSet.has(ri);\n    if (ret) {\n      const height = data.rows.getHeight(ri);\n      draw.translate(0, -height);\n    }\n    return !ret;\n  };\n\n  const exceptRowTotalHeight = data.exceptRowTotalHeight(\n    viewRange.sri,\n    viewRange.eri\n  );\n  // 1 render cell\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  viewRange.each(\n    (ri, ci) => {\n      renderCell(draw, data, ri, ci);\n    },\n    (ri) => filteredTranslateFunc(ri)\n  );\n  draw.restore();\n\n  // 2 render mergeCell\n  const rset = new Set();\n  draw.save();\n  draw.translate(0, -exceptRowTotalHeight);\n  data.eachMergesInView(viewRange, ({ sri, sci, eri }) => {\n    if (!exceptRowSet.has(sri)) {\n      renderCell(draw, data, sri, sci);\n    } else if (!rset.has(sri)) {\n      rset.add(sri);\n      const height = data.rows.sumHeight(sri, eri + 1);\n      draw.translate(0, -height);\n    }\n  });\n  draw.restore();\n\n  // 3 render autofilter\n  renderAutofilter.call(this, viewRange);\n\n  draw.restore();\n}\n\nfunction renderSelectedHeaderCell(x, y, w, h) {\n  const { draw } = this;\n  draw.save();\n  draw.attr({ fillStyle: \"rgba(75, 137, 255, 0.08)\" }).fillRect(x, y, w, h);\n  draw.restore();\n}\n\n// viewRange\n// type: all | left | top\n// w: the fixed width of header\n// h: the fixed height of header\n// tx: moving distance on x-axis\n// ty: moving distance on y-axis\nfunction renderFixedHeaders(type, viewRange, w, h, tx, ty) {\n  const { draw, data } = this;\n  const sumHeight = viewRange.h; // rows.sumHeight(viewRange.sri, viewRange.eri + 1);\n  const sumWidth = viewRange.w; // cols.sumWidth(viewRange.sci, viewRange.eci + 1);\n  const nty = ty + h;\n  const ntx = tx + w;\n\n  draw.save();\n  // draw rect background\n  draw.attr(tableFixedHeaderCleanStyle);\n  if (type === \"all\" || type === \"left\") draw.fillRect(0, nty, w, sumHeight);\n  if (type === \"all\" || type === \"top\") draw.fillRect(ntx, 0, sumWidth, h);\n\n  const { sri, sci, eri, eci } = data.selector.range;\n  // console.log(data.selectIndexes);\n  // draw text\n  // text font, align...\n  draw.attr(tableFixedHeaderStyle());\n  // y-header-text\n  if (type === \"all\" || type === \"left\") {\n    data.rowEach(viewRange.sri, viewRange.eri, (i, y1, rowHeight) => {\n      const y = nty + y1;\n      const ii = i;\n      draw.line([0, y], [w, y]);\n      if (sri <= ii && ii < eri + 1) {\n        renderSelectedHeaderCell.call(this, 0, y, w, rowHeight);\n      }\n      draw.fillText(ii + 1, w / 2, y + rowHeight / 2);\n      if (i > 0 && data.rows.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle: \"#c6c6c6\" });\n        draw.line([5, y + 5], [w - 5, y + 5]);\n        draw.restore();\n      }\n    });\n    draw.line([0, sumHeight + nty], [w, sumHeight + nty]);\n    draw.line([w, nty], [w, sumHeight + nty]);\n  }\n  // x-header-text\n  if (type === \"all\" || type === \"top\") {\n    data.colEach(viewRange.sci, viewRange.eci, (i, x1, colWidth) => {\n      const x = ntx + x1;\n      const ii = i;\n      draw.line([x, 0], [x, h]);\n      if (sci <= ii && ii < eci + 1) {\n        renderSelectedHeaderCell.call(this, x, 0, colWidth, h);\n      }\n      draw.fillText(stringAt(ii), x + colWidth / 2, h / 2);\n      if (i > 0 && data.cols.isHide(i - 1)) {\n        draw.save();\n        draw.attr({ strokeStyle: \"#c6c6c6\" });\n        draw.line([x + 5, 5], [x + 5, h - 5]);\n        draw.restore();\n      }\n    });\n    draw.line([sumWidth + ntx, 0], [sumWidth + ntx, h]);\n    draw.line([0, h], [sumWidth + ntx, h]);\n  }\n  draw.restore();\n}\n\nfunction renderFixedLeftTopCell(fw, fh) {\n  const { draw } = this;\n  draw.save();\n  // left-top-cell\n  draw.attr({ fillStyle: \"#f4f5f8\" }).fillRect(0, 0, fw, fh);\n  draw.restore();\n}\n\nfunction renderContentGrid({ sri, sci, eri, eci, w, h }, fw, fh, tx, ty) {\n  const gridStatus = this.gridStatus;\n  const { draw, data } = this;\n  const { settings } = data;\n\n  draw.save();\n  draw.attr(tableGridStyle).translate(fw + tx, fh + ty);\n  // const sumWidth = cols.sumWidth(sci, eci + 1);\n  // const sumHeight = rows.sumHeight(sri, eri + 1);\n  // console.log('sumWidth:', sumWidth);\n  // draw.clearRect(0, 0, w, h);\n  if (!settings.showGrid || !gridStatus) {\n    draw.restore();\n    return;\n  }\n  // console.log('rowStart:', rowStart, ', rowLen:', rowLen);\n  data.rowEach(sri, eri, (i, y, ch) => {\n    // console.log('y:', y);\n    if (i !== sri) draw.line([0, y], [w, y]);\n    if (i === eri) draw.line([0, y + ch], [w, y + ch]);\n  });\n  data.colEach(sci, eci, (i, x, cw) => {\n    if (i !== sci) draw.line([x, 0], [x, h]);\n    if (i === eci) draw.line([x + cw, 0], [x + cw, h]);\n  });\n  draw.restore();\n}\n\nfunction renderFreezeHighlightLine(fw, fh, ftw, fth) {\n  const { draw, data } = this;\n  const twidth = data.viewWidth() - fw;\n  const theight = data.viewHeight() - fh;\n  draw.save().translate(fw, fh).attr({ strokeStyle: \"rgba(75, 137, 255, .6)\" });\n  draw.line([0, fth], [twidth, fth]);\n  draw.line([ftw, 0], [ftw, theight]);\n  draw.restore();\n}\n\n/** end */\nclass Table {\n  constructor(el, data, options = {}) {\n    this.options = options;\n    this.el = el;\n    this.draw = new Draw(el, data.viewWidth(), data.viewHeight(), options);\n    this.data = data;\n    this.gridStatus = options.initialGridStatus;\n  }\n\n  getGridStatus() {\n    return this.gridStatus;\n  }\n\n  setGridStatus(status) {\n    this.gridStatus = status;\n    this.render();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.render();\n  }\n\n  render() {\n    // resize canvas\n    const { data } = this;\n    const { rows, cols } = data;\n    // fixed width of header\n    const fw = cols.indexWidth;\n    // fixed height of header\n    const fh = rows.height;\n\n    this.draw.resize(data.viewWidth(), data.viewHeight());\n    this.clear();\n\n    const viewRange = data.viewRange();\n    // renderAll.call(this, viewRange, data.scroll);\n    const tx = data.freezeTotalWidth();\n    const ty = data.freezeTotalHeight();\n    const { x, y } = data.scroll;\n    // 1\n    renderContentGrid.call(this, viewRange, fw, fh, tx, ty);\n    renderContent.call(this, viewRange, fw, fh, -x, -y);\n    renderFixedHeaders.call(this, \"all\", viewRange, fw, fh, tx, ty);\n    renderFixedLeftTopCell.call(this, fw, fh);\n    const [fri, fci] = data.freeze;\n    if (fri > 0 || fci > 0) {\n      // 2\n      if (fri > 0) {\n        const vr = viewRange.clone();\n        vr.sri = 0;\n        vr.eri = fri - 1;\n        vr.h = ty;\n        renderContentGrid.call(this, vr, fw, fh, tx, 0);\n        renderContent.call(this, vr, fw, fh, -x, 0);\n        renderFixedHeaders.call(this, \"top\", vr, fw, fh, tx, 0);\n      }\n      // 3\n      if (fci > 0) {\n        const vr = viewRange.clone();\n        vr.sci = 0;\n        vr.eci = fci - 1;\n        vr.w = tx;\n        renderContentGrid.call(this, vr, fw, fh, 0, ty);\n        renderFixedHeaders.call(this, \"left\", vr, fw, fh, 0, ty);\n        renderContent.call(this, vr, fw, fh, 0, -y);\n      }\n      // 4\n      const freezeViewRange = data.freezeViewRange();\n      renderContentGrid.call(this, freezeViewRange, fw, fh, 0, 0);\n      renderFixedHeaders.call(this, \"all\", freezeViewRange, fw, fh, 0, 0);\n      renderContent.call(this, freezeViewRange, fw, fh, 0, 0);\n      // 5\n      renderFreezeHighlightLine.call(this, fw, fh, tx, ty);\n    }\n  }\n\n  clear() {\n    this.draw.clear();\n  }\n}\n\nexport default Table;\n","/* global window document */\nimport { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\nimport Button from \"./button\";\nimport { Draw } from \"../canvas/draw\";\nimport { renderCell } from \"./table\";\nimport { t } from \"../locale/locale\";\n\n// resolution: 72 => 595 x 842\n// 150 => 1240 x 1754\n// 200 => 1654 x 2339\n// 300 => 2479 x 3508\n// 96 * cm / 2.54 , 96 * cm / 2.54\n\nconst PAGER_SIZES = [\n  [\"A3\", 11.69, 16.54],\n  [\"A4\", 8.27, 11.69],\n  [\"A5\", 5.83, 8.27],\n  [\"B4\", 9.84, 13.9],\n  [\"B5\", 6.93, 9.84],\n];\n\nconst PAGER_ORIENTATIONS = [\"landscape\", \"portrait\"];\n\nfunction inches2px(inc) {\n  return parseInt(96 * inc, 10);\n}\n\nfunction btnClick(type) {\n  if (type === \"cancel\") {\n    this.el.hide();\n  } else {\n    this.toPrint();\n  }\n}\n\nfunction pagerSizeChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const ps = PAGER_SIZES[value];\n  paper.w = inches2px(ps[1]);\n  paper.h = inches2px(ps[2]);\n  // console.log('paper:', ps, paper);\n  this.preview();\n}\nfunction pagerOrientationChange(evt) {\n  const { paper } = this;\n  const { value } = evt.target;\n  const v = PAGER_ORIENTATIONS[value];\n  paper.orientation = v;\n  this.preview();\n}\n\nexport default class Print {\n  constructor(data) {\n    this.paper = {\n      w: inches2px(PAGER_SIZES[0][1]),\n      h: inches2px(PAGER_SIZES[0][2]),\n      padding: 50,\n      orientation: PAGER_ORIENTATIONS[0],\n      get width() {\n        return this.orientation === \"landscape\" ? this.h : this.w;\n      },\n      get height() {\n        return this.orientation === \"landscape\" ? this.w : this.h;\n      },\n    };\n    this.data = data;\n    this.el = h(\"div\", `${cssPrefix}-print`)\n      .children(\n        h(\"div\", `${cssPrefix}-print-bar`).children(\n          h(\"div\", \"-title\").child(\"Print settings\"),\n          h(\"div\", \"-right\").children(\n            h(\"div\", `${cssPrefix}-buttons`).children(\n              new Button(\"cancel\").on(\"click\", btnClick.bind(this, \"cancel\")),\n              new Button(\"next\", \"primary\").on(\n                \"click\",\n                btnClick.bind(this, \"next\"),\n              ),\n            ),\n          ),\n        ),\n        h(\"div\", `${cssPrefix}-print-content`).children(\n          (this.contentEl = h(\"div\", \"-content\")),\n          h(\"div\", \"-sider\").child(\n            h(\"form\", \"\").children(\n              h(\"fieldset\", \"\").children(\n                h(\"label\", \"\").child(`${t(\"print.size\")}`),\n                h(\"select\", \"\")\n                  .children(\n                    ...PAGER_SIZES.map((it, index) =>\n                      h(\"option\", \"\")\n                        .attr(\"value\", index)\n                        .child(`${it[0]} ( ${it[1]}''x${it[2]}'' )`),\n                    ),\n                  )\n                  .on(\"change\", pagerSizeChange.bind(this)),\n              ),\n              h(\"fieldset\", \"\").children(\n                h(\"label\", \"\").child(`${t(\"print.orientation\")}`),\n                h(\"select\", \"\")\n                  .children(\n                    ...PAGER_ORIENTATIONS.map((it, index) =>\n                      h(\"option\", \"\")\n                        .attr(\"value\", index)\n                        .child(`${t(\"print.orientations\")[index]}`),\n                    ),\n                  )\n                  .on(\"change\", pagerOrientationChange.bind(this)),\n              ),\n            ),\n          ),\n        ),\n      )\n      .hide();\n  }\n\n  resetData(data) {\n    this.data = data;\n  }\n\n  preview() {\n    const { data, paper } = this;\n    const { width, height, padding } = paper;\n    const iwidth = width - padding * 2;\n    const iheight = height - padding * 2;\n    const cr = data.contentRange();\n    const pages = parseInt(cr.h / iheight, 10) + 1;\n    const scale = iwidth / cr.w;\n    let left = padding;\n    const top = padding;\n    if (scale > 1) {\n      left += (iwidth - cr.w) / 2;\n    }\n    let ri = 0;\n    let yoffset = 0;\n    this.contentEl.html(\"\");\n    this.canvases = [];\n    const mViewRange = {\n      sri: 0,\n      sci: 0,\n      eri: 0,\n      eci: 0,\n    };\n    for (let i = 0; i < pages; i += 1) {\n      let th = 0;\n      let yo = 0;\n      const wrap = h(\"div\", `${cssPrefix}-canvas-card`);\n      const canvas = h(\"canvas\", `${cssPrefix}-canvas`);\n      this.canvases.push(canvas.el);\n      const draw = new Draw(canvas.el, width, height);\n      // cell-content\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      // console.log('ri:', ri, cr.eri, yoffset);\n      for (; ri <= cr.eri; ri += 1) {\n        const rh = data.rows.getHeight(ri);\n        th += rh;\n        if (th < iheight) {\n          for (let ci = 0; ci <= cr.eci; ci += 1) {\n            renderCell(draw, data, ri, ci, yoffset);\n            mViewRange.eci = ci;\n          }\n        } else {\n          yo = -(th - rh);\n          break;\n        }\n      }\n      mViewRange.eri = ri;\n      draw.restore();\n      // merge-cell\n      draw.save();\n      draw.translate(left, top);\n      if (scale < 1) draw.scale(scale, scale);\n      const yof = yoffset;\n      data.eachMergesInView(mViewRange, ({ sri, sci }) => {\n        renderCell(draw, data, sri, sci, yof);\n      });\n      draw.restore();\n\n      mViewRange.sri = mViewRange.eri;\n      mViewRange.sci = mViewRange.eci;\n      yoffset += yo;\n      this.contentEl.child(\n        h(\"div\", `${cssPrefix}-canvas-card-wraper`).child(wrap.child(canvas)),\n      );\n    }\n    this.el.show();\n  }\n\n  toPrint() {\n    this.el.hide();\n    const { paper } = this;\n    const iframe = h(\"iframe\", \"\").hide();\n    const { el } = iframe;\n    window.document.body.appendChild(el);\n    const { contentWindow } = el;\n    const idoc = contentWindow.document;\n    const style = document.createElement(\"style\");\n    style.innerHTML = `\n      @page { size: ${paper.width}px ${paper.height}px; };\n      canvas {\n        page-break-before: auto;        \n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `;\n    idoc.head.appendChild(style);\n    this.canvases.forEach((it) => {\n      const cn = it.cloneNode(false);\n      const ctx = cn.getContext(\"2d\");\n      // ctx.imageSmoothingEnabled = true;\n      ctx.drawImage(it, 0, 0);\n      idoc.body.appendChild(cn);\n    });\n    contentWindow.print();\n  }\n}\n","import { h } from \"./element\";\nimport { bindClickoutside, unbindClickoutside } from \"./event\";\nimport { cssPrefix } from \"../config\";\nimport { tf } from \"../locale/locale\";\n\nconst menuItems = [\n  { key: \"copy\", title: tf(\"contextmenu.copy\"), label: \"Ctrl+C\" },\n  { key: \"cut\", title: tf(\"contextmenu.cut\"), label: \"Ctrl+X\" },\n  { key: \"paste\", title: tf(\"contextmenu.paste\"), label: \"Ctrl+V\" },\n  {\n    key: \"paste-value\",\n    title: tf(\"contextmenu.pasteValue\"),\n    label: \"Ctrl+Shift+V\",\n  },\n  {\n    key: \"paste-format\",\n    title: tf(\"contextmenu.pasteFormat\"),\n    label: \"Ctrl+Alt+V\",\n  },\n  { key: \"divider\" },\n  { key: \"insert-row\", title: tf(\"contextmenu.insertRow\") },\n  { key: \"insert-column\", title: tf(\"contextmenu.insertColumn\") },\n  { key: \"divider\" },\n  { key: \"delete-row\", title: tf(\"contextmenu.deleteRow\") },\n  { key: \"delete-column\", title: tf(\"contextmenu.deleteColumn\") },\n  { key: \"delete-cell-text\", title: tf(\"contextmenu.deleteCellText\") },\n  { key: \"hide\", title: tf(\"contextmenu.hide\") },\n  { key: \"divider\" },\n  { key: \"validation\", title: tf(\"contextmenu.validation\") },\n  { key: \"divider\" },\n  { key: \"cell-printable\", title: tf(\"contextmenu.cellprintable\") },\n  { key: \"cell-non-printable\", title: tf(\"contextmenu.cellnonprintable\") },\n  { key: \"divider\" },\n  { key: \"cell-editable\", title: tf(\"contextmenu.celleditable\") },\n  { key: \"cell-non-editable\", title: tf(\"contextmenu.cellnoneditable\") },\n];\n\nfunction buildMenuItem(item) {\n  if (item.key === \"divider\") {\n    return h(\"div\", `${cssPrefix}-item divider`);\n  }\n  return h(\"div\", `${cssPrefix}-item`)\n    .on(\"click\", () => {\n      this.itemClick(item.key);\n      this.hide();\n    })\n    .children(item.title(), h(\"div\", \"label\").child(item.label || \"\"));\n}\n\nfunction buildMenu() {\n  return menuItems.map((it) => buildMenuItem.call(this, it));\n}\n\nexport default class ContextMenu {\n  constructor(viewFn, isHide = false) {\n    this.menuItems = buildMenu.call(this);\n    this.el = h(\"div\", `${cssPrefix}-contextmenu`)\n      .children(...this.menuItems)\n      .hide();\n    this.viewFn = viewFn;\n    this.itemClick = () => {};\n    this.isHide = isHide;\n    this.setMode(\"range\");\n  }\n\n  // row-col: the whole rows or the whole cols\n  // range: select range\n  setMode(mode) {\n    const hideEl = this.menuItems[12];\n    if (mode === \"row-col\") {\n      hideEl.show();\n    } else {\n      hideEl.hide();\n    }\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setPosition(x, y) {\n    if (this.isHide) return;\n    const { el } = this;\n    const { width } = el.show().offset();\n    const view = this.viewFn();\n    const vhf = view.height / 2;\n    let left = x;\n    if (view.width - x <= width) {\n      left -= width;\n    }\n    el.css(\"left\", `${left}px`);\n    if (y > vhf) {\n      el.css(\"bottom\", `${view.height - y}px`)\n        .css(\"max-height\", `${y}px`)\n        .css(\"top\", \"auto\");\n    } else {\n      el.css(\"top\", `${y}px`)\n        .css(\"max-height\", `${view.height - y}px`)\n        .css(\"bottom\", \"auto\");\n    }\n    bindClickoutside(el);\n  }\n}\n","import { cssPrefix } from \"../../config\";\nimport tooltip from \"../tooltip\";\nimport { h } from \"../element\";\nimport { t } from \"../../locale/locale\";\n\nexport default class Item {\n  // tooltip\n  // tag: the subclass type\n  // shortcut: shortcut key\n  constructor(tag, shortcut, value) {\n    this.tip = \"\";\n    if (tag)\n      this.tip = t(\n        `toolbar.${tag.replace(/-[a-z]/g, (c) => c[1].toUpperCase())}`,\n      );\n    if (shortcut) this.tip += ` (${shortcut})`;\n    this.tag = tag;\n    this.shortcut = shortcut;\n    this.value = value;\n    this.el = this.element();\n    this.change = () => {};\n  }\n\n  element() {\n    const { tip } = this;\n    return h(\"div\", `${cssPrefix}-toolbar-btn`)\n      .on(\"mouseenter\", (evt) => {\n        if (this.tip) tooltip(this.tip, evt.target);\n      })\n      .attr(\"data-tooltip\", tip);\n  }\n\n  setState() {}\n}\n","/* global document */\nimport { h } from \"./element\";\nimport { bind } from \"./event\";\nimport { cssPrefix } from \"../config\";\n\nexport default function tooltip(html, target) {\n  if (target.classList.contains(\"active\")) {\n    return;\n  }\n  const { left, top, width, height } = target.getBoundingClientRect();\n  const el = h(\"div\", `${cssPrefix}-tooltip`).html(html).show();\n  document.body.appendChild(el.el);\n  const elBox = el.box();\n  // console.log('elBox:', elBox);\n  el.css(\"left\", `${left + width / 2 - elBox.width / 2}px`).css(\n    \"top\",\n    `${top + height + 2}px`,\n  );\n\n  bind(target, \"mouseleave\", () => {\n    if (document.body.contains(el.el)) {\n      document.body.removeChild(el.el);\n    }\n  });\n\n  bind(target, \"click\", () => {\n    if (document.body.contains(el.el)) {\n      document.body.removeChild(el.el);\n    }\n  });\n}\n","import Item from \"./item\";\n\nexport default class DropdownItem extends Item {\n  dropdown() {}\n\n  getValue(v) {\n    return v;\n  }\n\n  element() {\n    const { tag } = this;\n    this.dd = this.dropdown();\n    this.dd.change = (it) => this.change(tag, this.getValue(it));\n    return super.element().child(this.dd);\n  }\n\n  setState(v) {\n    if (v) {\n      this.value = v;\n      this.dd.setTitle(v);\n    }\n  }\n}\n","import { Element, h } from \"./element\";\nimport { bindClickoutside, unbindClickoutside } from \"./event\";\nimport { cssPrefix } from \"../config\";\n\nexport default class Dropdown extends Element {\n  constructor(title, width, showArrow, placement, ...children) {\n    super(\"div\", `${cssPrefix}-dropdown ${placement}`);\n    this.title = title;\n    this.change = () => {};\n    this.headerClick = () => {};\n    if (typeof title === \"string\") {\n      this.title = h(\"div\", `${cssPrefix}-dropdown-title`).child(title);\n    } else if (showArrow) {\n      this.title.addClass(\"arrow-left\");\n    }\n    this.contentEl = h(\"div\", `${cssPrefix}-dropdown-content`)\n      .css(\"width\", width)\n      .css(\"max-height\", \"400px\")\n      .css(\"overflow-y\", \"auto\")\n      .hide();\n\n    this.setContentChildren(...children);\n\n    this.headerEl = h(\"div\", `${cssPrefix}-dropdown-header`);\n    this.headerEl\n      .on(\"click\", () => {\n        if (this.contentEl.css(\"display\") !== \"block\") {\n          this.show();\n        } else {\n          this.hide();\n        }\n      })\n      .children(\n        this.title,\n        showArrow\n          ? h(\"div\", `${cssPrefix}-icon arrow-right`).child(\n              h(\"div\", `${cssPrefix}-icon-img arrow-down`),\n            )\n          : \"\",\n      );\n    this.children(this.headerEl, this.contentEl);\n  }\n\n  setContentChildren(...children) {\n    this.contentEl.html(\"\");\n    if (children.length > 0) {\n      this.contentEl.children(...children);\n    }\n  }\n\n  setTitle(title) {\n    this.title.html(title);\n    this.hide();\n  }\n\n  show() {\n    const { contentEl } = this;\n    contentEl.show();\n    this.parent().active();\n    bindClickoutside(this.parent(), () => {\n      this.hide();\n    });\n  }\n\n  hide() {\n    this.parent().active(false);\n    this.contentEl.hide();\n    unbindClickoutside(this.parent());\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport { h } from \"./element\";\nimport Icon from \"./icon\";\nimport { cssPrefix } from \"../config\";\n\nfunction buildItemWithIcon(iconName) {\n  return h(\"div\", `${cssPrefix}-item`).child(new Icon(iconName));\n}\n\nexport default class DropdownAlign extends Dropdown {\n  constructor(aligns, align) {\n    const icon = new Icon(`align-${align}`);\n    const naligns = aligns.map((it) =>\n      buildItemWithIcon(`align-${it}`).on(\"click\", () => {\n        this.setTitle(it);\n        this.change(it);\n      }),\n    );\n    super(icon, \"auto\", true, \"bottom-left\", ...naligns);\n  }\n\n  setTitle(align) {\n    this.title.setName(`align-${align}`);\n    this.hide();\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownAlign from \"../dropdown_align\";\n\nexport default class Align extends DropdownItem {\n  constructor(value) {\n    super(\"align\", \"\", value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign([\"left\", \"center\", \"right\"], value);\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownAlign from \"../dropdown_align\";\n\nexport default class Valign extends DropdownItem {\n  constructor(value) {\n    super(\"valign\", \"\", value);\n  }\n\n  dropdown() {\n    const { value } = this;\n    return new DropdownAlign([\"top\", \"middle\", \"bottom\"], value);\n  }\n}\n","import Item from \"./item\";\nimport Icon from \"../icon\";\n\nexport default class ToggleItem extends Item {\n  element() {\n    const { tag } = this;\n    return super\n      .element()\n      .child(new Icon(tag))\n      .on(\"click\", () => this.click());\n  }\n\n  click() {\n    this.change(this.tag, this.toggle());\n  }\n\n  setState(active) {\n    this.el.active(active);\n  }\n\n  toggle() {\n    return this.el.toggle();\n  }\n\n  active() {\n    return this.el.hasClass(\"active\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Autofilter extends ToggleItem {\n  constructor() {\n    super(\"autofilter\");\n  }\n\n  setState() {}\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Bold extends ToggleItem {\n  constructor() {\n    super(\"font-bold\", \"Ctrl+B\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Grid extends ToggleItem {\n  constructor(value) {\n    super(\"grid\", null, value);\n  }\n\n  setClickCallback(callBack) {\n    this.callBack = callBack;\n  }\n\n  click() {\n    super.click();\n    this.callBack?.(this.active());\n  }\n  \n  active() {\n    return this.el.hasClass(\"active\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Italic extends ToggleItem {\n  constructor() {\n    super(\"font-italic\", \"Ctrl+I\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Strike extends ToggleItem {\n  constructor() {\n    super(\"strike\", \"Ctrl+U\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Underline extends ToggleItem {\n  constructor() {\n    super(\"underline\", \"Ctrl+U\");\n  }\n}\n","import { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\n\nconst themeColorPlaceHolders = [\n  \"#ffffff\",\n  \"#000100\",\n  \"#e7e5e6\",\n  \"#445569\",\n  \"#5b9cd6\",\n  \"#ed7d31\",\n  \"#a5a5a5\",\n  \"#ffc001\",\n  \"#4371c6\",\n  \"#71ae47\",\n];\n\nconst themeColors = [\n  [\n    \"#f2f2f2\",\n    \"#7f7f7f\",\n    \"#d0cecf\",\n    \"#d5dce4\",\n    \"#deeaf6\",\n    \"#fce5d5\",\n    \"#ededed\",\n    \"#fff2cd\",\n    \"#d9e2f3\",\n    \"#e3efd9\",\n  ],\n  [\n    \"#d8d8d8\",\n    \"#595959\",\n    \"#afabac\",\n    \"#adb8ca\",\n    \"#bdd7ee\",\n    \"#f7ccac\",\n    \"#dbdbdb\",\n    \"#ffe59a\",\n    \"#b3c6e7\",\n    \"#c5e0b3\",\n  ],\n  [\n    \"#bfbfbf\",\n    \"#3f3f3f\",\n    \"#756f6f\",\n    \"#8596b0\",\n    \"#9cc2e6\",\n    \"#f4b184\",\n    \"#c9c9c9\",\n    \"#fed964\",\n    \"#8eaada\",\n    \"#a7d08c\",\n  ],\n  [\n    \"#a5a5a5\",\n    \"#262626\",\n    \"#3a3839\",\n    \"#333f4f\",\n    \"#2e75b5\",\n    \"#c45a10\",\n    \"#7b7b7b\",\n    \"#bf8e01\",\n    \"#2f5596\",\n    \"#538136\",\n  ],\n  [\n    \"#7f7f7f\",\n    \"#0c0c0c\",\n    \"#171516\",\n    \"#222a35\",\n    \"#1f4e7a\",\n    \"#843c0a\",\n    \"#525252\",\n    \"#7e6000\",\n    \"#203864\",\n    \"#365624\",\n  ],\n];\n\nconst standardColors = [\n  \"#c00000\",\n  \"#fe0000\",\n  \"#fdc101\",\n  \"#ffff01\",\n  \"#93d051\",\n  \"#00b04e\",\n  \"#01b0f1\",\n  \"#0170c1\",\n  \"#012060\",\n  \"#7030a0\",\n];\n\nfunction buildTd(bgcolor) {\n  return h(\"td\", \"\").child(\n    h(\"div\", `${cssPrefix}-color-palette-cell`)\n      .on(\"click.stop\", () => this.change(bgcolor))\n      .css(\"background-color\", bgcolor),\n  );\n}\n\nexport default class ColorPalette {\n  constructor() {\n    this.el = h(\"div\", `${cssPrefix}-color-palette`);\n    this.change = () => {};\n    const table = h(\"table\", \"\").children(\n      h(\"tbody\", \"\").children(\n        h(\"tr\", `${cssPrefix}-theme-color-placeholders`).children(\n          ...themeColorPlaceHolders.map((color) => buildTd.call(this, color)),\n        ),\n        ...themeColors.map((it) =>\n          h(\"tr\", `${cssPrefix}-theme-colors`).children(\n            ...it.map((color) => buildTd.call(this, color)),\n          ),\n        ),\n        h(\"tr\", `${cssPrefix}-standard-colors`).children(\n          ...standardColors.map((color) => buildTd.call(this, color)),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport Icon from \"./icon\";\nimport ColorPalette from \"./color_palette\";\n\nexport default class DropdownColor extends Dropdown {\n  constructor(iconName, color) {\n    const icon = new Icon(iconName)\n      .css(\"height\", \"16px\")\n      .css(\"border-bottom\", `3px solid ${color}`);\n    const colorPalette = new ColorPalette();\n    colorPalette.change = (v) => {\n      this.setTitle(v);\n      this.change(v);\n    };\n    super(icon, \"auto\", false, \"bottom-left\", colorPalette.el);\n  }\n\n  setTitle(color) {\n    this.title.css(\"border-color\", color);\n    this.hide();\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport { h } from \"./element\";\nimport Icon from \"./icon\";\nimport { cssPrefix } from \"../config\";\n\nconst lineTypes = [\n  [\n    \"thin\",\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>',\n  ],\n  [\n    \"medium\",\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"2\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.0\" x2=\"50\" y2=\"1.0\" stroke-width=\"2\" stroke=\"black\" style=\"user-select: none;\"></line></svg>',\n  ],\n  [\n    \"thick\",\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"1.5\" x2=\"50\" y2=\"1.5\" stroke-width=\"3\" stroke=\"black\" style=\"user-select: none;\"></line></svg>',\n  ],\n  [\n    \"dashed\",\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"2\" style=\"user-select: none;\"></line></svg>',\n  ],\n  [\n    \"dotted\",\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"1\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" stroke-dasharray=\"1\" style=\"user-select: none;\"></line></svg>',\n  ],\n  // ['double', '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"3\" style=\"user-select: none;\"><line x1=\"0\" y1=\"0.5\" x2=\"50\" y2=\"0.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line><line x1=\"0\" y1=\"2.5\" x2=\"50\" y2=\"2.5\" stroke-width=\"1\" stroke=\"black\" style=\"user-select: none;\"></line></svg>'],\n];\n\nexport default class DropdownLineType extends Dropdown {\n  constructor(type) {\n    const icon = new Icon(\"line-type\");\n    let beforei = 0;\n    const lineTypeEls = lineTypes.map((it, iti) =>\n      h(\"div\", `${cssPrefix}-item state ${type === it[0] ? \"checked\" : \"\"}`)\n        .on(\"click\", () => {\n          lineTypeEls[beforei].toggle(\"checked\");\n          lineTypeEls[iti].toggle(\"checked\");\n          beforei = iti;\n          this.hide();\n          this.change(it);\n        })\n        .child(h(\"div\", `${cssPrefix}-line-type`).html(it[1])),\n    );\n\n    super(icon, \"auto\", false, \"bottom-left\", ...lineTypeEls);\n  }\n}\n","import { h } from \"./element\";\nimport Icon from \"./icon\";\nimport DropdownColor from \"./dropdown_color\";\nimport DropdownLineType from \"./dropdown_linetype\";\nimport { cssPrefix } from \"../config\";\n\nfunction buildTable(...trs) {\n  return h(\"table\", \"\").child(h(\"tbody\", \"\").children(...trs));\n}\n\nfunction buildTd(iconName) {\n  return h(\"td\", \"\").child(\n    h(\"div\", `${cssPrefix}-border-palette-cell`)\n      .child(new Icon(`border-${iconName}`))\n      .on(\"click\", () => {\n        this.mode = iconName;\n        const { mode, style, color } = this;\n        this.change({ mode, style, color });\n      }),\n  );\n}\n\nexport default class BorderPalette {\n  constructor() {\n    this.color = \"#000\";\n    this.style = \"thin\";\n    this.mode = \"all\";\n    this.change = () => {};\n    this.ddColor = new DropdownColor(\"line-color\", this.color);\n    this.ddColor.change = (color) => {\n      this.color = color;\n    };\n    this.ddType = new DropdownLineType(this.style);\n    this.ddType.change = ([s]) => {\n      this.style = s;\n    };\n    this.el = h(\"div\", `${cssPrefix}-border-palette`);\n    const table = buildTable(\n      h(\"tr\", \"\").children(\n        h(\"td\", `${cssPrefix}-border-palette-left`).child(\n          buildTable(\n            h(\"tr\", \"\").children(\n              ...[\"all\", \"inside\", \"horizontal\", \"vertical\", \"outside\"].map(\n                (it) => buildTd.call(this, it),\n              ),\n            ),\n            h(\"tr\", \"\").children(\n              ...[\"left\", \"top\", \"right\", \"bottom\", \"none\"].map((it) =>\n                buildTd.call(this, it),\n              ),\n            ),\n          ),\n        ),\n        h(\"td\", `${cssPrefix}-border-palette-right`).children(\n          h(\"div\", `${cssPrefix}-toolbar-btn`).child(this.ddColor.el),\n          h(\"div\", `${cssPrefix}-toolbar-btn`).child(this.ddType.el),\n        ),\n      ),\n    );\n    this.el.child(table);\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport Icon from \"./icon\";\nimport BorderPalette from \"./border_palette\";\n\nexport default class DropdownBorder extends Dropdown {\n  constructor() {\n    const icon = new Icon(\"border-all\");\n    const borderPalette = new BorderPalette();\n    borderPalette.change = (v) => {\n      this.change(v);\n      this.hide();\n    };\n    super(icon, \"auto\", false, \"bottom-left\", borderPalette.el);\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownBorder from \"../dropdown_border\";\n\nexport default class Border extends DropdownItem {\n  constructor() {\n    super(\"border\");\n  }\n\n  dropdown() {\n    return new DropdownBorder();\n  }\n}\n","import Item from \"./item\";\nimport Icon from \"../icon\";\n\nexport default class IconItem extends Item {\n  element() {\n    return super\n      .element()\n      .child(new Icon(this.tag))\n      .on(\"click\", () => this.change(this.tag));\n  }\n\n  setState(disabled) {\n    this.el.disabled(disabled);\n  }\n}\n","import IconItem from \"./icon_item\";\n\nexport default class Clearformat extends IconItem {\n  constructor() {\n    super(\"clearformat\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Paintformat extends ToggleItem {\n  constructor() {\n    super(\"paintformat\");\n  }\n\n  setState() {}\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownColor from \"../dropdown_color\";\n\nexport default class TextColor extends DropdownItem {\n  constructor(color) {\n    super(\"color\", undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownColor from \"../dropdown_color\";\n\nexport default class FillColor extends DropdownItem {\n  constructor(color) {\n    super(\"bgcolor\", undefined, color);\n  }\n\n  dropdown() {\n    const { tag, value } = this;\n    return new DropdownColor(tag, value);\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport { h } from \"./element\";\nimport { fontSizes } from \"../core/font\";\nimport { cssPrefix } from \"../config\";\n\nexport default class DropdownFontSize extends Dropdown {\n  constructor() {\n    const nfontSizes = fontSizes.map((it) =>\n      h(\"div\", `${cssPrefix}-item`)\n        .on(\"click\", () => {\n          this.setTitle(`${it.pt}`);\n          this.change(it);\n        })\n        .child(`${it.pt}`),\n    );\n    super(\"10\", \"60px\", true, \"bottom-left\", ...nfontSizes);\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownFontsize from \"../dropdown_fontsize\";\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super(\"font-size\");\n  }\n\n  getValue(it) {\n    return it.pt;\n  }\n\n  dropdown() {\n    return new DropdownFontsize();\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport { h } from \"./element\";\nimport { baseFonts } from \"../core/font\";\nimport { cssPrefix } from \"../config\";\n\nexport default class DropdownFont extends Dropdown {\n  constructor() {\n    const nfonts = baseFonts.map((it) =>\n      h(\"div\", `${cssPrefix}-item`)\n        .on(\"click\", () => {\n          this.setTitle(it.title);\n          this.change(it);\n        })\n        .child(it.title),\n    );\n    super(baseFonts[0].title, \"160px\", true, \"bottom-left\", ...nfonts);\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownFont from \"../dropdown_font\";\n\nexport default class Font extends DropdownItem {\n  constructor() {\n    super(\"font-name\");\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFont();\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport { h } from \"./element\";\nimport { baseFormats } from \"../core/format\";\nimport { cssPrefix } from \"../config\";\n\nexport default class DropdownFormat extends Dropdown {\n  constructor() {\n    let nformats = baseFormats.slice(0);\n    nformats.splice(2, 0, { key: \"divider\" });\n    nformats.splice(8, 0, { key: \"divider\" });\n    nformats = nformats.map((it) => {\n      const item = h(\"div\", `${cssPrefix}-item`);\n      if (it.key === \"divider\") {\n        item.addClass(\"divider\");\n      } else {\n        item.child(it.title()).on(\"click\", () => {\n          this.setTitle(it.title());\n          this.change(it);\n        });\n        if (it.label) item.child(h(\"div\", \"label\").html(it.label));\n      }\n      return item;\n    });\n    super(\"Normal\", \"220px\", true, \"bottom-left\", ...nformats);\n  }\n\n  setTitle(key) {\n    for (let i = 0; i < baseFormats.length; i += 1) {\n      if (baseFormats[i].key === key) {\n        this.title.html(baseFormats[i].title());\n      }\n    }\n    this.hide();\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownFormat from \"../dropdown_format\";\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super(\"format\");\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFormat();\n  }\n}\n","import Dropdown from \"./dropdown\";\nimport Icon from \"./icon\";\nimport { h } from \"./element\";\nimport { baseFormulas } from \"../core/formula\";\nimport { cssPrefix } from \"../config\";\n\nexport default class DropdownFormula extends Dropdown {\n  constructor() {\n    const nformulas = baseFormulas.map((it) =>\n      h(\"div\", `${cssPrefix}-item`)\n        .on(\"click\", () => {\n          this.hide();\n          this.change(it);\n        })\n        .child(it.key),\n    );\n    super(new Icon(\"formula\"), \"180px\", true, \"bottom-left\", ...nformulas);\n  }\n}\n","import DropdownItem from \"./dropdown_item\";\nimport DropdownFormula from \"../dropdown_formula\";\n\nexport default class Format extends DropdownItem {\n  constructor() {\n    super(\"formula\");\n  }\n\n  getValue(it) {\n    return it.key;\n  }\n\n  dropdown() {\n    return new DropdownFormula();\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Freeze extends ToggleItem {\n  constructor() {\n    super(\"freeze\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Merge extends ToggleItem {\n  constructor() {\n    super(\"merge\");\n  }\n\n  setState(active, disabled) {\n    this.el.active(active).disabled(disabled);\n  }\n}\n","import IconItem from \"./icon_item\";\n\nexport default class Redo extends IconItem {\n  constructor() {\n    super(\"redo\", \"Ctrl+Y\");\n  }\n}\n","import IconItem from \"./icon_item\";\n\nexport default class Undo extends IconItem {\n  constructor() {\n    super(\"undo\", \"Ctrl+Z\");\n  }\n}\n","import IconItem from \"./icon_item\";\n\nexport default class Print extends IconItem {\n  constructor() {\n    super(\"print\", \"Ctrl+P\");\n  }\n}\n","import ToggleItem from \"./toggle_item\";\n\nexport default class Textwrap extends ToggleItem {\n  constructor() {\n    super(\"textwrap\");\n  }\n}\n","import Dropdown from \"../dropdown\";\nimport DropdownItem from \"./dropdown_item\";\n\nimport { cssPrefix } from \"../../config\";\nimport { h } from \"../element\";\nimport Icon from \"../icon\";\n\nclass DropdownMore extends Dropdown {\n  constructor() {\n    const icon = new Icon(\"ellipsis\");\n    const moreBtns = h(\"div\", `${cssPrefix}-toolbar-more`);\n    super(icon, \"auto\", false, \"bottom-right\", moreBtns);\n    this.moreBtns = moreBtns;\n    this.contentEl.css(\"max-width\", \"420px\");\n  }\n}\n\nexport default class More extends DropdownItem {\n  constructor() {\n    super(\"more\");\n    this.el.hide();\n  }\n\n  dropdown() {\n    return new DropdownMore();\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n  }\n}\n","/* global window */\n\nimport Align from \"./align\";\nimport Valign from \"./valign\";\nimport Autofilter from \"./autofilter\";\nimport Bold from \"./bold\";\nimport Grid from \"./grid\";\nimport Italic from \"./italic\";\nimport Strike from \"./strike\";\nimport Underline from \"./underline\";\nimport Border from \"./border\";\nimport Clearformat from \"./clearformat\";\nimport Paintformat from \"./paintformat\";\nimport TextColor from \"./text_color\";\nimport FillColor from \"./fill_color\";\nimport FontSize from \"./font_size\";\nimport Font from \"./font\";\nimport Format from \"./format\";\nimport Formula from \"./formula\";\nimport Freeze from \"./freeze\";\nimport Merge from \"./merge\";\nimport Redo from \"./redo\";\nimport Undo from \"./undo\";\nimport Print from \"./print\";\nimport Textwrap from \"./textwrap\";\nimport More from \"./more\";\nimport Item from \"./item\";\n\nimport { h } from \"../element\";\nimport { cssPrefix } from \"../../config\";\nimport { bind } from \"../event\";\n\nfunction buildDivider() {\n  return h(\"div\", `${cssPrefix}-toolbar-divider`);\n}\n\nfunction initBtns2() {\n  this.btns2 = [];\n  this.items.forEach((it) => {\n    if (Array.isArray(it)) {\n      it.forEach(({ el }) => {\n        const rect = el.box();\n        const { marginLeft, marginRight } = el.computedStyle();\n        this.btns2.push([\n          el,\n          rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10),\n        ]);\n      });\n    } else {\n      const rect = it.box();\n      const { marginLeft, marginRight } = it.computedStyle();\n      this.btns2.push([\n        it,\n        rect.width + parseInt(marginLeft, 10) + parseInt(marginRight, 10),\n      ]);\n    }\n  });\n}\n\nfunction moreResize() {\n  const { el, btns, moreEl, btns2 } = this;\n  const { moreBtns, contentEl } = moreEl.dd;\n  el.css(\"width\", `${this.widthFn()}px`);\n  const elBox = el.box();\n\n  let sumWidth = 160;\n  let sumWidth2 = 12;\n  const list1 = [];\n  const list2 = [];\n  btns2.forEach(([it, w], index) => {\n    sumWidth += w;\n    if (index === btns2.length - 1 || sumWidth < elBox.width) {\n      list1.push(it);\n    } else {\n      sumWidth2 += w;\n      list2.push(it);\n    }\n  });\n  btns.html(\"\").children(...list1);\n  moreBtns.html(\"\").children(...list2);\n  contentEl.css(\"width\", `${sumWidth2}px`);\n  if (list2.length > 0) {\n    moreEl.show();\n  } else {\n    moreEl.hide();\n  }\n}\n\nfunction genBtn(it) {\n  const btn = new Item();\n  btn.el.on(\"click\", () => {\n    if (it.onClick) it.onClick(this.data.getData(), this.data);\n  });\n  btn.tip = it.tip || \"\";\n\n  let { el } = it;\n\n  if (it.icon) {\n    el = h(\"img\").attr(\"src\", it.icon);\n  }\n\n  if (el) {\n    const icon = h(\"div\", `${cssPrefix}-icon`);\n    icon.child(el);\n    btn.el.child(icon);\n  }\n\n  return btn;\n}\n\nexport default class Toolbar {\n  constructor(data, widthFn, isHide = false) {\n    this.data = data;\n    this.change = () => {};\n    this.widthFn = widthFn;\n    this.isHide = isHide;\n    const style = data.defaultStyle();\n    this.items = [\n      [\n        (this.undoEl = new Undo()),\n        (this.redoEl = new Redo()),\n        new Print(),\n        (this.paintformatEl = new Paintformat()),\n        (this.clearformatEl = new Clearformat()),\n      ],\n      buildDivider(),\n      [(this.formatEl = new Format())],\n      buildDivider(),\n      [(this.fontEl = new Font()), (this.fontSizeEl = new FontSize())],\n      buildDivider(),\n      [\n        (this.boldEl = new Bold()),\n        (this.italicEl = new Italic()),\n        (this.underlineEl = new Underline()),\n        (this.strikeEl = new Strike()),\n        (this.textColorEl = new TextColor(style.color)),\n      ],\n      buildDivider(),\n      [\n        (this.fillColorEl = new FillColor(style.bgcolor)),\n        (this.borderEl = new Border()),\n        (this.mergeEl = new Merge()),\n        (this.gridEl = new Grid()),\n      ],\n      buildDivider(),\n      [\n        (this.alignEl = new Align(style.align)),\n        (this.valignEl = new Valign(style.valign)),\n        (this.textwrapEl = new Textwrap()),\n      ],\n      buildDivider(),\n      [\n        (this.freezeEl = new Freeze()),\n        (this.autofilterEl = new Autofilter()),\n        (this.formulaEl = new Formula()),\n      ],\n    ];\n\n    const { extendToolbar = {} } = data.settings;\n\n    if (extendToolbar.left && extendToolbar.left.length > 0) {\n      this.items.unshift(buildDivider());\n      const btns = extendToolbar.left.map(genBtn.bind(this));\n\n      this.items.unshift(btns);\n    }\n    if (extendToolbar.right && extendToolbar.right.length > 0) {\n      this.items.push(buildDivider());\n      const btns = extendToolbar.right.map(genBtn.bind(this));\n      this.items.push(btns);\n    }\n\n    this.items.push([(this.moreEl = new More())]);\n\n    this.el = h(\"div\", `${cssPrefix}-toolbar`);\n    this.btns = h(\"div\", `${cssPrefix}-toolbar-btns`);\n\n    this.items.forEach((it) => {\n      if (Array.isArray(it)) {\n        it.forEach((i) => {\n          this.btns.child(i.el);\n          i.change = (...args) => {\n            this.change(...args);\n          };\n        });\n      } else {\n        this.btns.child(it.el);\n      }\n    });\n\n    this.el.child(this.btns);\n    if (isHide) {\n      this.el.hide();\n    } else {\n      this.reset();\n      setTimeout(() => {\n        initBtns2.call(this);\n        moreResize.call(this);\n      }, 0);\n      bind(window, \"resize\", () => {\n        moreResize.call(this);\n      });\n    }\n  }\n\n  paintformatActive() {\n    return this.paintformatEl.active();\n  }\n\n  paintformatToggle() {\n    this.paintformatEl.toggle();\n  }\n\n  trigger(type) {\n    this[`${type}El`].click();\n  }\n\n  resetData(data) {\n    this.data = data;\n    this.reset();\n  }\n\n  reset() {\n    if (this.isHide) return;\n    const { data } = this;\n    const style = data.getSelectedCellStyle();\n    // console.log('canUndo:', data.canUndo());\n    this.undoEl.setState(!data.canUndo());\n    this.redoEl.setState(!data.canRedo());\n    this.mergeEl.setState(data.canUnmerge(), !data.selector.multiple());\n    this.autofilterEl.setState(!data.canAutofilter());\n    // this.mergeEl.disabled();\n    // console.log('selectedCell:', style, cell);\n    const { font, format } = style;\n    this.formatEl.setState(format);\n    this.fontEl.setState(font.name);\n    this.fontSizeEl.setState(font.size);\n    this.boldEl.setState(font.bold);\n    this.italicEl.setState(font.italic);\n    this.underlineEl.setState(style.underline);\n    this.strikeEl.setState(style.strike);\n    this.textColorEl.setState(style.color);\n    this.fillColorEl.setState(style.bgcolor);\n    this.alignEl.setState(style.align);\n    this.valignEl.setState(style.valign);\n    this.textwrapEl.setState(style.textwrap);\n    // console.log('freeze is Active:', data.freezeIsActive());\n    this.freezeEl.setState(data.freezeIsActive());\n  }\n}\n","/* global document */\n/* global window */\nimport { h } from \"./element\";\nimport Icon from \"./icon\";\nimport { cssPrefix } from \"../config\";\nimport { bind, unbind } from \"./event\";\n\nexport default class Modal {\n  constructor(title, content, width = \"600px\") {\n    this.title = title;\n    this.el = h(\"div\", `${cssPrefix}-modal`)\n      .css(\"width\", width)\n      .children(\n        h(\"div\", `${cssPrefix}-modal-header`).children(\n          new Icon(\"close\").on(\"click.stop\", () => this.hide()),\n          this.title,\n        ),\n        h(\"div\", `${cssPrefix}-modal-content`).children(...content),\n      )\n      .hide();\n  }\n\n  show() {\n    // dimmer\n    this.dimmer = h(\"div\", `${cssPrefix}-dimmer active`);\n    document.body.appendChild(this.dimmer.el);\n    const { width, height } = this.el.show().box();\n    const { clientHeight, clientWidth } = document.documentElement;\n    this.el.offset({\n      left: (clientWidth - width) / 2,\n      top: (clientHeight - height) / 3,\n    });\n    window.xkeydownEsc = (evt) => {\n      if (evt.keyCode === 27) {\n        this.hide();\n      }\n    };\n    bind(window, \"keydown\", window.xkeydownEsc);\n  }\n\n  hide() {\n    this.el.hide();\n    document.body.removeChild(this.dimmer.el);\n    unbind(window, \"keydown\", window.xkeydownEsc);\n    delete window.xkeydownEsc;\n  }\n}\n","import { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\n\nexport default class FormInput {\n  constructor(width, hint) {\n    this.vchange = () => {};\n    this.el = h(\"div\", `${cssPrefix}-form-input`);\n    this.input = h(\"input\", \"\")\n      .css(\"width\", width)\n      .on(\"input\", (evt) => this.vchange(evt))\n      .attr(\"placeholder\", hint);\n    this.el.child(this.input);\n  }\n\n  focus() {\n    setTimeout(() => {\n      this.input.el.focus();\n    }, 10);\n  }\n\n  hint(v) {\n    this.input.attr(\"placeholder\", v);\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n}\n","import { h } from \"./element\";\nimport Suggest from \"./suggest\";\nimport { cssPrefix } from \"../config\";\n\nexport default class FormSelect {\n  constructor(key, items, width, getTitle = (it) => it, change = () => {}) {\n    this.key = key;\n    this.getTitle = getTitle;\n    this.vchange = () => {};\n    this.el = h(\"div\", `${cssPrefix}-form-select`);\n    this.suggest = new Suggest(\n      items.map((it) => ({ key: it, title: this.getTitle(it) })),\n      (it) => {\n        this.itemClick(it.key);\n        change(it.key);\n        this.vchange(it.key);\n      },\n      width,\n      this.el,\n    );\n    this.el\n      .children(\n        (this.itemEl = h(\"div\", \"input-text\").html(this.getTitle(key))),\n        this.suggest.el,\n      )\n      .on(\"click\", () => this.show());\n  }\n\n  show() {\n    this.suggest.search(\"\");\n  }\n\n  itemClick(it) {\n    this.key = it;\n    this.itemEl.html(this.getTitle(it));\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.key = v;\n      this.itemEl.html(this.getTitle(v));\n      return this;\n    }\n    return this.key;\n  }\n}\n","import { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\nimport { t } from \"../locale/locale\";\n\nconst patterns = {\n  number: /(^\\d+$)|(^\\d+(\\.\\d{0,4})?$)/,\n  date: /^\\d{4}-\\d{1,2}-\\d{1,2}$/,\n};\n\n// rule: { required: false, type, pattern: // }\nexport default class FormField {\n  constructor(input, rule, label, labelWidth) {\n    this.label = \"\";\n    this.rule = rule;\n    if (label) {\n      this.label = h(\"label\", \"label\")\n        .css(\"width\", `${labelWidth}px`)\n        .html(label);\n    }\n    this.tip = h(\"div\", \"tip\").child(\"tip\").hide();\n    this.input = input;\n    this.input.vchange = () => this.validate();\n    this.el = h(\"div\", `${cssPrefix}-form-field`).children(\n      this.label,\n      input.el,\n      this.tip,\n    );\n  }\n\n  isShow() {\n    return this.el.css(\"display\") !== \"none\";\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    return this;\n  }\n\n  val(v) {\n    return this.input.val(v);\n  }\n\n  hint(hint) {\n    this.input.hint(hint);\n  }\n\n  validate() {\n    const { input, rule, tip, el } = this;\n    const v = input.val();\n    if (rule.required) {\n      if (/^\\s*$/.test(v)) {\n        tip.html(t(\"validation.required\"));\n        el.addClass(\"error\");\n        return false;\n      }\n    }\n    if (rule.type || rule.pattern) {\n      const pattern = rule.pattern || patterns[rule.type];\n      if (!pattern.test(v)) {\n        tip.html(t(\"validation.notMatch\"));\n        el.addClass(\"error\");\n        return false;\n      }\n    }\n    el.removeClass(\"error\");\n    return true;\n  }\n}\n","import Modal from \"./modal\";\nimport FormInput from \"./form_input\";\nimport FormSelect from \"./form_select\";\nimport FormField from \"./form_field\";\nimport Button from \"./button\";\nimport { t } from \"../locale/locale\";\nimport { h } from \"./element\";\nimport { cssPrefix } from \"../config\";\n\nconst fieldLabelWidth = 100;\n\nexport default class ModalValidation extends Modal {\n  constructor() {\n    const mf = new FormField(\n      new FormSelect(\n        \"cell\",\n        [\"cell\"], // cell|row|column\n        \"100%\",\n        (it) => t(`dataValidation.modeType.${it}`),\n      ),\n      { required: true },\n      `${t(\"dataValidation.range\")}:`,\n      fieldLabelWidth,\n    );\n    const rf = new FormField(new FormInput(\"120px\", \"E3 or E3:F12\"), {\n      required: true,\n      pattern: /^([A-Z]{1,2}[1-9]\\d*)(:[A-Z]{1,2}[1-9]\\d*)?$/,\n    });\n    const cf = new FormField(\n      new FormSelect(\n        \"list\",\n        [\"list\", \"number\", \"date\", \"phone\", \"email\"],\n        \"100%\",\n        (it) => t(`dataValidation.type.${it}`),\n        (it) => this.criteriaSelected(it),\n      ),\n      { required: true },\n      `${t(\"dataValidation.criteria\")}:`,\n      fieldLabelWidth,\n    );\n\n    // operator\n    const of = new FormField(\n      new FormSelect(\n        \"be\",\n        [\"be\", \"nbe\", \"eq\", \"neq\", \"lt\", \"lte\", \"gt\", \"gte\"],\n        \"160px\",\n        (it) => t(`dataValidation.operator.${it}`),\n        (it) => this.criteriaOperatorSelected(it),\n      ),\n      { required: true },\n    ).hide();\n    // min, max\n    const minvf = new FormField(new FormInput(\"70px\", \"10\"), {\n      required: true,\n    }).hide();\n    const maxvf = new FormField(new FormInput(\"70px\", \"100\"), {\n      required: true,\n      type: \"number\",\n    }).hide();\n    // value\n    const svf = new FormField(new FormInput(\"120px\", \"a,b,c\"), {\n      required: true,\n    });\n    const vf = new FormField(new FormInput(\"70px\", \"10\"), {\n      required: true,\n      type: \"number\",\n    }).hide();\n\n    super(t(\"contextmenu.validation\"), [\n      h(\"div\", `${cssPrefix}-form-fields`).children(mf.el, rf.el),\n      h(\"div\", `${cssPrefix}-form-fields`).children(\n        cf.el,\n        of.el,\n        minvf.el,\n        maxvf.el,\n        vf.el,\n        svf.el,\n      ),\n      h(\"div\", `${cssPrefix}-buttons`).children(\n        new Button(\"cancel\").on(\"click\", () => this.btnClick(\"cancel\")),\n        new Button(\"remove\").on(\"click\", () => this.btnClick(\"remove\")),\n        new Button(\"save\", \"primary\").on(\"click\", () => this.btnClick(\"save\")),\n      ),\n    ]);\n    this.mf = mf;\n    this.rf = rf;\n    this.cf = cf;\n    this.of = of;\n    this.minvf = minvf;\n    this.maxvf = maxvf;\n    this.vf = vf;\n    this.svf = svf;\n    this.change = () => {};\n  }\n\n  showVf(it) {\n    const hint = it === \"date\" ? \"2018-11-12\" : \"10\";\n    const { vf } = this;\n    vf.input.hint(hint);\n    vf.show();\n  }\n\n  criteriaSelected(it) {\n    const { of, minvf, maxvf, vf, svf } = this;\n    if (it === \"date\" || it === \"number\") {\n      of.show();\n      minvf.rule.type = it;\n      maxvf.rule.type = it;\n      if (it === \"date\") {\n        minvf.hint(\"2018-11-12\");\n        maxvf.hint(\"2019-11-12\");\n      } else {\n        minvf.hint(\"10\");\n        maxvf.hint(\"100\");\n      }\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n      svf.hide();\n    } else {\n      if (it === \"list\") {\n        svf.show();\n      } else {\n        svf.hide();\n      }\n      vf.hide();\n      of.hide();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  criteriaOperatorSelected(it) {\n    if (!it) return;\n    const { minvf, maxvf, vf } = this;\n    if (it === \"be\" || it === \"nbe\") {\n      minvf.show();\n      maxvf.show();\n      vf.hide();\n    } else {\n      const type = this.cf.val();\n      vf.rule.type = type;\n      if (type === \"date\") {\n        vf.hint(\"2018-11-12\");\n      } else {\n        vf.hint(\"10\");\n      }\n      vf.show();\n      minvf.hide();\n      maxvf.hide();\n    }\n  }\n\n  btnClick(action) {\n    if (action === \"cancel\") {\n      this.hide();\n    } else if (action === \"remove\") {\n      this.change(\"remove\");\n      this.hide();\n    } else if (action === \"save\") {\n      // validate\n      const attrs = [\"mf\", \"rf\", \"cf\", \"of\", \"svf\", \"vf\", \"minvf\", \"maxvf\"];\n      for (let i = 0; i < attrs.length; i += 1) {\n        const field = this[attrs[i]];\n        // console.log('field:', field);\n        if (field.isShow()) {\n          // console.log('it:', it);\n          if (!field.validate()) return;\n        }\n      }\n\n      const mode = this.mf.val();\n      const ref = this.rf.val();\n      const type = this.cf.val();\n      const operator = this.of.val();\n      let value = this.svf.val();\n      if (type === \"number\" || type === \"date\") {\n        if (operator === \"be\" || operator === \"nbe\") {\n          value = [this.minvf.val(), this.maxvf.val()];\n        } else {\n          value = this.vf.val();\n        }\n      }\n      // console.log(mode, ref, type, operator, value);\n      this.change(\"save\", mode, ref, {\n        type,\n        operator,\n        required: false,\n        value,\n      });\n      this.hide();\n    }\n  }\n\n  // validation: { mode, ref, validator }\n  setValue(v) {\n    if (v) {\n      const { mf, rf, cf, of, svf, vf, minvf, maxvf } = this;\n      const { mode, ref, validator } = v;\n      const { type, operator, value } = validator || { type: \"list\" };\n      mf.val(mode || \"cell\");\n      rf.val(ref);\n      cf.val(type);\n      of.val(operator);\n      if (Array.isArray(value)) {\n        minvf.val(value[0]);\n        maxvf.val(value[1]);\n      } else {\n        svf.val(value || \"\");\n        vf.val(value || \"\");\n      }\n      this.criteriaSelected(type);\n      this.criteriaOperatorSelected(operator);\n    }\n    this.show();\n  }\n}\n","import { h } from \"./element\";\nimport Button from \"./button\";\nimport { bindClickoutside, unbindClickoutside } from \"./event\";\nimport { cssPrefix } from \"../config\";\nimport { t } from \"../locale/locale\";\n\nfunction buildMenu(clsName) {\n  return h(\"div\", `${cssPrefix}-item ${clsName}`);\n}\n\nfunction buildSortItem(it) {\n  return buildMenu(\"state\")\n    .child(t(`sort.${it}`))\n    .on(\"click.stop\", () => this.itemClick(it));\n}\n\nfunction buildFilterBody(items) {\n  const { filterbEl, filterValues } = this;\n  filterbEl.html(\"\");\n  const itemKeys = Object.keys(items);\n  itemKeys.forEach((it, index) => {\n    const cnt = items[it];\n    const active = filterValues.includes(it) ? \"checked\" : \"\";\n    filterbEl.child(\n      h(\"div\", `${cssPrefix}-item state ${active}`)\n        .on(\"click.stop\", () => this.filterClick(index, it))\n        .children(\n          it === \"\" ? t(\"filter.empty\") : it,\n          h(\"div\", \"label\").html(`(${cnt})`),\n        ),\n    );\n  });\n}\n\nfunction resetFilterHeader() {\n  const { filterhEl, filterValues, values } = this;\n  filterhEl.html(`${filterValues.length} / ${values.length}`);\n  filterhEl.checked(filterValues.length === values.length);\n}\n\nexport default class SortFilter {\n  constructor() {\n    this.filterbEl = h(\"div\", `${cssPrefix}-body`);\n    this.filterhEl = h(\"div\", `${cssPrefix}-header state`).on(\n      \"click.stop\",\n      () => this.filterClick(0, \"all\"),\n    );\n    this.el = h(\"div\", `${cssPrefix}-sort-filter`)\n      .children(\n        (this.sortAscEl = buildSortItem.call(this, \"asc\")),\n        (this.sortDescEl = buildSortItem.call(this, \"desc\")),\n        buildMenu(\"divider\"),\n        h(\"div\", `${cssPrefix}-filter`).children(\n          this.filterhEl,\n          this.filterbEl,\n        ),\n        h(\"div\", `${cssPrefix}-buttons`).children(\n          new Button(\"cancel\").on(\"click\", () => this.btnClick(\"cancel\")),\n          new Button(\"ok\", \"primary\").on(\"click\", () => this.btnClick(\"ok\")),\n        ),\n      )\n      .hide();\n    // this.setFilters(['test1', 'test2', 'text3']);\n    this.ci = null;\n    this.sortDesc = null;\n    this.values = null;\n    this.filterValues = [];\n  }\n\n  btnClick(it) {\n    if (it === \"ok\") {\n      const { ci, sort, filterValues } = this;\n      if (this.ok) {\n        this.ok(ci, sort, \"in\", filterValues);\n      }\n    }\n    this.hide();\n  }\n\n  itemClick(it) {\n    // console.log('it:', it);\n    this.sort = it;\n    const { sortAscEl, sortDescEl } = this;\n    sortAscEl.checked(it === \"asc\");\n    sortDescEl.checked(it === \"desc\");\n  }\n\n  filterClick(index, it) {\n    // console.log('index:', index, it);\n    const { filterbEl, filterValues, values } = this;\n    const children = filterbEl.children();\n    if (it === \"all\") {\n      if (children.length === filterValues.length) {\n        this.filterValues = [];\n        children.forEach((i) => h(i).checked(false));\n      } else {\n        this.filterValues = Array.from(values);\n        children.forEach((i) => h(i).checked(true));\n      }\n    } else {\n      const checked = h(children[index]).toggle(\"checked\");\n      if (checked) {\n        filterValues.push(it);\n      } else {\n        filterValues.splice(\n          filterValues.findIndex((i) => i === it),\n          1,\n        );\n      }\n    }\n    resetFilterHeader.call(this);\n  }\n\n  // v: autoFilter\n  // items: {value: cnt}\n  // sort { ci, order }\n  set(ci, items, filter, sort) {\n    this.ci = ci;\n    const { sortAscEl, sortDescEl } = this;\n    if (sort !== null) {\n      this.sort = sort.order;\n      sortAscEl.checked(sort.asc());\n      sortDescEl.checked(sort.desc());\n    } else {\n      this.sortDesc = null;\n      sortAscEl.checked(false);\n      sortDescEl.checked(false);\n    }\n    // this.setFilters(items, filter);\n    this.values = Object.keys(items);\n    this.filterValues = filter ? Array.from(filter.value) : Object.keys(items);\n    buildFilterBody.call(this, items, filter);\n    resetFilterHeader.call(this);\n  }\n\n  setOffset(v) {\n    this.el.offset(v).show();\n    let tindex = 1;\n    bindClickoutside(this.el, () => {\n      if (tindex <= 0) {\n        this.hide();\n      }\n      tindex -= 1;\n    });\n  }\n\n  show() {\n    this.el.show();\n  }\n\n  hide() {\n    this.el.hide();\n    unbindClickoutside(this.el);\n  }\n}\n","/* global document */\nimport { h } from \"./element\";\nimport Icon from \"./icon\";\nimport { cssPrefix } from \"../config\";\n\nexport function xtoast(title, content) {\n  const el = h(\"div\", `${cssPrefix}-toast`);\n  const dimmer = h(\"div\", `${cssPrefix}-dimmer active`);\n  const remove = () => {\n    document.body.removeChild(el.el);\n    document.body.removeChild(dimmer.el);\n  };\n\n  el.children(\n    h(\"div\", `${cssPrefix}-toast-header`).children(\n      new Icon(\"close\").on(\"click.stop\", () => remove()),\n      title,\n    ),\n    h(\"div\", `${cssPrefix}-toast-content`).html(content),\n  );\n  document.body.appendChild(el.el);\n  document.body.appendChild(dimmer.el);\n  // set offset\n  const { width, height } = el.box();\n  const { clientHeight, clientWidth } = document.documentElement;\n  el.offset({\n    left: (clientWidth - width) / 2,\n    top: (clientHeight - height) / 3,\n  });\n}\n\nexport default {};\n","function sheetContextEvents() {\n  const { table, toolBar, data } = this;\n  const gridCallBack = (status) => {\n    table.setGridStatus(status);\n    data.sheetConfig.setGrid(status);\n  };\n  toolBar.gridEl.setClickCallback(gridCallBack);\n}\n\nfunction setInitialSet() {\n  const { table, toolBar, data } = this;\n  const { sheetConfig } = data;\n  toolBar.gridEl.setState(!!sheetConfig?.gridLine);\n  table.setGridStatus(!!sheetConfig?.gridLine);\n}\n\nexport default class SheetContext {\n  constructor(table, toolBar, data, options = {}) {\n    this.table = table;\n    this.toolBar = toolBar;\n    this.data = data;\n    this.options = options;\n    setInitialSet.call(this);\n    sheetContextEvents.call(this);\n  }\n\n  resetState(data) {\n    this.data = data;\n    setInitialSet.call(this);\n    sheetContextEvents.call(this);\n  }\n}\n","/* global window */\nimport { h } from \"./element\";\nimport { bind, mouseMoveUp, bindTouch, createEventEmitter } from \"./event\";\nimport Resizer from \"./resizer\";\nimport Scrollbar from \"./scrollbar\";\nimport Selector from \"./selector\";\nimport Editor from \"./editor\";\nimport Print from \"./print\";\nimport ContextMenu from \"./contextmenu\";\nimport Table from \"./table\";\nimport Toolbar from \"./toolbar/index\";\nimport ModalValidation from \"./modal_validation\";\nimport SortFilter from \"./sort_filter\";\nimport { xtoast } from \"./message\";\nimport { cssPrefix } from \"../config\";\nimport { formulas } from \"../core/formula\";\nimport SheetContext from \"./sheetContext\";\n\n/**\n * @desc throttle fn\n * @param func function\n * @param wait Delay in milliseconds\n */\nfunction throttle(func, wait) {\n  let timeout;\n  return (...arg) => {\n    const that = this;\n    const args = arg;\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        timeout = null;\n        func.apply(that, args);\n      }, wait);\n    }\n  };\n}\n\nfunction scrollbarMove() {\n  const { data, verticalScrollbar, horizontalScrollbar } = this;\n  const { l, t, left, top, width, height } = data.getSelectedRect();\n  const tableOffset = this.getTableOffset();\n  // console.log(',l:', l, ', left:', left, ', tOffset.left:', tableOffset.width);\n  if (Math.abs(left) + width > tableOffset.width) {\n    horizontalScrollbar.move({ left: l + width - tableOffset.width });\n  } else {\n    const fsw = data.freezeTotalWidth();\n    if (left < fsw) {\n      horizontalScrollbar.move({ left: l - 1 - fsw });\n    }\n  }\n  // console.log('top:', top, ', height:', height, ', tof.height:', tableOffset.height);\n  if (Math.abs(top) + height > tableOffset.height) {\n    verticalScrollbar.move({ top: t + height - tableOffset.height - 1 });\n  } else {\n    const fsh = data.freezeTotalHeight();\n    if (top < fsh) {\n      verticalScrollbar.move({ top: t - 1 - fsh });\n    }\n  }\n}\n\nfunction selectorSet(multiple, ri, ci, indexesUpdated = true, moving = false) {\n  if (ri === -1 && ci === -1) return;\n  const { table, selector, toolbar, data, contextMenu } = this;\n  const cell = data.getCell(ri, ci);\n  if (multiple) {\n    selector.setEnd(ri, ci, moving);\n    this.trigger(\"cells-selected\", cell, selector.range);\n  } else {\n    // trigger click event\n    selector.set(ri, ci, indexesUpdated);\n    this.trigger(\"cell-selected\", cell, ri, ci);\n  }\n  contextMenu.setMode(ri === -1 || ci === -1 ? \"row-col\" : \"range\");\n  toolbar.reset();\n  table.render();\n}\n\n// multiple: boolean\n// direction: left | right | up | down | row-first | row-last | col-first | col-last\nfunction selectorMove(multiple, direction) {\n  const { selector, data } = this;\n  const { rows, cols } = data;\n  let [ri, ci] = selector.indexes;\n  const { eri, eci } = selector.range;\n  if (multiple) {\n    [ri, ci] = selector.moveIndexes;\n  }\n  // console.log('selector.move:', ri, ci);\n  if (direction === \"left\") {\n    if (ci > 0) ci -= 1;\n  } else if (direction === \"right\") {\n    if (eci !== ci) ci = eci;\n    if (ci < cols.len - 1) ci += 1;\n  } else if (direction === \"up\") {\n    if (ri > 0) ri -= 1;\n  } else if (direction === \"down\") {\n    if (eri !== ri) ri = eri;\n    if (ri < rows.len - 1) ri += 1;\n  } else if (direction === \"row-first\") {\n    ci = 0;\n  } else if (direction === \"row-last\") {\n    ci = cols.len - 1;\n  } else if (direction === \"col-first\") {\n    ri = 0;\n  } else if (direction === \"col-last\") {\n    ri = rows.len - 1;\n  }\n  if (multiple) {\n    selector.moveIndexes = [ri, ci];\n  }\n  selectorSet.call(this, multiple, ri, ci);\n  scrollbarMove.call(this);\n}\n\n// private methods\nfunction overlayerMousemove(evt) {\n  // console.log('x:', evt.offsetX, ', y:', evt.offsetY);\n  if (evt.buttons !== 0) return;\n  if (evt.target.className === `${cssPrefix}-resizer-hover`) return;\n  const { offsetX, offsetY } = evt;\n  const { rowResizer, colResizer, tableEl, data } = this;\n  const { rows, cols } = data;\n  if (offsetX > cols.indexWidth && offsetY > rows.height) {\n    rowResizer.hide();\n    colResizer.hide();\n    return;\n  }\n  const tRect = tableEl.box();\n  const cRect = data.getCellRectByXY(evt.offsetX, evt.offsetY);\n  if (cRect.ri >= 0 && cRect.ci === -1) {\n    cRect.width = cols.indexWidth;\n    rowResizer.show(cRect, {\n      width: tRect.width,\n    });\n    if (rows.isHide(cRect.ri - 1)) {\n      rowResizer.showUnhide(cRect.ri);\n    } else {\n      rowResizer.hideUnhide();\n    }\n  } else {\n    rowResizer.hide();\n  }\n  if (cRect.ri === -1 && cRect.ci >= 0) {\n    cRect.height = rows.height;\n    colResizer.show(cRect, {\n      height: tRect.height,\n    });\n    if (cols.isHide(cRect.ci - 1)) {\n      colResizer.showUnhide(cRect.ci);\n    } else {\n      colResizer.hideUnhide();\n    }\n  } else {\n    colResizer.hide();\n  }\n}\n\n// let scrollThreshold = 15;\nfunction overlayerMousescroll(evt) {\n  // scrollThreshold -= 1;\n  // if (scrollThreshold > 0) return;\n  // scrollThreshold = 15;\n\n  const { verticalScrollbar, horizontalScrollbar, data } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n  // console.log('evt:::', evt.wheelDelta, evt.detail * 40);\n\n  const { rows, cols } = data;\n\n  // deltaY for vertical delta\n  const { deltaY, deltaX } = evt;\n  const loopValue = (ii, vFunc) => {\n    let i = ii;\n    let v = 0;\n    do {\n      v = vFunc(i);\n      i += 1;\n    } while (v <= 0);\n    return v;\n  };\n  // console.log('deltaX', deltaX, 'evt.detail', evt.detail);\n  // if (evt.detail) deltaY = evt.detail * 40;\n  const moveY = (vertical) => {\n    if (vertical > 0) {\n      // up\n      const ri = data.scroll.ri + 1;\n      if (ri < rows.len) {\n        const rh = loopValue(ri, (i) => rows.getHeight(i));\n        verticalScrollbar.move({ top: top + rh - 1 });\n      }\n    } else {\n      // down\n      const ri = data.scroll.ri - 1;\n      if (ri >= 0) {\n        const rh = loopValue(ri, (i) => rows.getHeight(i));\n        verticalScrollbar.move({ top: ri === 0 ? 0 : top - rh });\n      }\n    }\n  };\n\n  // deltaX for Mac horizontal scroll\n  const moveX = (horizontal) => {\n    if (horizontal > 0) {\n      // left\n      const ci = data.scroll.ci + 1;\n      if (ci < cols.len) {\n        const cw = loopValue(ci, (i) => cols.getWidth(i));\n        horizontalScrollbar.move({ left: left + cw - 1 });\n      }\n    } else {\n      // right\n      const ci = data.scroll.ci - 1;\n      if (ci >= 0) {\n        const cw = loopValue(ci, (i) => cols.getWidth(i));\n        horizontalScrollbar.move({ left: ci === 0 ? 0 : left - cw });\n      }\n    }\n  };\n  const tempY = Math.abs(deltaY);\n  const tempX = Math.abs(deltaX);\n  const temp = Math.max(tempY, tempX);\n  // console.log('event:', evt);\n  // detail for windows/mac firefox vertical scroll\n  if (/Firefox/i.test(window.navigator.userAgent))\n    throttle(moveY(evt.detail), 50);\n  if (temp === tempX) throttle(moveX(deltaX), 50);\n  if (temp === tempY) throttle(moveY(deltaY), 50);\n}\n\nfunction overlayerTouch(direction, distance) {\n  const { verticalScrollbar, horizontalScrollbar } = this;\n  const { top } = verticalScrollbar.scroll();\n  const { left } = horizontalScrollbar.scroll();\n\n  if (direction === \"left\" || direction === \"right\") {\n    horizontalScrollbar.move({ left: left - distance });\n  } else if (direction === \"up\" || direction === \"down\") {\n    verticalScrollbar.move({ top: top - distance });\n  }\n}\n\nfunction verticalScrollbarSet() {\n  const { data, verticalScrollbar } = this;\n  const { height } = this.getTableOffset();\n  const erth = data.exceptRowTotalHeight(0, -1);\n  // console.log('erth:', erth);\n  verticalScrollbar.set(height, data.rows.totalHeight() - erth);\n}\n\nfunction horizontalScrollbarSet() {\n  const { data, horizontalScrollbar } = this;\n  const { width } = this.getTableOffset();\n  if (data) {\n    horizontalScrollbar.set(width, data.cols.totalWidth());\n  }\n}\n\nfunction sheetFreeze() {\n  const { selector, data, editor } = this;\n  const [ri, ci] = data.freeze;\n  if (ri > 0 || ci > 0) {\n    const fwidth = data.freezeTotalWidth();\n    const fheight = data.freezeTotalHeight();\n    editor.setFreezeLengths(fwidth, fheight);\n  }\n  selector.resetAreaOffset();\n}\n\nfunction sheetReset() {\n  const { tableEl, overlayerEl, overlayerCEl, table, toolbar, selector, el } =\n    this;\n  const tOffset = this.getTableOffset();\n  const vRect = this.getRect();\n  tableEl.attr(vRect);\n  overlayerEl.offset(vRect);\n  overlayerCEl.offset(tOffset);\n  el.css(\"width\", `${vRect.width}px`);\n  verticalScrollbarSet.call(this);\n  horizontalScrollbarSet.call(this);\n  sheetFreeze.call(this);\n  table.render();\n  toolbar.reset();\n  selector.reset();\n}\n\nfunction clearClipboard() {\n  const { data, selector } = this;\n  data.clearClipboard();\n  selector.hideClipboard();\n}\n\nfunction copy(evt) {\n  const { data, selector } = this;\n  if (data.settings.mode === \"read\") return;\n  data.copy();\n  data.copyToSystemClipboard(evt);\n  selector.showClipboard();\n}\n\nfunction cut() {\n  const { data, selector } = this;\n  if (data.settings.mode === \"read\") return;\n  data.cut();\n  selector.showClipboard();\n}\n\nfunction paste(what, evt) {\n  const { data } = this;\n  if (data.settings.mode === \"read\") return;\n  if (data.clipboard.isClear()) {\n    const resetSheet = () => sheetReset.call(this);\n    const eventTrigger = (rows) => {\n      this.trigger(\"pasted-clipboard\", rows);\n    };\n    // pastFromSystemClipboard is async operation, need to tell it how to reset sheet and trigger event after it finishes\n    // pasting content from system clipboard\n    data.pasteFromSystemClipboard(evt, resetSheet, eventTrigger);\n  } else if (data.paste(what, (msg) => xtoast(\"Tip\", msg))) {\n    sheetReset.call(this);\n  } else if (evt) {\n    const cdata = evt.clipboardData.getData(\"text/plain\");\n    this.data.pasteFromText(cdata);\n    sheetReset.call(this);\n  }\n}\n\nfunction hideRowsOrCols() {\n  this.data.hideRowsOrCols();\n  sheetReset.call(this);\n}\n\nfunction unhideRowsOrCols(type, index) {\n  this.data.unhideRowsOrCols(type, index);\n  sheetReset.call(this);\n}\n\nfunction autofilter() {\n  const { data } = this;\n  data.autofilter();\n  sheetReset.call(this);\n}\n\nfunction toolbarChangePaintformatPaste() {\n  const { toolbar } = this;\n  if (toolbar.paintformatActive()) {\n    paste.call(this, \"format\");\n    clearClipboard.call(this);\n    toolbar.paintformatToggle();\n  }\n}\n\nfunction overlayerMousedown(evt) {\n  // console.log(':::::overlayer.mousedown:', evt.detail, evt.button, evt.buttons, evt.shiftKey);\n  // console.log('evt.target.className:', evt.target.className);\n  const { selector, data, table, sortFilter } = this;\n  const { offsetX, offsetY } = evt;\n  const isAutofillEl = evt.target.className === `${cssPrefix}-selector-corner`;\n  const cellRect = data.getCellRectByXY(offsetX, offsetY);\n  const { left, top, width, height } = cellRect;\n  let { ri, ci } = cellRect;\n  // sort or filter\n  const { autoFilter } = data;\n  if (autoFilter.includes(ri, ci)) {\n    if (left + width - 20 < offsetX && top + height - 20 < offsetY) {\n      const items = autoFilter.items(ci, (r, c) => data.rows.getCell(r, c));\n      sortFilter.hide();\n      sortFilter.set(\n        ci,\n        items,\n        autoFilter.getFilter(ci),\n        autoFilter.getSort(ci)\n      );\n      sortFilter.setOffset({ left, top: top + height + 2 });\n      return;\n    }\n  }\n\n  // console.log('ri:', ri, ', ci:', ci);\n  if (!evt.shiftKey) {\n    // console.log('selectorSetStart:::');\n    if (isAutofillEl) {\n      selector.showAutofill(ri, ci);\n    } else {\n      selectorSet.call(this, false, ri, ci);\n    }\n\n    // mouse move up\n    mouseMoveUp(\n      window,\n      (e) => {\n        // console.log('mouseMoveUp::::');\n        ({ ri, ci } = data.getCellRectByXY(e.offsetX, e.offsetY));\n        if (isAutofillEl) {\n          selector.showAutofill(ri, ci);\n        } else if (e.buttons === 1 && !e.shiftKey) {\n          selectorSet.call(this, true, ri, ci, true, true);\n        }\n      },\n      () => {\n        if (isAutofillEl && selector.arange && data.settings.mode !== \"read\") {\n          if (\n            data.autofill(selector.arange, \"all\", (msg) => xtoast(\"Tip\", msg))\n          ) {\n            table.render();\n          }\n        }\n        selector.hideAutofill();\n        toolbarChangePaintformatPaste.call(this);\n      }\n    );\n  }\n\n  if (!isAutofillEl && evt.buttons === 1) {\n    if (evt.shiftKey) {\n      // console.log('shiftKey::::');\n      selectorSet.call(this, true, ri, ci);\n    }\n  }\n}\n\nfunction editorSetOffset() {\n  const { editor, data } = this;\n  const sOffset = data.getSelectedRect();\n  const tOffset = this.getTableOffset();\n  let sPosition = \"top\";\n  // console.log('sOffset:', sOffset, ':', tOffset);\n  if (sOffset.top > tOffset.height / 2) {\n    sPosition = \"bottom\";\n  }\n  editor.setOffset(sOffset, sPosition);\n}\n\nfunction editorSet() {\n  const { editor, data } = this;\n  if (data.settings.mode === \"read\") return;\n  editorSetOffset.call(this);\n  editor.setCell(data.getSelectedCell(), data.getSelectedValidator());\n  clearClipboard.call(this);\n}\n\nfunction verticalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrolly(distance, () => {\n    selector.resetBRLAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction horizontalScrollbarMove(distance) {\n  const { data, table, selector } = this;\n  data.scrollx(distance, () => {\n    selector.resetBRTAreaOffset();\n    editorSetOffset.call(this);\n    table.render();\n  });\n}\n\nfunction rowResizerFinished(cRect, distance) {\n  const { ri } = cRect;\n  const { table, selector, data } = this;\n  const { sri, eri } = selector.range;\n  if (ri >= sri && ri <= eri) {\n    for (let row = sri; row <= eri; row += 1) {\n      data.rows.setHeight(row, distance);\n    }\n  } else {\n    data.rows.setHeight(ri, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  verticalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction colResizerFinished(cRect, distance) {\n  const { ci } = cRect;\n  const { table, selector, data } = this;\n  const { sci, eci } = selector.range;\n  if (ci >= sci && ci <= eci) {\n    for (let col = sci; col <= eci; col += 1) {\n      data.cols.setWidth(col, distance);\n    }\n  } else {\n    data.cols.setWidth(ci, distance);\n  }\n\n  table.render();\n  selector.resetAreaOffset();\n  horizontalScrollbarSet.call(this);\n  editorSetOffset.call(this);\n}\n\nfunction dataSetCellText(text, state = \"finished\") {\n  const { data, table } = this;\n  // const [ri, ci] = selector.indexes;\n  if (data.settings.mode === \"read\") return;\n  data.setSelectedCellText(text, state);\n  const { ri, ci } = data.selector;\n  if (state === \"finished\") {\n    table.render();\n  } else {\n    this.trigger(\"cell-edited\", text, ri, ci);\n  }\n}\n\nfunction insertDeleteRowColumn(type) {\n  const { data } = this;\n  if (data.settings.mode === \"read\") return;\n  if (type === \"insert-row\") {\n    data.insert(\"row\");\n  } else if (type === \"delete-row\") {\n    data.delete(\"row\");\n  } else if (type === \"insert-column\") {\n    data.insert(\"column\");\n  } else if (type === \"delete-column\") {\n    data.delete(\"column\");\n  } else if (type === \"delete-cell\") {\n    data.deleteCell();\n  } else if (type === \"delete-cell-format\") {\n    data.deleteCell(\"format\");\n  } else if (type === \"delete-cell-text\") {\n    data.deleteCell(\"text\");\n  } else if (type === \"cell-printable\") {\n    data.setSelectedCellAttr(\"printable\", true);\n  } else if (type === \"cell-non-printable\") {\n    data.setSelectedCellAttr(\"printable\", false);\n  } else if (type === \"cell-editable\") {\n    data.setSelectedCellAttr(\"editable\", true);\n  } else if (type === \"cell-non-editable\") {\n    data.setSelectedCellAttr(\"editable\", false);\n  }\n  clearClipboard.call(this);\n  sheetReset.call(this);\n}\n\nfunction toolbarChange(type, value) {\n  const { data } = this;\n  if (type === \"undo\") {\n    this.undo();\n  } else if (type === \"redo\") {\n    this.redo();\n  } else if (type === \"print\") {\n    this.print.preview();\n  } else if (type === \"paintformat\") {\n    if (value === true) copy.call(this);\n    else clearClipboard.call(this);\n  } else if (type === \"clearformat\") {\n    insertDeleteRowColumn.call(this, \"delete-cell-format\");\n  } else if (type === \"link\") {\n    // link\n  } else if (type === \"chart\") {\n    // chart\n  } else if (type === \"autofilter\") {\n    // filter\n    autofilter.call(this);\n  } else if (type === \"freeze\") {\n    if (value) {\n      const { ri, ci } = data.selector;\n      this.freeze(ri, ci);\n    } else {\n      this.freeze(0, 0);\n    }\n  } else {\n    data.setSelectedCellAttr(type, value);\n    if (type === \"formula\" && !data.selector.multiple()) {\n      editorSet.call(this);\n    }\n    sheetReset.call(this);\n  }\n}\n\nfunction sortFilterChange(ci, order, operator, value) {\n  // console.log('sort:', sortDesc, operator, value);\n  this.data.setAutoFilter(ci, order, operator, value);\n  sheetReset.call(this);\n}\n\nfunction sheetInitEvents() {\n  const {\n    selector,\n    overlayerEl,\n    rowResizer,\n    colResizer,\n    verticalScrollbar,\n    horizontalScrollbar,\n    editor,\n    contextMenu,\n    toolbar,\n    modalValidation,\n    sortFilter,\n  } = this;\n  // overlayer\n  overlayerEl\n    .on(\"mousemove\", (evt) => {\n      overlayerMousemove.call(this, evt);\n    })\n    .on(\"mousedown\", (evt) => {\n      editor.clear();\n      contextMenu.hide();\n      // the left mouse button: mousedown → mouseup → click\n      // the right mouse button: mousedown → contenxtmenu → mouseup\n      if (evt.buttons === 2) {\n        if (this.data.xyInSelectedRect(evt.offsetX, evt.offsetY)) {\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        } else {\n          overlayerMousedown.call(this, evt);\n          contextMenu.setPosition(evt.offsetX, evt.offsetY);\n        }\n        evt.stopPropagation();\n      } else if (evt.detail === 2) {\n        editorSet.call(this);\n      } else {\n        overlayerMousedown.call(this, evt);\n      }\n    })\n    .on(\"mousewheel.stop\", (evt) => {\n      overlayerMousescroll.call(this, evt);\n    })\n    .on(\"mouseout\", (evt) => {\n      const { offsetX, offsetY } = evt;\n      if (offsetY <= 0) colResizer.hide();\n      if (offsetX <= 0) rowResizer.hide();\n    });\n\n  selector.inputChange = (v) => {\n    dataSetCellText.call(this, v, \"input\");\n    editorSet.call(this);\n  };\n\n  // slide on mobile\n  bindTouch(overlayerEl.el, {\n    move: (direction, d) => {\n      overlayerTouch.call(this, direction, d);\n    },\n  });\n\n  // toolbar change\n  toolbar.change = (type, value) => toolbarChange.call(this, type, value);\n\n  // sort filter ok\n  sortFilter.ok = (ci, order, o, v) =>\n    sortFilterChange.call(this, ci, order, o, v);\n\n  // resizer finished callback\n  rowResizer.finishedFn = (cRect, distance) => {\n    rowResizerFinished.call(this, cRect, distance);\n  };\n  colResizer.finishedFn = (cRect, distance) => {\n    colResizerFinished.call(this, cRect, distance);\n  };\n  // resizer unhide callback\n  rowResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, \"row\", index);\n  };\n  colResizer.unhideFn = (index) => {\n    unhideRowsOrCols.call(this, \"col\", index);\n  };\n  // scrollbar move callback\n  verticalScrollbar.moveFn = (distance, evt) => {\n    verticalScrollbarMove.call(this, distance, evt);\n  };\n  horizontalScrollbar.moveFn = (distance, evt) => {\n    horizontalScrollbarMove.call(this, distance, evt);\n  };\n  // editor\n  editor.change = (state, itext) => {\n    dataSetCellText.call(this, itext, state);\n  };\n  // modal validation\n  modalValidation.change = (action, ...args) => {\n    if (action === \"save\") {\n      this.data.addValidation(...args);\n    } else {\n      this.data.removeValidation();\n    }\n  };\n  // contextmenu\n  contextMenu.itemClick = (type) => {\n    // console.log('type:', type);\n    if (type === \"validation\") {\n      modalValidation.setValue(this.data.getSelectedValidation());\n    } else if (type === \"copy\") {\n      copy.call(this);\n    } else if (type === \"cut\") {\n      cut.call(this);\n    } else if (type === \"paste\") {\n      paste.call(this, \"all\");\n    } else if (type === \"paste-value\") {\n      paste.call(this, \"text\");\n    } else if (type === \"paste-format\") {\n      paste.call(this, \"format\");\n    } else if (type === \"hide\") {\n      hideRowsOrCols.call(this);\n    } else {\n      insertDeleteRowColumn.call(this, type);\n    }\n  };\n\n  bind(window, \"resize\", () => {\n    this.reload();\n  });\n\n  bind(window, \"click\", (evt) => {\n    this.focusing = overlayerEl.contains(evt.target);\n  });\n\n  bind(window, \"paste\", (evt) => {\n    if (!this.focusing) return;\n    paste.call(this, \"all\", evt);\n    evt.preventDefault();\n  });\n\n  bind(window, \"copy\", (evt) => {\n    if (!this.focusing) return;\n    copy.call(this, evt);\n    evt.preventDefault();\n  });\n\n  // for selector\n  bind(window, \"keydown\", (evt) => {\n    if (!this.focusing) return;\n    const keyCode = evt.keyCode || evt.which;\n    const { key, ctrlKey, shiftKey, metaKey } = evt;\n    // console.log('keydown.evt: ', keyCode);\n    if (ctrlKey || metaKey) {\n      // const { sIndexes, eIndexes } = selector;\n      // let what = 'all';\n      // if (shiftKey) what = 'text';\n      // if (altKey) what = 'format';\n      switch (keyCode) {\n        case 90:\n          // undo: ctrl + z\n          this.undo();\n          evt.preventDefault();\n          break;\n        case 89:\n          // redo: ctrl + y\n          this.redo();\n          evt.preventDefault();\n          break;\n        case 67:\n          // ctrl + c\n          // => copy\n          // copy.call(this);\n          // evt.preventDefault();\n          break;\n        case 88:\n          // ctrl + x\n          cut.call(this);\n          evt.preventDefault();\n          break;\n        case 85:\n          // ctrl + u\n          toolbar.trigger(\"underline\");\n          evt.preventDefault();\n          break;\n        case 86:\n          // ctrl + v\n          // => paste\n          // evt.preventDefault();\n          break;\n        case 37:\n          // ctrl + left\n          selectorMove.call(this, shiftKey, \"row-first\");\n          evt.preventDefault();\n          break;\n        case 38:\n          // ctrl + up\n          selectorMove.call(this, shiftKey, \"col-first\");\n          evt.preventDefault();\n          break;\n        case 39:\n          // ctrl + right\n          selectorMove.call(this, shiftKey, \"row-last\");\n          evt.preventDefault();\n          break;\n        case 40:\n          // ctrl + down\n          selectorMove.call(this, shiftKey, \"col-last\");\n          evt.preventDefault();\n          break;\n        case 32:\n          // ctrl + space, all cells in col\n          selectorSet.call(this, false, -1, this.data.selector.ci, false);\n          evt.preventDefault();\n          break;\n        case 66:\n          // ctrl + B\n          toolbar.trigger(\"bold\");\n          break;\n        case 73:\n          // ctrl + I\n          toolbar.trigger(\"italic\");\n          break;\n        default:\n          break;\n      }\n    } else {\n      // console.log('evt.keyCode:', evt.keyCode);\n      switch (keyCode) {\n        case 32:\n          if (shiftKey) {\n            // shift + space, all cells in row\n            selectorSet.call(this, false, this.data.selector.ri, -1, false);\n          }\n          break;\n        case 27: // esc\n          contextMenu.hide();\n          clearClipboard.call(this);\n          break;\n        case 37: // left\n          selectorMove.call(this, shiftKey, \"left\");\n          evt.preventDefault();\n          break;\n        case 38: // up\n          selectorMove.call(this, shiftKey, \"up\");\n          evt.preventDefault();\n          break;\n        case 39: // right\n          selectorMove.call(this, shiftKey, \"right\");\n          evt.preventDefault();\n          break;\n        case 40: // down\n          selectorMove.call(this, shiftKey, \"down\");\n          evt.preventDefault();\n          break;\n        case 9: // tab\n          editor.clear();\n          // shift + tab => move left\n          // tab => move right\n          selectorMove.call(this, false, shiftKey ? \"left\" : \"right\");\n          evt.preventDefault();\n          break;\n        case 13: // enter\n          editor.clear();\n          // shift + enter => move up\n          // enter => move down\n          selectorMove.call(this, false, shiftKey ? \"up\" : \"down\");\n          evt.preventDefault();\n          break;\n        case 8: // backspace\n          insertDeleteRowColumn.call(this, \"delete-cell-text\");\n          evt.preventDefault();\n          break;\n        default:\n          break;\n      }\n\n      if (key === \"Delete\") {\n        insertDeleteRowColumn.call(this, \"delete-cell-text\");\n        evt.preventDefault();\n      } else if (\n        (keyCode >= 65 && keyCode <= 90) ||\n        (keyCode >= 48 && keyCode <= 57) ||\n        (keyCode >= 96 && keyCode <= 105) ||\n        evt.key === \"=\"\n      ) {\n        dataSetCellText.call(this, evt.key, \"input\");\n        editorSet.call(this);\n      } else if (keyCode === 113) {\n        // F2\n        editorSet.call(this);\n      }\n    }\n  });\n}\n\nexport default class Sheet {\n  constructor(targetEl, data, options = {}) {\n    this.options = options;\n    this.options.initialGridStatus = true;\n    this.eventMap = createEventEmitter();\n    const { view, showToolbar, showContextmenu } = data.settings;\n    this.el = h(\"div\", `${cssPrefix}-sheet`);\n    this.toolbar = new Toolbar(data, view.width, !showToolbar);\n    this.print = new Print(data);\n    targetEl.children(this.toolbar.el, this.el, this.print.el);\n    this.data = data;\n    // table\n    this.tableEl = h(\"canvas\", `${cssPrefix}-table`);\n    // resizer\n    this.rowResizer = new Resizer(false, data.rows.height);\n    this.colResizer = new Resizer(true, data.cols.minWidth);\n    // scrollbar\n    this.verticalScrollbar = new Scrollbar(true);\n    this.horizontalScrollbar = new Scrollbar(false);\n    // editor\n    this.editor = new Editor(\n      formulas,\n      () => this.getTableOffset(),\n      data.rows.height,\n      this.options\n    );\n    // data validation\n    this.modalValidation = new ModalValidation();\n    // contextMenu\n    this.contextMenu = new ContextMenu(() => this.getRect(), !showContextmenu);\n    // selector\n    this.selector = new Selector(data);\n    this.overlayerCEl = h(\"div\", `${cssPrefix}-overlayer-content`).children(\n      this.editor.el,\n      this.selector.el\n    );\n    this.overlayerEl = h(\"div\", `${cssPrefix}-overlayer`).child(\n      this.overlayerCEl\n    );\n    // sortFilter\n    this.sortFilter = new SortFilter();\n    // root element\n    this.el.children(\n      this.tableEl,\n      this.overlayerEl.el,\n      this.rowResizer.el,\n      this.colResizer.el,\n      this.verticalScrollbar.el,\n      this.horizontalScrollbar.el,\n      this.contextMenu.el,\n      this.modalValidation.el,\n      this.sortFilter.el\n    );\n    // table\n    this.table = new Table(this.tableEl.el, data, this.options);\n    this.sheetContext = new SheetContext(\n      this.table,\n      this.toolbar,\n      data,\n      options\n    );\n    sheetInitEvents.call(this);\n    sheetReset.call(this);\n    // init selector [0, 0]\n    selectorSet.call(this, false, 0, 0);\n  }\n\n  on(eventName, func) {\n    this.eventMap.on(eventName, func);\n    return this;\n  }\n\n  trigger(eventName, ...args) {\n    const { eventMap } = this;\n    eventMap.fire(eventName, args);\n  }\n\n  resetData(data) {\n    // before\n    this.editor.clear();\n    // after\n    this.data = data;\n    verticalScrollbarSet.call(this);\n    horizontalScrollbarSet.call(this);\n    this.toolbar.resetData(data);\n    this.print.resetData(data);\n    this.selector.resetData(data);\n    this.table.resetData(data);\n    this.sheetContext.resetState(data);\n  }\n\n  loadData(data) {\n    this.data.setData(data);\n    sheetReset.call(this);\n    return this;\n  }\n\n  // freeze rows or cols\n  freeze(ri, ci) {\n    const { data } = this;\n    data.setFreeze(ri, ci);\n    sheetReset.call(this);\n    return this;\n  }\n\n  undo() {\n    this.data.undo();\n    sheetReset.call(this);\n  }\n\n  redo() {\n    this.data.redo();\n    sheetReset.call(this);\n  }\n\n  reload() {\n    sheetReset.call(this);\n    return this;\n  }\n\n  getRect() {\n    const { data } = this;\n    return { width: data.viewWidth(), height: data.viewHeight() };\n  }\n\n  getTableOffset() {\n    const { rows, cols } = this.data;\n    const { width, height } = this.getRect();\n    return {\n      width: width - cols.indexWidth,\n      height: height - rows.height,\n      left: cols.indexWidth,\n      top: rows.height,\n    };\n  }\n}\n","import { h } from \"./element\";\nimport { bindClickoutside, unbindClickoutside } from \"./event\";\nimport { cssPrefix } from \"../config\";\nimport Icon from \"./icon\";\nimport FormInput from \"./form_input\";\nimport Dropdown from \"./dropdown\";\n// Record: temp not used\n// import { xtoast } from './message';\nimport { tf } from \"../locale/locale\";\n\nclass DropdownMore extends Dropdown {\n  constructor(click) {\n    const icon = new Icon(\"ellipsis\");\n    super(icon, \"auto\", false, \"top-left\");\n    this.contentClick = click;\n  }\n\n  reset(items) {\n    const eles = items.map((it, i) =>\n      h(\"div\", `${cssPrefix}-item`)\n        .css(\"width\", \"150px\")\n        .css(\"font-weight\", \"normal\")\n        .on(\"click\", () => {\n          this.contentClick(i);\n          this.hide();\n        })\n        .child(it),\n    );\n    this.setContentChildren(...eles);\n  }\n\n  setTitle() {}\n}\n\nconst menuItems = [{ key: \"delete\", title: tf(\"contextmenu.deleteSheet\") }];\n\nfunction buildMenuItem(item) {\n  return h(\"div\", `${cssPrefix}-item`)\n    .child(item.title())\n    .on(\"click\", () => {\n      this.itemClick(item.key);\n      this.hide();\n    });\n}\n\nfunction buildMenu() {\n  return menuItems.map((it) => buildMenuItem.call(this, it));\n}\n\nclass ContextMenu {\n  constructor() {\n    this.el = h(\"div\", `${cssPrefix}-contextmenu`)\n      .css(\"width\", \"160px\")\n      .children(...buildMenu.call(this))\n      .hide();\n    this.itemClick = () => {};\n  }\n\n  hide() {\n    const { el } = this;\n    el.hide();\n    unbindClickoutside(el);\n  }\n\n  setOffset(offset) {\n    const { el } = this;\n    el.offset(offset);\n    el.show();\n    bindClickoutside(el);\n  }\n}\n\nexport default class Bottombar {\n  constructor(\n    addFunc = () => {},\n    swapFunc = () => {},\n    deleteFunc = () => {},\n    updateFunc = () => {},\n  ) {\n    this.swapFunc = swapFunc;\n    this.updateFunc = updateFunc;\n    this.dataNames = [];\n    this.activeEl = null;\n    this.deleteEl = null;\n    this.items = [];\n    this.moreEl = new DropdownMore((i) => {\n      this.clickSwap2(this.items[i]);\n    });\n    this.contextMenu = new ContextMenu();\n    this.contextMenu.itemClick = deleteFunc;\n    this.el = h(\"div\", `${cssPrefix}-bottombar`).children(\n      this.contextMenu.el,\n      (this.menuEl = h(\"ul\", `${cssPrefix}-menu`).child(\n        h(\"li\", \"\").children(\n          new Icon(\"add\").on(\"click\", () => {\n            addFunc();\n          }),\n          h(\"span\", \"\").child(this.moreEl),\n        ),\n      )),\n    );\n  }\n\n  addItem(name, active, options) {\n    this.dataNames.push(name);\n    const item = h(\"li\", active ? \"active\" : \"\").child(name);\n    item\n      .on(\"click\", () => {\n        this.clickSwap2(item);\n      })\n      .on(\"contextmenu\", (evt) => {\n        if (options.mode === \"read\") return;\n        const { offsetLeft, offsetHeight } = evt.target;\n        this.contextMenu.setOffset({\n          left: offsetLeft,\n          bottom: offsetHeight + 1,\n        });\n        this.deleteEl = item;\n      })\n      .on(\"dblclick\", () => {\n        if (options.mode === \"read\") return;\n        const v = item.html();\n        const input = new FormInput(\"auto\", \"\");\n        input.val(v);\n        input.input.on(\"blur\", ({ target }) => {\n          const { value } = target;\n          const nindex = this.dataNames.findIndex((it) => it === v);\n          this.renameItem(nindex, value);\n          /*\n        this.dataNames.splice(nindex, 1, value);\n        this.moreEl.reset(this.dataNames);\n        item.html('').child(value);\n        this.updateFunc(nindex, value);\n        */\n        });\n        item.html(\"\").child(input.el);\n        input.focus();\n      });\n    if (active) {\n      this.clickSwap(item);\n    }\n    this.items.push(item);\n    this.menuEl.child(item);\n    this.moreEl.reset(this.dataNames);\n  }\n\n  renameItem(index, value) {\n    this.dataNames.splice(index, 1, value);\n    this.moreEl.reset(this.dataNames);\n    this.items[index].html(\"\").child(value);\n    this.updateFunc(index, value);\n  }\n\n  clear() {\n    this.items.forEach((it) => {\n      this.menuEl.removeChild(it.el);\n    });\n    this.items = [];\n    this.dataNames = [];\n    this.moreEl.reset(this.dataNames);\n  }\n\n  deleteItem() {\n    const { activeEl, deleteEl } = this;\n    if (this.items.length > 1) {\n      const index = this.items.findIndex((it) => it === deleteEl);\n      this.items.splice(index, 1);\n      this.dataNames.splice(index, 1);\n      this.menuEl.removeChild(deleteEl.el);\n      this.moreEl.reset(this.dataNames);\n      if (activeEl === deleteEl) {\n        const [f] = this.items;\n        this.activeEl = f;\n        this.activeEl.toggle();\n        return [index, 0];\n      }\n      return [index, -1];\n    }\n    return [-1];\n  }\n\n  clickSwap2(item) {\n    const index = this.items.findIndex((it) => it === item);\n    this.clickSwap(item);\n    this.activeEl.toggle();\n    this.swapFunc(index);\n  }\n\n  clickSwap(item) {\n    if (this.activeEl !== null) {\n      this.activeEl.toggle();\n    }\n    this.activeEl = item;\n  }\n}\n","/* global window, document */\nimport { h } from \"./component/element\";\nimport DataProxy from \"./core/data_proxy\";\nimport Sheet from \"./component/sheet\";\nimport Bottombar from \"./component/bottombar\";\nimport { cssPrefix } from \"./config\";\nimport { locale } from \"./locale/locale\";\nimport \"./index.less\";\n\nclass Spreadsheet {\n  constructor(selectors, options = {}) {\n    let targetEl = selectors;\n    this.options = { showBottomBar: true, ...options };\n    this.sheetIndex = 1;\n    this.datas = [];\n    if (typeof selectors === \"string\") {\n      targetEl = document.querySelector(selectors);\n    }\n    this.bottombar = this.options.showBottomBar\n      ? new Bottombar(\n          () => {\n            if (this.options.mode === \"read\") return;\n            const d = this.addSheet();\n            this.sheet.resetData(d);\n          },\n          (index) => {\n            const d = this.datas[index];\n            this.sheet.resetData(d);\n          },\n          () => {\n            this.deleteSheet();\n          },\n          (index, value) => {\n            this.datas[index].name = value;\n            this.sheet.trigger(\"change\");\n          },\n        )\n      : null;\n    this.data = this.addSheet();\n    const rootEl = h(\"div\", `${cssPrefix}`).on(\"contextmenu\", (evt) =>\n      evt.preventDefault(),\n    );\n    // create canvas element\n    targetEl.appendChild(rootEl.el);\n    this.sheet = new Sheet(rootEl, this.data, this.options);\n    if (this.bottombar !== null) {\n      rootEl.child(this.bottombar.el);\n    }\n  }\n\n  addSheet(name, active = true) {\n    const n = name || `sheet${this.sheetIndex}`;\n    const d = new DataProxy(n, this.options);\n    d.change = (...args) => {\n      this.sheet.trigger(\"change\", ...args);\n    };\n    this.datas.push(d);\n    // console.log('d:', n, d, this.datas);\n    if (this.bottombar !== null) {\n      this.bottombar.addItem(n, active, this.options);\n    }\n    this.sheetIndex += 1;\n    return d;\n  }\n\n  deleteSheet() {\n    if (this.bottombar === null) return;\n\n    const [oldIndex, nindex] = this.bottombar.deleteItem();\n    if (oldIndex >= 0) {\n      this.datas.splice(oldIndex, 1);\n      if (nindex >= 0) this.sheet.resetData(this.datas[nindex]);\n      this.sheet.trigger(\"change\");\n    }\n  }\n\n  loadData(data) {\n    const ds = Array.isArray(data) ? data : [data];\n    if (this.bottombar !== null) {\n      this.bottombar.clear();\n    }\n    this.datas = [];\n    if (ds.length > 0) {\n      for (let i = 0; i < ds.length; i += 1) {\n        const it = ds[i];\n        const nd = this.addSheet(it.name, i === 0);\n        nd.setData(it);\n        if (i === 0) {\n          this.sheet.resetData(nd);\n        }\n      }\n    }\n    return this;\n  }\n\n  getData() {\n    return this.datas.map((it) => it.getData());\n  }\n\n  cellText(ri, ci, text, sheetIndex = 0) {\n    this.datas[sheetIndex].setCellText(ri, ci, text, \"finished\");\n    return this;\n  }\n\n  cell(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCell(ri, ci);\n  }\n\n  cellStyle(ri, ci, sheetIndex = 0) {\n    return this.datas[sheetIndex].getCellStyle(ri, ci);\n  }\n\n  reRender() {\n    this.sheet.table.render();\n    return this;\n  }\n\n  on(eventName, func) {\n    this.sheet.on(eventName, func);\n    return this;\n  }\n\n  validate() {\n    const { validations } = this.data;\n    return validations.errors.size <= 0;\n  }\n\n  change(cb) {\n    this.sheet.on(\"change\", cb);\n    return this;\n  }\n\n  static locale(lang, message) {\n    locale(lang, message);\n  }\n}\n\nconst spreadsheet = (el, options = {}) => new Spreadsheet(el, options);\n\nif (window) {\n  window.x_spreadsheet = spreadsheet;\n  window.x_spreadsheet.locale = (lang, message) => locale(lang, message);\n}\n\nexport default Spreadsheet;\nexport { spreadsheet };\n"],"sourceRoot":""}